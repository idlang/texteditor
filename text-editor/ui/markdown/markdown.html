<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Markdown Text Editor</title>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="../../ui/ui.min.css" rel="stylesheet">
    <style>
    body {
      background:#fff;
      font-family:Helmet,FreeSans,Sans-Serif;
      font-size:14px;
      color:#000;
      padding:5em;
    }
    pre {
      background:#eef;
      padding:.5em;
      overflow:auto;
    }
    mark {
      background:#ff0;
      color:#000;
    }
    .text-editor-content {height:400px}
    </style>
  </head>
  <body>
    <h1>Markdown Text Editor</h1>
    <div>
      <h2>Tips</h2>
      <ol>
        <li>To create implicit link name shortcut, select some text, click the link button, remove all placeholder in the prompt value, then submit.</li>
        <li>To create reference&ndash;style links, select some text, click the link button, type a link ID in the prompt value, then submit.</li>
        <li>To create reference&ndash;style images, select some text, click the image button, type an image ID in the prompt value, then submit.</li>
        <li>To create automatic link syntax, select some text started with <code>http://</code> or <code>https://</code>, then click the link button.</li>
        <li>Default abbreviations can be defined in the <code>config.states.abbr</code>.</li>
        <li>Default reference links and images can be defined in the <code>config.states.a</code> and <code>config.states.img</code> (see the source code of this page).</li>
      </ol>
    </div>
    <form action="#">
      <p><textarea></textarea></p>
      <p>
        <strong>Theme:</strong>
        <select id="select-css">
          <option value="../ui/ui.white.min.css">White</option>
          <option value="../ui/ui.black.min.css">Black</option>
          <option value="../ui/ui.1960.min.css">1960</option>
          <option value="../ui/ui.fam-fam-fam.min.css">Fam Fam Fam</option>
          <option value="">None</option>
        </select>
      </p>
      <script>
      // dynamic stylesheet
      var css = document.querySelector('#select-css');
      function select_css() {
          var link = document.createElement('link'),
              value = this.value || css.value, o;
          link.id = 'the-css';
          link.rel = 'stylesheet';
          link.href = value;
          if (o = document.querySelector('#the-css')) {
              o.parentNode.removeChild(o);
          }
          value && document.querySelector('head').appendChild(link);
      }
      select_css();
      css.onchange = select_css;
      </script>
    </form>
    <div>
      <h2>Keyboard Shortcuts</h2>
      <ul>
        <li><kbd>&#8984;+b</kbd> &rarr; Bold</li>
        <li><kbd>&#8984;+g</kbd> &rarr; Image</li>
        <li><kbd>&#8984;+h</kbd> &rarr; Header</li>
        <li><kbd>&#8984;+i</kbd> &rarr; Italic</li>
        <li><kbd>&#8984;+k</kbd> &rarr; Code</li>
        <li><kbd>&#8984;+l</kbd> &rarr; Link</li>
        <li><kbd>&#8984;+q</kbd> &rarr; Quote</li>
        <li><kbd>&#8984;+r</kbd> &rarr; Horizontal Rule</li>
        <li><kbd>&#8984;+t</kbd> &rarr; Table</li>
        <li><kbd>&#8984;+y</kbd> &rarr; Redo</li>
        <li><kbd>&#8984;+z</kbd> &rarr; Undo</li>
        <li><kbd>&#8984;++</kbd> &rarr; List</li>
        <li><kbd>&#8984;+-</kbd> &rarr; Bullet</li>
        <li><kbd>&#8984;+&darr;</kbd> &rarr; Footnote</li>
        <li><kbd>&#8984;+&uarr;</kbd> &rarr; Footnote</li>
        <li><kbd>&#8984;+&#10008;</kbd> &rarr; Strike</li>
        <li><kbd>&#8984;+&#8629;</kbd> &rarr; Paragraph</li>
        <li><kbd>&#8984;+&#8679;+?</kbd> &rarr; Abbreviation</li>
        <li><kbd>&#8679;+&#8629;</kbd> &rarr; Line Break (Hard Break)</li>
        <li><kbd>&#8677;</kbd> &rarr; Indent &amp; <em>Depends</em></li>
        <li><kbd>&#8679;+&#8677;</kbd> &rarr; Outdent &amp; Depends</li>
        <li><kbd>&#8629;</kbd> &rarr; <em>Depends</em></li>
        <li><kbd>&#9003;</kbd> &rarr; <em>Depends</em></li>
      </ul>
      <h3>Depends &rarr; Special Cases</h3>
      <p>Try pressing the <kbd>&#8629;</kbd> key in these position, where <code><mark>|</mark></code> represent the text editor caret.</p>
      <pre><code>    <mark>|</mark></code></pre>
      <pre><code>&gt; abc<mark>|</mark></code></pre>
      <pre><code>&gt; &gt; abc<mark>|</mark></code></pre>
      <pre><code>&gt; <mark>|</mark></code></pre>
      <pre><code>&gt; &gt; <mark>|</mark></code></pre>
      <pre><code> - abc<mark>|</mark></code></pre>
      <pre><code> - <mark>|</mark></code></pre>
      <pre><code> 1. abc<mark>|</mark></code></pre>
      <pre><code> 1. <mark>|</mark></code></pre>
      <pre><code>"<mark>|</mark>"</code></pre>
      <pre><code>'<mark>|</mark>'</code></pre>
      <pre><code>(<mark>|</mark>)</code></pre>
      <pre><code>{<mark>|</mark>}</code></pre>
      <pre><code>[<mark>|</mark>]</code></pre>
      <pre><code>&lt;<mark>|</mark>&gt;</code></pre>
      <pre><code>`<mark>|</mark>`</code></pre>
      <p>Try pressing the <kbd>&#8677;</kbd> key in these position, where <code><mark>|</mark></code> represent the text editor caret.</p>
      <pre><code> 1. <mark>|</mark></code></pre>
      <pre><code> - <mark>|</mark></code></pre>
      <pre><code> + <mark>|</mark></code></pre>
      <pre><code> * <mark>|</mark></code></pre>
      <pre><code>&gt; <mark>|</mark></code></pre>
      <pre><code><mark>&gt; abc
&gt; def
&gt; hij</mark></code></pre>
      <p>Try pressing the <kbd>&#8679;+&#8677;</kbd> key in these position, where <code><mark>|</mark></code> represent the text editor caret.</p>
      <pre><code>    1. <mark>|</mark></code></pre>
      <pre><code>   - <mark>|</mark></code></pre>
      <pre><code>   + <mark>|</mark></code></pre>
      <pre><code>   * <mark>|</mark></code></pre>
      <pre><code>&gt; &gt; <mark>|</mark></code></pre>
      <pre><code><mark>&gt; &gt; abc
&gt; &gt; def
&gt; &gt; hij</mark></code></pre>
      <p>Try pressing the <kbd>&#9003;</kbd> key in these position, where <code><mark>|</mark></code> represent the text editor caret.</p>
      <pre><code>    <mark>|</mark></code></pre>
    </div>
    <script src="../../../text-editor.min.js"></script>
    <script src="../../ui/ui.min.js"></script>
    <script src="../html/html.min.js"></script>
    <script src="markdown.min.js"></script>
    <script>

    var editor = TE.ui.Markdown(document.querySelector('textarea'), {
        extra: true,
        states: {
            a: {
                1: ['http://example.com', 'Example Site Title'],
                2: ['http://example.com']
            },
            img: {
                1: ['http://example.com/image.jpg', 'Example Site Image Title'],
                2: ['http://example.com/image.jpg']
            },
            abbr: {
                'CSS': 'Cascading Style Sheet',
                'HTML': 'Hyper Text Markup Language',
                'JS': 'JavaScript'
            }
        }
    });

    </script>
  </body>
</html>