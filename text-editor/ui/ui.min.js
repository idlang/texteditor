/*!
 * ==========================================================
 *  USER INTERFACE MODULE FOR TEXT EDITOR PLUGIN 1.2.4
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
TE.prototype.ui=function(e){function Z(e,t,r){return x(e)?x(t)?(x(q[e])||(q[e]={}),x(r)||(r=Object.keys(q[e]).length),q[e][r]=t,s):q[e]:q}function J(e,t){return x(e)?x(t)&&x(q[e])?(delete q[e][t],s):(q[e]={},s):(q={},s)}function V(e,t,r){if(!x(q[e]))return q[e]={},s;if(x(r))x(q[e][r])&&q[e][r].apply(s,t);else for(var n in q[e])q[e][n].apply(s,t);return s}function ee(e){return e&&e.preventDefault(),!1}function te(e,t,r){return t?(t.addEventListener(e,r,!1),Z("on:"+e,r,Pe(t)),s):void 0}function re(e,t,r){return t?(t.removeEventListener(e,r,!1),J("on:"+e,Pe(t)),s):void 0}function ne(e,t,r){if("createEvent"in a){var n=a.createEvent("HTMLEvents");n.data=r,n.initEvent(e,!0,!1),t.dispatchEvent(n)}else V("on:"+e,r,Pe(t));return s}function ie(e,t,r){e=b(e).split(/\s+/);for(var n=0,i=e.length;i>n;++n)te(e[n],t,r);return s}function oe(e,t,r){e=b(e).split(/\s+/);for(var n=0,i=e.length;i>n;++n)re(e[n],t,r);return s}function le(e,t,r){e=b(e).split(/\s+/);for(var n=0,i=e.length;i>n;++n)ne(e[n],t,r);return s}function ae(e,t){return setTimeout(e,t)}function se(e){return clearTimeout(e)}function fe(e,t,r){for(var o,n=0,i=t.length;i>n;++n)o=t[n],e=e.replace(w(o)?o:h(u(o),"g"),r&&r[n]||"");return e}function ue(e,t){return e.replace(/%(\d+)/g,function(e,r){return--r,x(t[r])?t[r]:e})}function ce(e){return b(fe(e,[/[^ \/a-z\d-]/g,/([ -])+/g,/^-|-$/g],["-","$1",""]))}function pe(e,t){var r=t.touches?t.touches[0].pageX:t.pageX,n=t.touches?t.touches[0].pageY:t.pageY,i=de(e);return{x:r-i.l,y:n-i.t}}function de(e){for(var t=e.offsetLeft,r=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,r+=e.offsetTop;return{l:t,t:r}}function he(e){return{w:e.offsetWidth,h:e.offsetHeight}}function be(e,t){for(;(e=Ge(e))&&e!==t;);return e}function Re(e,t,r){if(e=$(e)?a.createElement(e):e,y(r)){var n,i;for(i in r)n=r[i],"style"===i?$(n)?e.setAttribute(i,n):null===n?e.removeAttribute(i):e=Ye(e,n):v(n)?e[i]=n:null===n?e.removeAttribute(i):e.setAttribute(i,y(n)?n.join(" "):""+n)}if(m(t))e.appendChild(t);else if(y(t)){var n,i;for(i in t)n=t[i],m(n)?e.appendChild(n):n!==!1&&(e.innerHTML=n)}else x(t)&&t!==!1&&(e.innerHTML=t);return e}function Pe(e){var t=e.id;return t||(t=ve+"-dom:"+(new Date).getTime(),e.id=t),t}function Ye(e,t){e=Re(e);for(var r in t)e.style[r.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]=t[r];return e}function Fe(e,t){return h("(^|\\s)"+t+"(\\s|$)").test(e.className)}function We(e,t){Fe(e,t)||(e.className=b(e.className+" "+t))}function Qe(e,t){e.className=b(e.className.replace(h("(^|\\s)"+t+"(\\s|$)"),"$1$2"))}function Ke(e,t){e.innerHTML=t}function Xe(e,t){if(t!==!1){var n,r=e.children;for(n in r)Xe(r[n])}Ke(e,"")}function Ge(e){return e.parentElement||e.parentNode}function Ze(e){return e.children||[]}function Je(e,t){var r=Ge(e);return 1===arguments.length?r||!1:e&&r===e?r:!1}function Ve(e,t){Ge(e).insertBefore(t,e)}function nt(e,t){e.appendChild(t)}function it(e,t){var r=Je(e);if(r){if(t!==!1)for(var n=Ze(e)[0];n;)it(n);r.removeChild(e)}}function ot(e){Xe(Re(e,!1,{style:""})),it(e)}function lt(e,t,r){return Re(t||"div",r,{"class":e})}function at(){if(we._word&&we._words){var e=(Le.value||"").replace(h(X[0]+"[^"+X[0]+X[1]+"]+?"+X[1],"g"),""),t=(e.match(/(\w+)/g)||[]).length;Ke(Ue,ue(we["_word"+(1===t?"":"s")],[t]))}}function st(){Xe(qe,!1);var n,i,o,l,a,f,e=$(C.tools)?b(C.tools).split(/\s+/):C.tools,t=ve+"-button",r=ve+"-separator";C.tools=e;for(a in e)if(f=e[a],i=ge.tools[f]){if(v(i)&&(i.click=i),i.title=ke[f]||"","|"!==(o=i.i||f)&&(o=ce(o)),l="|"!==o,Be=lt(l?t:r,l?"a":"span"),l){if(n=t+":"+ce(f).replace(/\s/g,""),Be.href="",Be.id=n,Be.tabIndex=-1,Be.setAttribute(G,f),o='<i class="'+ue(me.i,[o])+" "+n+'"></i>',x(i.active)?i.active||We(Be,"x"):i.active=1,i.text&&(o=ue('<span class="'+ve+'-text">'+i.text+"</span>",[o]),We(Be,"text")),Ke(Be,o),i.title){var u=i.title;Be.title=y(u)?u[0]+(u[1]?" ("+u[1]+")":""):u}y(i.attributes)&&Re(Be,!1,i.attributes),ie(j,Be,gt)}nt(qe,Be)}V("update.tools",[s])}function ft(){ge.keys=function(){var r,e=Object.keys(ge.keys).sort().reverse(),t={};for(r=0,len=e.length;r<len;++r)t[e[r]]=ge.keys[e[r]];return t}(),ht(1),V("update.keys",[s])}function ut(e){at(),V("on:change",[e,s])}function dt(e){function y(e){return e.replace(/\+/g,"\n").replace(/\n\n/g,"\n+").split("\n")}var p,d,b,g,m,k,t=s.$(),r=t.before,n=t.after,i=r.slice(-1),o=n[0],l=t.length,a=ge.keys,f=TE.keys_alias,c=(r.match(/(?:^|\n)([\t ]*).*$/)||[""]).pop(),v=e.TE.key();ct[v]=1,k=Object.keys(ct).length,ae(function(){s.record()},1);for(p in a){var w=0;b=y(p);for(d in b)d=b[d],ct[f[d]||d]&&++w;if(b=b.length,w===b&&k===b&&($(a[p])&&(a[p]=ge.tools[a[p]].click),g=a[p]&&a[p](e,s),g===!1))return ee(e)}if(Q)for(p in Q)if(m=Q[p],m!==!1){if(v===m&&o===m)return"\\"===i?(s.insert(v,-1),ee(e)):(s.select(t.end+1),ee(e));if(p===v)return s.wrap(p,m),ee(e);if(i===p&&o===m){if("backspace"===v&&r.slice(-2)!=="\\"+p)return s.unwrap(p,m),ee(e);if(W&&"enter"===v&&p!==m)return s.tidy("\n"+c+F,"\n"+c).scroll(!0),ee(e)}}if(W&&!l){if("backspace"===v&&h(u(F)+"$").test(r))return s.outdent(F).scroll(!0),ee(e);if("enter"===v&&h("(^|\\n)("+u(F)+")+.*$").test(r))return s.insert("\n"+c,-1,1).scroll(!0),ee(e)}}function ht(e){y(e)?delete ct[e.TE.key()]:ct={}}function bt(e){/^focus|blur$/.test(e.type)&&ht(1),se(pt),pt=ae(function(){ut(e)},250)}function gt(e){ge.exit(0,0,0);var t=this.getAttribute(G),r=ge.tools;return Ae=e.currentTarget||e.target,r[t]&&r[t].click&&r[t].active?(r[t].click(e,s,t),V("on:change",[e,s,t])):s.select(),ee(e)}function Et(e){return mt=Ce,_t=he(Ee),ee(e)}function qt(e){mt===Ce&&Ye(Le,{height:pe(_e,e).y-_t.h+"px"})}function Lt(){mt=0}function Ct(){ge.exit(1)}function Ht(){e=he(ze),yt=e.w,wt=e.h,e=he(Oe),$t=e.w,xt=e.h}function Ot(e,t){t&&V("exit.modal."+t,[s]),le(j,Oe,[e])}function zt(t){mt=t.target,e=pe(ze,t),vt=e.x,kt=e.y,Ht()}function It(t){var i,o,r=Tt.header,n=Tt.resize;mt===r||be(mt,r)===r?(e=pe(_e,t),i=e.x-vt,o=e.y-kt,Ye(ze,{left:(yt>$t?i:d(i,0,$t-yt))+"px",top:(wt>xt?o:d(o,0,xt-wt))+"px"})):mt===n&&(e=pe(ze,t),_t=he(n),Ye(ze,{width:e.x+_t.w/4+"px",height:e.y+_t.h/4+"px"}))}function Mt(){mt=0}function St(e,t,r){return{header:e,body:t,footer:r}}function Ut(e){var t=Ae,n=e&&e.target||0;(!n||n!==t&&be(n,t)!==t)&&(Ae=0,ot(Ie),oe(j,E,Ut),ge.exit(1))}function jt(e){function i(){var e=Oe.firstChild;e&&(e=he(e),Ye(n,{width:e.w+"px",height:e.h+"px"}))}var n,t=s.get(),r="";return-1===t.indexOf("</html>")&&(r='<!DOCTYPE html><html dir="'+C.dir+'"><head><meta charset="utf-8"><style>'+C.css+"</style></head><body>"+t+"</body></html>"),n=Re("iframe",!1,{"class":ve+"-portal",src:"data:text/html,"+encodeURIComponent(r)}),!Je(Oe)&&t?ge.overlay(n,1,function(){i(),ie(R,l,i),V("enter.overlay.preview",[e,s,[t,r],Oe.firstChild])}):(oe(R,l,i),Ct()),ee(e)}var t="⌘",r="…",i="⇥",o="⇧",l=window,a=document,s=this,f=s._,u=f.x,c=f.extend,p=f.css,d=f.edge,h=f.pattern,b=f.trim,g=s.is,m=g.e,v=g.f,k=g.i,y=g.o,w=g.r,$=g.s,x=function(e){return!g.x(e)},T=a.documentElement,E=(a.head,a.body),q={},L=function(){},C=c({tab:"  ",dir:"ltr",keys:1,tools:"indent outdent | undo redo",attributes:{spellcheck:"false"},css:"html,body{background:#fff;color:#000}",unit:[[["<",">","/"],["=",'"','"'," "]],[["\\u003C","\\u003E","\\u002F"],["\\u003D","\\u0022","\\u0022","\\u0020"]]],suffix:0,auto_tab:1,auto_close:{'"':'"',"'":"'","(":")","{":"}","[":"]","<":">"},languages:{tools:{undo:["Undo",t+"+Z"],redo:["Redo",t+"+Y"],indent:["Indent",i],outdent:["Outdent",o+"+"+i],preview:["Preview","F5"]},buttons:{okay:"OK",cancel:"Cancel",yes:"Yes",no:"No",enter:"Enter",exit:"Exit",open:"Open",close:"Close",ignore:"Ignore"},placeholders:{"":"text here"+r},others:{preview:"Preview",_word:"%1 Word",_words:"%1 Words"}},classes:{"":"text-editor",i:"icon icon-%1 fa fa-%1"}},e),H="keydown",O="keyup",z="copy",I="cut",M="paste",S="touchstart mousedown",U="touchend mouseup",N="touchmove mousemove",j="click",A="focus",B="blur",D="input",R="orientationchange resize",P=B+" "+z+" "+I+" "+A+" "+D+" "+H+" "+M,Y=C.languages,F=C.tab,W=C.auto_tab,Q=C.auto_close,K=C.unit[0][0],X=C.unit[1][0],G="data-tool-id",ge=s.ui={};s.tidy=function(e,t){var r=s.$(),n=b(r.before)?e:"",i=b(r.after)?x(t)?t:e:"";return s.trim(n,i)},s.i=function(){return b(s.replace(/\s+/g," "))},s.format=function(e,t,r,n){y(e)||(e=[e]),x(r)||(r=" "),x(n)||(n="");var i=s[0]().$(),o=(e[0]?K[0]+e[0]+K[1]:"")+n,l=n+(e[0]?K[0]+K[2]+(e[1]||e[0].split(C.unit[0][1][3])[0])+K[1]:""),a=u(o),f=u(l),c=h("^"+a+"([\\s\\S]*?)"+f+"$"),p=h(a+"$"),d=h("^"+f),b=i.before,g=i.after;return i.length?r=!1:s.insert(Y.placeholders[""]),s.toggle(t?!c.test(i.value):!p.test(b)&&!d.test(g),[function(e){e.unwrap(o,l,1).tidy(h(X[0]+"[^"+X[0]+X[1]+X[2]+"]+?"+X[1]+"$").test(b)?"":r,h("^"+X[0]+X[2]+"[^"+X[0]+X[1]+"]+?"+X[1]).test(g)?"":r).wrap(o,l,t)[1]()},function(e){e.unwrap(o,l,t)[1]()}])};var Be,me=C.classes,ve=me[""],ke=Y.tools,ye=Y.buttons,we=Y.others,$e=ve+"-textarea "+ve+"-content block",xe=lt(ve),Te=lt(ve+"-header"),_e=lt(ve+"-body"),Ee=lt(ve+"-footer"),qe=lt(ve+"-tool"),Le=Re(s.target,!1,C.attributes),Ce=lt(ve+"-resize s"),He=lt(ve+"-description"),Oe=lt(ve+"-overlay"),ze=Re("div"),Ie=Re("div"),Me=Re("div"),Se=lt("left","span"),Ue=lt("right","span"),Ne=lt(ve+"-preview","a"),je=0,Ae=0;C.suffix||(C.suffix=K[1]);var ct={},pt=null;s.create=function(e,t){y(e)&&(C=c(C,e));var r=Je(Le);if(We(Le,$e),r&&"P"===r.nodeName?(Ve(r,xe),je=r,it(r,!1)):Ve(Le,xe),xe.dir=C.dir,nt(xe,Te),nt(xe,_e),nt(xe,Ee),nt(xe,Ce),nt(_e,Le),C.tools&&(nt(Te,qe),nt(Ee,He),nt(He,Se),nt(He,Ue)),ie(H,Le,dt),ie(O,Le,ht),ie(P,Le,bt),ie(S,Ce,Et),ie(N,E,qt),ie(U,E,Lt),we.preview){var n=ke.preview;Ne.href="",Ne.title=y(n)?n[0]+(n[1]?" ("+n[1]+")":""):n,nt(Se,Ne),Ke(Ne,we.preview)}return ut(null),st(),ft(),0!==t?V("create",[s]):s},s.update=function(e,t){return Fe(Le,$e)&&s.destroy(0),(0!==t?V("update",[s]):s).create(e,0)},s.destroy=function(e){return Fe(Le,$e)?(ge.exit(0,0,0),Qe(Le,$e),y(C.tools)&&(C.tools=C.tools.join(" ")),C.keys&&(oe(H,Le,dt),oe(O,Le,ht)),oe(S,Ce,Et),oe(N,E,qt),oe(U,E,Lt),oe(P,Le,bt),je?(Ve(xe,je),nt(je,Le),je=0):Ve(xe,Le),ot(xe),0!==e?V("destroy",[s]):s):s};var e,_t,mt=0,vt=0,kt=0,yt=0,wt=0,$t=0,xt=0,Tt={};ge.exit=function(e,t,r){var i,n={overlay:function(){oe(j,Oe,Ct),ot(Oe)},modal:function(){oe(S,_e,zt),oe(N,_e,It),oe(U,E,Mt),oe(j,Tt.x,Ot),ot(ze)},drop:function(){ot(Ie)},bubble:function(){ot(Me)}};if(t)if(y(t))for(i in t)i=t[i],n[i]&&n[i](),0!==r&&V("exit."+i,[s]);else n[t]&&n[t](),0!==r&&V("exit."+i,[s]);else for(i in n)n[i]();return e&&s.select(),0!==r&&V("exit",[s]),s},ge.overlay=function(e,t,r){return ge.exit(0,"bubble",0),ht(1),nt(_e,Re(Oe,e.length||m(e)?lt(ve+"-overlay-content","div",e):"")),t&&ie(j,Oe,Ct),v(r)?r(Oe):Re(Oe,r),V("enter.overlay",[s])},ge.modal=function(){ge.exit(0,0,0);var o,e=arguments,t=e[0],r=e[1],n=e[2],i=ve+"-modal";y(t)&&(t="default",r=e[0],n=e[1]),Re(ze,!1,{"class":i+" "+t}),x(r.body)&&(r.body=Re("div",r.body,{"class":i+"-content "+t}));for(o in r)i[1]=o,Tt[o]=lt(i+"-"+ue(o,i)+" "+t,0,r[o]);Tt.x=lt(ve+"-x "+t),Tt.resize=lt(ve+"-resize se "+t),Xe(ze),nt(_e,Re(ze,Tt,{style:""})),ge.overlay("",1),Ht();var a=xt/2-wt/2,f=$t/2-yt/2;return Ye(ze,{top:d(a,0)+"px",left:d(f,0)+"px","min-width":yt+"px","min-height":wt+"px",visibility:"visible"}),ie(j,Tt.x,Ot),ie(S,Tt.header,ee),ie(S,Tt.resize,ee),ie(S,_e,zt),ie(N,_e,It),ie(U,E,Mt),v(n)&&(Tt.overlay=Oe,Tt.modal=ze,n(Tt)),V("enter.modal."+t,[s]),V("enter.modal",[s]),s};var Nt={"class":ve+"-button"};return ge.alert=function(e,t,r,n){var i=Re("button",ye.okay,Nt),o="alert";return r=r||L,y(e)&&(o+=":"+e[0],e=e[1]||e[0]),ie(j,i,function(e){return r(e,s),Ot(e,o+".y"),ee(e)}),ie(H,i,function(e){var t=e.TE.key;return t(/^escape|enter$/)?le(j,i,[e,s]):void 0}),ae(function(){i.focus()},1),ge.modal(o,St(e,t,i),n)},ge.confirm=function(e,t,r,n,i){function u(e){return v(r)&&r(e,s),Ot(e,a+".y"),ee(e)}function c(e){return v(n)&&n(e,s),Ot(e,a+".n"),ee(e)}var f,o=Re("button",ye.okay,Nt),l=Re("button",ye.cancel,Nt),a="confirm";return y(e)&&(a+=":"+e[0],e=e[1]||e[0]),ie(j,o,u),ie(j,l,c),ie(H,o,function(e){return f=e.TE.key,f("arrowright")?(l.focus(),ee(e)):f("arrowleft")?ee(e):f("enter")?(u(e),ee(e)):f("escape")?(Ot(e,a+".y"),ee(e)):void 0}),ie(H,l,function(e){return f=e.TE.key,f("arrowright")?ee(e):f("arrowleft")?(o.focus(),ee(e)):f("enter")?(c(e),ee(e)):f("escape")?(Ot(e,a+".n"),ee(e)):void 0}),ae(function(){l.focus()},1),ge.modal(a,St(e,t,[o,l]),i)},ge.prompt=function(e,t,r,n,i,o){function g(){f.focus(),"placeholder"in f&&f.select()}function m(e){return h=f.value,!r||b(h)&&h!==t?(Ot(e,u+".y"),ee(e),n(e,s,h!==t?h:"",t)):(g(),w(e))}function k(e){return Ot(e,u+".n"),ee(e)}function w(e){return ee(e)}var c,d,h,l=Re("button",ye.okay,Nt),a=Re("button",ye.cancel,Nt),f=Re("input",!1,{type:"text",value:t,placeholder:t,spellcheck:"false","class":ve+"-input block"}),u="prompt",p=[];if(y(e)&&(u+=":"+e[0],e=e[1]||e[0]),v(i)&&(o=i,i=0),1===i)f=Re("textarea",t,{placeholder:t.split("\n")[0],"class":ve+"-textarea block"});else if(2===i){for(d in t)p.push(Re("option",t[d],{value:d,selected:d===r||null}));f=Re("select",p,{"class":ve+"-select block"})}return n=n||L,ie(H,f,function(e){return c=e.TE.key,c("enter")?m(e):c("escape")||c("backspace")&&!this.value?k(e):c("arrowup")?w(e):c("arrowdown")?(l.focus(),ee(e)):void 0}),ie(H,l,function(e){return c=e.TE.key,c("enter")?m(e):c("escape")?k(e):c("arrowup")?(f.focus(),ee(e)):c("arrowright")?(a.focus(),ee(e)):c(/^arrow(down|left)$/)?w(e):void 0}),ie(H,a,function(e){return c=e.TE.key,c(/^enter|escape$/)?k(e):c("arrowup")?(f.focus(),ee(e)):c(/^arrow(right|down)$/)?w(e):c("arrowleft")?(l.focus(),ee(e)):void 0}),ie(j,l,m),ie(j,a,k),ae(g,.4),ge.modal(u,St(e,f,[l,a]),o)},ge.drop=function(){ge.exit(0,0,0);var e=arguments,t=e[0],r=e[1];1===e.length&&(t="default",r=e[0]),nt(E,Re(Ie,!1,{"class":ve+"-drop "+t})),v(r)?r(Ie):Re(Ie,r);var a,n=he(T),i=he(Ie),o=n.w/2-i.w/2,l=n.h/2-i.h/2;return Ae&&(a=de(Ae),o=a.l,l=a.t+he(Ae).h),Ye(Ie,{left:d(o,0,n.w-i.w)+"px",top:d(l,0,n.h-i.h)+"px",visibility:"visible"}),ie(j,E,Ut),V("enter.drop."+t,[s]),V("enter.drop",[s]),s},ge.menu=function(e,t,r,n){var i='<span class="'+ve+'-current menu">%1</span>',o="";return t===!1?ge.tool(e,t):(y(t)&&(o=t[0],t=t[1],i='<i class="'+ue(me.i,[o])+'"></i> '+i),ge.tool(e,{i:o,text:ue(i,[t,o]),click:function(e){var n,l,a,f,t={"class":ve+"-button"};ge.drop("menu",function(e){Xe(e);for(l in r)t[G]=l,n=Re("span",l,t),r[l]&&ie(j,n,function(e){return f=r[this.getAttribute(G)],$(f)&&(f=ge.tools[f].click),a=f&&f(e,s),Ae&&Ke(Ae.firstChild||Ae,ue(i,[this.innerHTML,o])),a===!1?ee(e):void 0}),nt(e,n)})}},n),V("update.menus",[s]),s)},ge.bubble=function(){ge.exit(0,0,0);var l,a,f,u,c,h,e=arguments,t=e[0],r=e[1],n=s.$(1),i=de(Le),o=p(Le,"line-height"),b="border-",g="-width";return 1===e.length&&(t="default",r=e[0]),v(r)?r(Me):Re(Me,r),nt(E,Re(Me,!1,{"class":ve+"-bubble "+t})),l=n.caret[0].x+i.l-Le.scrollLeft,a=n.caret[1].y+i.t+o-Le.scrollTop,f=he(_e),u=he(Me),c=p(_e,b+"top"+g)+p(_e,b+"bottom"+g),h=p(_e,b+"left"+g)+p(_e,b+"right"+g),Ye(Me,{left:d(l,i.l,i.l+f.w-u.w-h)+"px",top:d(a,i.t,i.t+f.h-u.h-c)+"px",visibility:"visible"}),V("enter.bubble."+t,[s]),V("enter.bubble",[s]),s},ge.tool=function(e,t,r){var n="";return"|"!==e&&(C.tools=C.tools.filter(function(t,r){return t===e?(n=r,!1):!0})),t===!1?delete ge.tools[e]:("|"===e?(r=t,t={}):(v(t)&&(t={click:t}),ge.tools[e]=c(ge.tools[e]||{},t),x(r)||""===n||(r=n)),k(r)?C.tools.splice(r,0,e):C.tools.push(e)),st(),s},ge.key=function(e,t){return C.keys?(t===!1?delete ge.keys[e]:ge.keys[e]=t,ft(),s):s},ge.tools={"|":1,undo:{i:"undo",click:function(e,t){return t.undo(),!1}},redo:{i:"repeat",click:function(e,t){return t.redo(),!1}},indent:function(e,t){return t.indent(F),!1},outdent:function(e,t){return t.outdent(F),!1}},ie(j,Ne,jt),ge.keys={"control+y":"redo","control+z":"undo",f5:function(e,t){return jt(e),!1},"shift+tab":W?"outdent":0,tab:W?"indent":0,escape:function(e,t){return Ne.focus(),!1}},ge.el={container:xe,header:Te,body:_e,footer:Ee,overlay:Oe,modal:ze,drop:Ie,bubble:Me},s.config=C,c(s._,{time:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),i=e.getHours(),o=e.getMinutes(),l=e.getSeconds(),a=e.getMilliseconds();return 10>r&&(r="0"+r),10>n&&(n="0"+n),10>i&&(i="0"+i),10>o&&(o="0"+o),10>l&&(l="0"+l),10>a&&(a="0"+a),[""+t,""+r,""+n,""+i,""+o,""+l,""+a]},replace:fe,format:ue,el:Re,event:{set:ie,reset:oe,fire:le,x:ee},hooks:q,hook:{set:Z,reset:J,fire:V}}),ge};