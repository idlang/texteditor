/*!
 * ==========================================================
 *  USER INTERFACE MODULE FOR TEXT EDITOR PLUGIN 1.2.5
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
TE.prototype.ui=function(e){function V(e,t,r){return q(e)?q(t)?(q(L[e])||(L[e]={}),q(r)||(r=Object.keys(L[e]).length),L[e][r]=t,s):L[e]:L}function ee(e,t){return q(e)?q(t)&&q(L[e])?(delete L[e][t],s):(L[e]={},s):(L={},s)}function te(e,t,r){if(!q(L[e]))return L[e]={},s;if(q(r))q(L[e][r])&&L[e][r].apply(s,t);else for(var n in L[e])L[e][n].apply(s,t);return s}function re(e){return e&&e.preventDefault(),!1}function ne(e,t,r){return t?(t.addEventListener(e,r,!1),V("on:"+e,r,Qe(t)),s):void 0}function ie(e,t,r){return t?(t.removeEventListener(e,r,!1),ee("on:"+e,Qe(t)),s):void 0}function le(e,t,r){if("createEvent"in a){var n=a.createEvent("HTMLEvents");n.data=r,n.initEvent(e,!0,!1),t.dispatchEvent(n)}else te("on:"+e,r,Qe(t));return s}function oe(e,t,r){e=b(e).split(/\s+/);for(var n=0,i=e.length;i>n;++n)ne(e[n],t,r);return s}function ae(e,t,r){e=b(e).split(/\s+/);for(var n=0,i=e.length;i>n;++n)ie(e[n],t,r);return s}function se(e,t,r){e=b(e).split(/\s+/);for(var n=0,i=e.length;i>n;++n)le(e[n],t,r);return s}function ce(e,t){return setTimeout(e,t)}function ue(e){return clearTimeout(e)}function fe(e,t,r){for(var l,n=0,i=t.length;i>n;++n)l=t[n],e=e.replace(w(l)?l:h(u(l),"g"),r&&r[n]||"");return e}function pe(e,t){return e.replace(/%(\d+)/g,function(e,r){return--r,q(t[r])?t[r]:e})}function de(e){return b(fe(e,[/[^ \/a-z\d-]/g,/([ -])+/g,/^-|-$/g],["-","$1",""]))}function he(e,t){var r=t.touches?t.touches[0].pageX:t.pageX,n=t.touches?t.touches[0].pageY:t.pageY,i=be(e);return{x:r-i.l,y:n-i.t}}function be(e){for(var t=e.offsetLeft,r=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,r+=e.offsetTop;return{l:t,t:r}}function me(e){return{w:e.offsetWidth,h:e.offsetHeight}}function ge(e,t){for(;(e=Je(e))&&e!==t;);return e}function Pe(e,t,r){if(e=y(e)?a.createElement(e):e,$(r)){var n,i;for(i in r)n=r[i],"style"===i?y(n)?e.setAttribute(i,n):null===n?e.removeAttribute(i):e=Ke(e,n):v(n)?e[i]=n:null===n?e.removeAttribute(i):e.setAttribute(i,$(n)?n.join(" "):""+n)}if(g(t))e.appendChild(t);else if($(t)){var n,i;for(i in t)n=t[i],g(n)?e.appendChild(n):n!==!1&&(e.innerHTML=n)}else q(t)&&t!==!1&&(e.innerHTML=t);return e}function Qe(e){var t=e.id;return t||(t=$e+"-dom:"+(new Date).getTime(),e.id=t),t}function Ke(e,t){e=Pe(e);for(var r in t)e.style[r.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]=t[r];return e}function Ye(e,t){return h("(^|\\s)"+t+"(\\s|$)").test(e.className)}function We(e,t){Ye(e,t)||(e.className=b(e.className+" "+t))}function Ge(e,t){e.className=b(e.className.replace(h("(^|\\s)"+t+"(\\s|$)"),"$1$2"))}function Ze(e,t){e.innerHTML=t}function Xe(e,t){if(t!==!1){var n,r=e.children;for(n in r)Xe(r[n])}Ze(e,"")}function Je(e){return e.parentElement||e.parentNode}function Ve(e){return e.children||[]}function et(e,t){var r=Je(e);return 1===arguments.length?r||!1:e&&r===e?r:!1}function tt(e,t){Je(e).insertBefore(t,e)}function lt(e,t){e.appendChild(t)}function ot(e,t){var r=et(e);if(r){if(t!==!1)for(var n=Ve(e)[0];n;)ot(n);r.removeChild(e)}}function at(e){Xe(Pe(e,!1,{style:""})),ot(e)}function st(e,t,r){return Pe(t||"div",r,{"class":e})}function ct(){if(qe._word&&qe._words){var e=(He.value||"").replace(h(Z[0]+"[^"+Z[0]+Z[1]+"]+?"+Z[1],"g"),""),t=(e.match(/(\w+)/g)||[]).length;Ze(De,pe(qe["_word"+(1===t?"":"s")],[t]))}}function ut(){Xe(Ee,!1);var n,i,l,o,a,c,e=y(E.tools)?b(E.tools).split(/\s+/):E.tools,t=$e+"-button",r=$e+"-separator";E.tools=e;for(a in e)if(c=e[a],i=ve.tools[c]){if(v(i)&&(i.click=i),i.title=we[c]||"","|"!==(l=i.i||c)&&(l=de(l)),o="|"!==l,Ne=st(o?t:r,o?"a":"span"),o){if(n=t+":"+de(c).replace(/\s/g,""),Ne.href="",Ne.id=n,Ne.tabIndex=-1,Ne.setAttribute(J,c),l='<i class="'+pe(ke.i,[l])+" "+n+'"></i>',q(i.active)?i.active||We(Ne,"x"):i.active=1,i.text&&(l=pe('<span class="'+$e+'-text">'+i.text+"</span>",[l]),We(Ne,"text")),Ze(Ne,l),i.title){var u=i.title;Ne.title=$(u)?u[0]+(u[1]?" ("+u[1]+")":""):u}$(i.attributes)&&Pe(Ne,!1,i.attributes),oe(D,Ne,vt)}lt(Ee,Ne)}te("update.tools",[s])}function ft(){ve.keys=function(){var r,e=Object.keys(ve.keys).sort().reverse(),t={};for(r=0,len=e.length;r<len;++r)t[e[r]]=ve.keys[e[r]];return t}(),mt(1),te("update.keys",[s])}function pt(e){ct(),te("on:change",[e,s])}function bt(e){function $(e){return e.replace(/\+/g,"\n").replace(/\n\n/g,"\n+").split("\n")}var p,d,b,m,g,k,t=s.$(),r=t.before,n=t.after,i=r.slice(-1),l=n[0],o=t.length,a=ve.keys,c=TE.keys_alias,f=(r.match(/(?:^|\n)([\t ]*).*$/)||[""]).pop(),v=e.TE.key();dt[v]=1,k=Object.keys(dt).length,ce(function(){s.record()},1);for(p in a){var w=0;b=$(p);for(d in b)d=b[d],dt[c[d]||d]&&++w;if(b=b.length,w===b&&k===b&&(y(a[p])&&(a[p]=ve.tools[a[p]].click),m=a[p]&&a[p](e,s),m===!1))return re(e)}if(Y)for(p in Y)if(g=Y[p],g!==!1){if(v===g&&l===g)return"\\"===i?(s.insert(v,0),re(e)):(s.select(t.end+1),re(e));if(p===v)return s.wrap(p,g),re(e);if(i===p&&l===g){if("backspace"===v&&r.slice(-2)!=="\\"+p)return s.unwrap(p,g),re(e);if(K&&"enter"===v&&p!==g)return s.tidy("\n"+f+Q,"\n"+f).scroll(!0),re(e)}}if(K&&!o){if("backspace"===v&&h(u(Q)+"$").test(r))return s.outdent(Q).scroll(!0),re(e);if("enter"===v&&h("(^|\\n)("+u(Q)+")+.*$").test(r))return s.insert("\n"+f,0,1).scroll(!0),re(e)}}function mt(e){$(e)?delete dt[e.TE.key()]:dt={}}function gt(e){/^focus|blur$/.test(e.type)&&mt(1),ue(ht),ht=ce(function(){pt(e)},250)}function vt(e){ve.exit(0,0,0);var t=this.getAttribute(J),r=ve.tools;return Ae=e.currentTarget||e.target,r[t]&&r[t].click&&r[t].active?(r[t].click(e,s,t),te("on:change",[e,s,t])):s.select(),re(e)}function Ct(e){return kt=Be,Lt=me(Ce),re(e)}function Et(e){kt===Be&&Ke(He,{height:he(Le,e).y-Lt.h+"px"})}function Ht(){kt=0}function Bt(){ve.exit(1)}function zt(){e=me(Oe),yt=e.w,qt=e.h,e=me(Se),xt=e.w,_t=e.h}function St(e,t){t&&te("exit.modal."+t,[s]),se(D,Se,[e])}function Ot(t){kt=t.target,e=he(Oe,t),$t=e.x,wt=e.y,zt()}function It(t){var i,l,r=Tt.header,n=Tt.resize;kt===r||ge(kt,r)===r?(e=he(Le,t),i=e.x-$t,l=e.y-wt,Ke(Oe,{left:(yt>xt?i:d(i,0,xt-yt))+"px",top:(qt>_t?l:d(l,0,_t-qt))+"px"})):kt===n&&(e=he(Oe,t),Lt=me(n),Ke(Oe,{width:e.x+Lt.w/4+"px",height:e.y+Lt.h/4+"px"}))}function Ut(){kt=0}function Rt(e,t,r){return{header:e,body:t,footer:r}}function Dt(e){var t=Ae,n=e&&e.target||0;(!n||n!==t&&ge(n,t)!==t)&&(Ae=0,at(Ie),ae(D,T,Dt),ve.exit(1))}function Mt(e){function i(){var e=Se.firstChild;e&&(e=me(e),Ke(n,{width:e.w+"px",height:e.h+"px"}))}var n,t=s.get(),r="";return-1===t.indexOf("</html>")&&(r='<!DOCTYPE html><html dir="'+E.dir+'"><head><meta charset="utf-8"><style>'+E.css+"</style></head><body>"+t+"</body></html>"),n=Pe("iframe",!1,{"class":$e+"-portal",src:"data:text/html,"+encodeURIComponent(r)}),!et(Se)&&t?ve.overlay(n,1,function(){i(),oe(N,o,i),te("enter.overlay.preview",[e,s,[t,r],Se.firstChild])}):(ae(N,o,i),Bt()),re(e)}var t="⌘",r="…",i="⇥",l="⇧",o=window,a=document,s=this,c=s._,u=c.x,f=c.extend,p=c.css,d=c.edge,h=c.pattern,b=c.trim,m=s.is,g=m.e,v=m.f,k=m.i,$=m.o,w=m.r,y=m.s,q=function(e){return!m.x(e)},x=a.documentElement,T=(a.head,a.body),L={},C=function(){},E=f({tab:"  ",dir:"ltr",keys:1,tools:"indent outdent | undo redo",attributes:{spellcheck:"false"},css:"html,body{background:#fff;color:#000}",unit:[[["<",">","/"],["=",'"','"'," "]],[["\\u003C","\\u003E","\\u002F"],["\\u003D","\\u0022","\\u0022","\\u0020"]]],suffix:0,auto_tab:1,auto_close:{'"':'"',"'":"'","(":")","{":"}","[":"]","<":">"},languages:{tools:{undo:["Undo",t+"+Z"],redo:["Redo",t+"+Y"],indent:["Indent",i],outdent:["Outdent",l+"+"+i],preview:["Preview","F5"]},buttons:{okay:"OK",cancel:"Cancel",yes:"Yes",no:"No",enter:"Enter",exit:"Exit",open:"Open",close:"Close",ignore:"Ignore"},placeholders:{"":"text here"+r},others:{preview:"Preview",_word:"%1 Word",_words:"%1 Words"}},classes:{"":"text-editor",i:"icon icon-%1 fa fa-%1"}},e),H="keydown",B="keyup",z="copy",S="cut",O="paste",I="touchstart mousedown",U="touchend mouseup",R="touchmove mousemove",D="click",j="focus",M="blur",A="input",N="orientationchange resize",F=M+" "+z+" "+S+" "+j+" "+A+" "+H+" "+O,P=E.languages,Q=E.tab,K=E.auto_tab,Y=E.auto_close,W=E.unit[0][0],Z=(E.unit[0][1],E.unit[1][0]),X=E.unit[1][1],J="data-tool-id",ve=s.ui={};s.tidy=function(e,t){var r=s.$(),n=b(r.before)?e:"",i=b(r.after)?q(t)?t:e:"";return s.trim(n,i)},s.i=function(){return b(s.replace(/\s+/g," "))},s.format=function(e,t,r,n){$(e)||(e=[e]),q(r)||(r=" "),q(n)||(n="");var i=s[0]().$(),l=(e[0]?W[0]+e[0]+W[1]:"")+n,o=n+(e[0]?W[0]+W[2]+(e[1]||e[0].split(h("("+X[3]+")+"))[0])+W[1]:""),a=u(l),c=u(o),f=h("^"+a+"([\\s\\S]*?)"+c+"$"),p=h(a+"$"),d=h("^"+c),b=i.before,m=i.after;return i.length?r=!1:s.insert(P.placeholders[""]),s.toggle(t?!f.test(i.value):!p.test(b)&&!d.test(m),[function(e){e.unwrap(l,o,1).tidy(h(Z[0]+"[^"+Z[0]+Z[1]+Z[2]+"]+?"+Z[1]+"$").test(b)?"":r,h("^"+Z[0]+Z[2]+"[^"+Z[0]+Z[1]+"]+?"+Z[1]).test(m)?"":r).wrap(l,o,t)[1]()},function(e){e.unwrap(l,o,t)[1]()}])};var Ne,ke=E.classes,$e=ke[""],we=P.tools,ye=P.buttons,qe=P.others,xe=$e+"-textarea "+$e+"-content block",_e=st($e),Te=st($e+"-header"),Le=st($e+"-body"),Ce=st($e+"-footer"),Ee=st($e+"-tool"),He=Pe(s.target,!1,E.attributes),Be=st($e+"-resize s"),ze=st($e+"-description"),Se=st($e+"-overlay"),Oe=Pe("div"),Ie=Pe("div"),Ue=Pe("div"),Re=st("left","span"),De=st("right","span"),je=st($e+"-preview","a"),Me=0,Ae=0;E.suffix||(E.suffix=W[1]);var dt={},ht=null;s.create=function(e,t){$(e)&&(E=f(E,e));var r=et(He);if(We(He,xe),r&&"P"===r.nodeName?(tt(r,_e),Me=r,ot(r,!1)):tt(He,_e),_e.dir=E.dir,lt(_e,Te),lt(_e,Le),lt(_e,Ce),lt(_e,Be),lt(Le,He),E.tools&&(lt(Te,Ee),lt(Ce,ze),lt(ze,Re),lt(ze,De)),oe(H,He,bt),oe(B,He,mt),oe(F,He,gt),oe(I,Be,Ct),oe(R,T,Et),oe(U,T,Ht),qe.preview){var n=we.preview;je.href="",je.title=$(n)?n[0]+(n[1]?" ("+n[1]+")":""):n,lt(Re,je),Ze(je,qe.preview)}return pt(null),ut(),ft(),0!==t?te("create",[s]):s},s.update=function(e,t){return Ye(He,xe)&&s.destroy(0),(0!==t?te("update",[s]):s).create(e,0)},s.destroy=function(e){return Ye(He,xe)?(ve.exit(0,0,0),Ge(He,xe),$(E.tools)&&(E.tools=E.tools.join(" ")),E.keys&&(ae(H,He,bt),ae(B,He,mt)),ae(I,Be,Ct),ae(R,T,Et),ae(U,T,Ht),ae(F,He,gt),Me?(tt(_e,Me),lt(Me,He),Me=0):tt(_e,He),at(_e),0!==e?te("destroy",[s]):s):s};var e,Lt,kt=0,$t=0,wt=0,yt=0,qt=0,xt=0,_t=0,Tt={};ve.exit=function(e,t,r){var i,n={overlay:function(){ae(D,Se,Bt),at(Se)},modal:function(){ae(I,Le,Ot),ae(R,Le,It),ae(U,T,Ut),ae(D,Tt.x,St),at(Oe)},drop:function(){at(Ie)},bubble:function(){at(Ue)}};if(t)if($(t))for(i in t)i=t[i],n[i]&&n[i](),0!==r&&te("exit."+i,[s]);else n[t]&&n[t](),0!==r&&te("exit."+i,[s]);else for(i in n)n[i]();return e&&s.select(),0!==r&&te("exit",[s]),s},ve.overlay=function(e,t,r){return ve.exit(0,"bubble",0),mt(1),lt(Le,Pe(Se,e.length||g(e)?st($e+"-overlay-content","div",e):"")),t&&oe(D,Se,Bt),v(r)?r(Se):Pe(Se,r),te("enter.overlay",[s])},ve.modal=function(){ve.exit(0,0,0);var l,e=arguments,t=e[0],r=e[1],n=e[2],i=$e+"-modal";$(t)&&(t="default",r=e[0],n=e[1]),Pe(Oe,!1,{"class":i+" "+t}),q(r.body)&&(r.body=Pe("div",r.body,{"class":i+"-content "+t}));for(l in r)i[1]=l,Tt[l]=st(i+"-"+pe(l,i)+" "+t,0,r[l]);Tt.x=st($e+"-x "+t),Tt.resize=st($e+"-resize se "+t),Xe(Oe),lt(Le,Pe(Oe,Tt,{style:""})),ve.overlay("",1),zt();var a=_t/2-qt/2,c=xt/2-yt/2;return Ke(Oe,{top:d(a,0)+"px",left:d(c,0)+"px","min-width":yt+"px","min-height":qt+"px",visibility:"visible"}),oe(D,Tt.x,St),oe(I,Tt.header,re),oe(I,Tt.resize,re),oe(I,Le,Ot),oe(R,Le,It),oe(U,T,Ut),v(n)&&(Tt.overlay=Se,Tt.modal=Oe,n(Tt)),te("enter.modal."+t,[s]),te("enter.modal",[s]),s};var jt={"class":$e+"-button"};return ve.alert=function(e,t,r,n){var i=Pe("button",ye.okay,jt),l="alert";return r=r||C,$(e)&&(l+=":"+e[0],e=e[1]||e[0]),oe(D,i,function(e){return r(e,s),St(e,l+".y"),re(e)}),oe(H,i,function(e){var t=e.TE.key;return t(/^escape|enter$/)?se(D,i,[e,s]):void 0}),ce(function(){i.focus()},1),ve.modal(l,Rt(e,t,i),n)},ve.confirm=function(e,t,r,n,i){function u(e){return v(r)&&r(e,s),St(e,a+".y"),re(e)}function f(e){return v(n)&&n(e,s),St(e,a+".n"),re(e)}var c,l=Pe("button",ye.okay,jt),o=Pe("button",ye.cancel,jt),a="confirm";return $(e)&&(a+=":"+e[0],e=e[1]||e[0]),oe(D,l,u),oe(D,o,f),oe(H,l,function(e){return c=e.TE.key,c("arrowright")?(o.focus(),re(e)):c("arrowleft")?re(e):c("enter")?(u(e),re(e)):c("escape")?(St(e,a+".y"),re(e)):void 0}),oe(H,o,function(e){return c=e.TE.key,c("arrowright")?re(e):c("arrowleft")?(l.focus(),re(e)):c("enter")?(f(e),re(e)):c("escape")?(St(e,a+".n"),re(e)):void 0}),ce(function(){o.focus()},1),ve.modal(a,Rt(e,t,[l,o]),i)},ve.prompt=function(e,t,r,n,i,l){function m(){c.focus(),"placeholder"in c&&c.select()}function g(e){return h=c.value,!r||b(h)&&h!==t?(St(e,u+".y"),re(e),n(e,s,h!==t?h:"",t)):(m(),w(e))}function k(e){return St(e,u+".n"),re(e)}function w(e){return re(e)}var f,d,h,o=Pe("button",ye.okay,jt),a=Pe("button",ye.cancel,jt),c=Pe("input",!1,{type:"text",value:t,placeholder:t,spellcheck:"false","class":$e+"-input block"}),u="prompt",p=[];if($(e)&&(u+=":"+e[0],e=e[1]||e[0]),v(i)&&(l=i,i=0),1===i)c=Pe("textarea",t,{placeholder:t.split("\n")[0],"class":$e+"-textarea block"});else if(2===i){for(d in t)p.push(Pe("option",t[d],{value:d,selected:d===r||null}));c=Pe("select",p,{"class":$e+"-select block"})}return n=n||C,oe(H,c,function(e){return f=e.TE.key,f("enter")?g(e):f("escape")||f("backspace")&&!this.value?k(e):f("arrowup")?w(e):f("arrowdown")?(o.focus(),re(e)):void 0}),oe(H,o,function(e){return f=e.TE.key,f("enter")?g(e):f("escape")?k(e):f("arrowup")?(c.focus(),re(e)):f("arrowright")?(a.focus(),re(e)):f(/^arrow(down|left)$/)?w(e):void 0}),oe(H,a,function(e){return f=e.TE.key,f(/^enter|escape$/)?k(e):f("arrowup")?(c.focus(),re(e)):f(/^arrow(right|down)$/)?w(e):f("arrowleft")?(o.focus(),re(e)):void 0}),oe(D,o,g),oe(D,a,k),ce(m,.4),ve.modal(u,Rt(e,c,[o,a]),l)},ve.drop=function(){ve.exit(0,0,0);var e=arguments,t=e[0],r=e[1];1===e.length&&(t="default",r=e[0]),lt(T,Pe(Ie,!1,{"class":$e+"-drop "+t})),v(r)?r(Ie):Pe(Ie,r);var a,n=me(x),i=me(Ie),l=n.w/2-i.w/2,o=n.h/2-i.h/2;return Ae&&(a=be(Ae),l=a.l,o=a.t+me(Ae).h),Ke(Ie,{left:d(l,0,n.w-i.w)+"px",top:d(o,0,n.h-i.h)+"px",visibility:"visible"}),oe(D,T,Dt),te("enter.drop."+t,[s]),te("enter.drop",[s]),s},ve.menu=function(e,t,r,n){var i='<span class="'+$e+'-current menu">%1</span>',l="";return t===!1?ve.tool(e,t):($(t)&&(l=t[0],t=t[1],i='<i class="'+pe(ke.i,[l])+'"></i> '+i),ve.tool(e,{i:l,text:pe(i,[t,l]),click:function(e){var n,o,a,c,t={"class":$e+"-button"};ve.drop("menu",function(e){Xe(e);for(o in r)t[J]=o,n=Pe("span",o,t),r[o]&&oe(D,n,function(e){return c=r[this.getAttribute(J)],y(c)&&(c=ve.tools[c].click),a=c&&c(e,s),Ae&&Ze(Ae.firstChild||Ae,pe(i,[this.innerHTML,l])),a===!1?re(e):void 0}),lt(e,n)})}},n),te("update.menus",[s]),s)},ve.bubble=function(){ve.exit(0,0,0);var o,a,c,u,f,h,e=arguments,t=e[0],r=e[1],n=s.$(1),i=be(He),l=p(He,"line-height"),b="border-",m="-width";return 1===e.length&&(t="default",r=e[0]),v(r)?r(Ue):Pe(Ue,r),lt(T,Pe(Ue,!1,{"class":$e+"-bubble "+t})),o=n.caret[0].x+i.l-He.scrollLeft,a=n.caret[1].y+i.t+l-He.scrollTop,c=me(Le),u=me(Ue),f=p(Le,b+"top"+m)+p(Le,b+"bottom"+m),h=p(Le,b+"left"+m)+p(Le,b+"right"+m),Ke(Ue,{left:d(o,i.l,i.l+c.w-u.w-h)+"px",top:d(a,i.t,i.t+c.h-u.h-f)+"px",visibility:"visible"}),te("enter.bubble."+t,[s]),te("enter.bubble",[s]),s},ve.tool=function(e,t,r){var n="";return"|"!==e&&(E.tools=E.tools.filter(function(t,r){return t===e?(n=r,!1):!0})),t===!1?delete ve.tools[e]:("|"===e?(r=t,t={}):(v(t)&&(t={click:t}),ve.tools[e]=f(ve.tools[e]||{},t),q(r)||""===n||(r=n)),k(r)?E.tools.splice(r,0,e):E.tools.push(e)),ut(),s},ve.key=function(e,t){return E.keys?(t===!1?delete ve.keys[e]:ve.keys[e]=t,ft(),s):s},ve.tools={"|":1,undo:{i:"undo",click:function(e,t){return t.undo(),!1}},redo:{i:"repeat",click:function(e,t){return t.redo(),!1}},indent:function(e,t){return t.indent(Q),!1},outdent:function(e,t){return t.outdent(Q),!1}},oe(D,je,Mt),ve.keys={"control+y":"redo","control+z":"undo",f5:function(e,t){return Mt(e),!1},"shift+tab":K?"outdent":0,tab:K?"indent":0,escape:function(e,t){return je.focus(),!1}},ve.el={container:_e,header:Te,body:Le,footer:Ce,overlay:Se,modal:Oe,drop:Ie,bubble:Ue},s.config=E,f(s._,{time:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),i=e.getHours(),l=e.getMinutes(),o=e.getSeconds(),a=e.getMilliseconds();return 10>r&&(r="0"+r),10>n&&(n="0"+n),10>i&&(i="0"+i),10>l&&(l="0"+l),10>o&&(o="0"+o),10>a&&(a="0"+a),[""+t,""+r,""+n,""+i,""+l,""+o,""+a]},replace:fe,format:pe,el:Pe,event:{set:oe,reset:ae,fire:se,x:re},hooks:L,hook:{set:V,reset:ee,fire:te}}),ve};