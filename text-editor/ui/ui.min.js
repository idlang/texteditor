/*!
 * ==========================================================
 *  USER INTERFACE MODULE FOR TEXT EDITOR PLUGIN 1.2.1
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
TE.prototype.ui=function(e){function t(e){return e instanceof HTMLElement}function n(e){return void 0!==e}function r(e){return"function"==typeof e}function o(e){return"string"==typeof e}function i(e){return"object"==typeof e}function u(e){return"number"==typeof e}function a(e,t,r){return n(e)?n(t)?(n(on[e])||(on[e]={}),n(r)||(r=Object.keys(on[e]).length),on[e][r]=t,Qt):on[e]:on}function c(e,t){return n(e)?n(t)&&n(on[e])?(delete on[e][t],Qt):(on[e]={},Qt):(on={},Qt)}function s(e,t,r){if(!n(on[e]))return on[e]={},Qt;if(n(r))n(on[e][r])&&on[e][r].apply(Qt,t);else for(var o in on[e])on[e][o].apply(Qt,t);return Qt}function l(e){return e&&e.preventDefault(),!1}function f(e,t,n){return t?(t.addEventListener(e,n,!1),a("on:"+e,n,M(t)),Qt):void 0}function d(e,t,n){return t?(t.removeEventListener(e,n,!1),c("on:"+e,M(t)),Qt):void 0}function p(e,t,n){if("createEvent"in Zt){var r=Zt.createEvent("HTMLEvents");r.data=n,r.initEvent(e,!0,!1),t.dispatchEvent(r)}else s("on:"+e,n,M(t));return Qt}function h(e,t,n){e=m(e).split(/\s+/);for(var r=0,o=e.length;o>r;++r)f(e[r],t,n);return Qt}function v(e,t,n){e=m(e).split(/\s+/);for(var r=0,o=e.length;o>r;++r)d(e[r],t,n);return Qt}function b(e,t,n){e=m(e).split(/\s+/);for(var r=0,o=e.length;o>r;++r)p(e[r],t,n);return Qt}function y(e,t){return setTimeout(e,t)}function g(e){return clearTimeout(e)}function m(e){return e.replace(/^\s*|\s*$/g,"")}function k(e,t,r){return n(t)&&t>e?t:n(r)&&e>r?r:e}function w(e,t){return e.replace(/%(\d+)/g,function(e,r){return--r,n(t[r])?t[r]:e})}function x(e){return m(e.toLowerCase().replace(/[^ \/a-z\d-]/g,"-").replace(/([ -])+/g,"$1").replace(/^-|-$/g,""))}function T(e,t){return RegExp(e,t)}function E(e,t){var n=t.touches?t.touches[0].pageX:t.pageX,r=t.touches?t.touches[0].pageY:t.pageY,o=$(e);return{x:n-o.l,y:r-o.t}}function $(e){for(var t=e.offsetLeft,n=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop;return{l:t,t:n}}function L(e){return{w:e.offsetWidth,h:e.offsetHeight}}function _(e,t){for(;(e=D(e))&&e!==t;);return e}function C(e){function t(){var e=Et.firstChild;e&&(e=L(e),z({width:e.w+"px",height:e.h+"px"}))}var n,r=Qt.get(),o="";return-1===r.indexOf("</html>")&&(o='<!DOCTYPE html><html dir="'+an.dir+'"><head><meta charset="utf-8"><style>'+an.css+"</style></head><body>"+r+"</body></html>"),n=H("iframe",!1,{class:ft+"-portal",src:"data:text/html,"+encodeURIComponent(o)}),!Y(Et)&&r?_n.overlay(n,1,function(){t(),h(kn,qt,t),s("enter.overlay.preview",[e,Qt,[r,o],Et.firstChild])}):(v(kn,qt,t),nt()),l(e)}function H(e,u,a){var c,s;if(e=o(e)?Zt.createElement(e):e,i(a))for(s in a)c=a[s],"style"===s?o(c)?e.setAttribute(s,c):null===c?e.removeAttribute(s):e=z(e,c):r(c)?e[s]=c:null===c?e.removeAttribute(s):e.setAttribute(s,i(c)?c.join(" "):""+c);if(t(u))e.appendChild(u);else if(i(u))for(s in u)c=u[s],t(c)?e.appendChild(c):c!==!1&&(e.innerHTML=c);else n(u)&&u!==!1&&(e.innerHTML=u);return e}function M(e){var t=e.id;return t||(t=ft+"-dom:"+(new Date).getTime(),e.id=t),t}function z(e,t){e=H(e);for(var n in t)e.style[n.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]=t[n];return e}function O(e,t){return T("(^|\\s)"+t+"(\\s|$)").test(e.className)}function j(e,t){O(e,t)||(e.className=m(e.className+" "+t))}function N(e,t){e.className=m(e.className.replace(T("(^|\\s)"+t+"(\\s|$)"),"$1$2"))}function K(e,t){e.innerHTML=t}function A(e,t){if(t!==!1){var n,r=e.children;for(n in r)A(r[n])}K(e,"")}function D(e){return e.parentElement||e.parentNode}function P(e){return e.children||[]}function Y(e){var t=D(e);return 1===arguments.length?t||!1:e&&t===e?t:!1}function R(e,t){D(e).insertBefore(t,e)}function U(e,t){e.appendChild(t)}function B(e,t){var n,r=Y(e);if(r){if(t!==!1)for(n=P(e)[0];n;)B(n);r.removeChild(e)}}function I(e){A(H(e,!1,{style:""})),B(e)}function S(e,t,n){return H(t||"div",n,{class:e})}function G(){if(ht._word&&ht._words){var e=(wt.value||"").replace(/<[^<>]+?>/g,""),t=(e.match(/(\w+)/g)||[]).length;K(Ht,w(ht["_word"+(1===t?"":"s")],[t]))}}function W(){var e,t,u,a,c,l,f,d,p,v;A(kt,!1),e=o(an.tools)?m(an.tools).split(/\s+/):an.tools,t=ft+"-button",u=ft+"-separator",an.tools=e;for(d in e)p=e[d],_n.tools[p]&&(c=_n.tools[p],r(c)&&(c.click=c),c.title=dt[p]||"","|"!==(l=c.i||p)&&(l=x(l)),f="|"!==l,jt=S(f?t:u,f?"a":"span"),f&&(a=t+":"+x(p).replace(/\s/g,""),jt.href="",jt.id=a,jt.tabIndex=-1,jt.setAttribute(Ln,p),l='<i class="'+w(lt.i,[l])+" "+a+'"></i>',n(c.active)?c.active||j(jt,"x"):c.active=1,c.text&&(l=w('<span class="'+ft+'-text">'+c.text+"</span>",[l]),j(jt,"text")),K(jt,l),c.title&&(v=c.title,jt.title=i(v)?v[0]+(v[1]?" ("+v[1]+")":""):v),i(c.attributes)&&H(jt,!1,c.attributes),h(bn,jt,Q)),U(kt,jt));s("update.tools",[Qt])}function F(){_n.keys=function(){var e,t=Object.keys(_n.keys).sort().reverse(),n={};for(e=0,len=t.length;len>e;++e)n[t[e]]=_n.keys[t[e]];return n}(),q(1),s("update.keys",[Qt])}function J(e){G(),s("on:change",[e,Qt])}function X(e){function t(e){return e.replace(/\+/g,"\n").replace(/\n\n/g,"\n+").split("\n")}var r,i,u,a,c,s,f,d=Qt.$(),p=d.before,h=d.after,v=p.slice(-1),b=h[0],g=d.length,m=_n.keys,k=TE.keys_alias,w=(p.match(/(?:^|\n)([\t ]*).*$/)||[""]).pop(),x=e.TE.key();Nt[x]=1,s=Object.keys(Nt).length,y(function(){Qt.record()},1);for(r in m){f=0,u=t(r);for(i in u)i=u[i],Nt[k[i]||i]&&++f;if(u=u.length,f===u&&s===u&&(o(m[r])&&(m[r]=_n.tools[m[r]].click),a=m[r]&&m[r](e,Qt),a===!1))return l(e)}if($n)for(r in $n)if(c=$n[r],c!==!1){if(b===x&&n($n[x]))return"\\"===v?(Qt.insert(x,-1),l(e)):(Qt.select(d.end+1),l(e));if(r===x)return Qt.wrap(r,c),l(e);if(v===r&&b===c){if("backspace"===x&&p.slice(-2)!=="\\"+r)return Qt.unwrap(r,c),l(e);if(En&&"enter"===x&&r!==c)return Qt.tidy("\n"+w+Tn,"\n"+w).scroll("+1"),l(e)}}if(En&&!g){if("backspace"===x&&T(Vt(Tn)+"$").test(p))return Qt.outdent(Tn),l(e);if("enter"===x&&T("(^|\\n)("+Vt(Tn)+")+.*$").test(p))return Qt.insert("\n"+w,-1,1).scroll("+1"),l(e)}}function q(e){i(e)?delete Nt[e.TE.key()]:Nt={}}function Z(e){/^focus|blur$/.test(e.type)&&q(1),g(Kt),Kt=y(function(){J(e)},1e3)}function Q(e){_n.exit(0,0,0);var t=this.getAttribute(Ln),n=_n.tools;return Ot=e.currentTarget||e.target,n[t]&&n[t].click&&n[t].active?(n[t].click(e,Qt,t),s("on:change",[e,Qt,t])):Qt.select(),l(e)}function V(e){return At=xt,St=L(mt),l(e)}function et(e){At===xt&&z(wt,{height:E(gt,e).y-St.h+"px"})}function tt(){At=0}function nt(){_n.exit(1)}function rt(){e=L($t),Yt=e.w,Rt=e.h,e=L(Et),Ut=e.w,Bt=e.h}function ot(e,t){t&&s("exit.modal."+t,[Qt]),b(bn,Et,[e])}function it(t){At=t.target,e=E($t,t),Dt=e.x,Pt=e.y,rt()}function ut(t){var n,r,o=It.header,i=It.resize;At===o||_(At,o)===o?(e=E(gt,t),n=e.x-Dt,r=e.y-Pt,z($t,{left:(Yt>Ut?n:k(n,0,Ut-Yt))+"px",top:(Rt>Bt?r:k(r,0,Bt-Rt))+"px"})):At===i&&(e=E($t,t),St=L(i),z($t,{width:e.x+St.w/4+"px",height:e.y+St.h/4+"px"}))}function at(){At=0}function ct(e,t,n){return{header:e,body:t,footer:n}}function st(e){var t=Ot,n=e&&e.target||0;(!n||n!==t&&_(n,t)!==t)&&(Ot=0,I(Lt),v(bn,rn,st),_n.exit(1))}var lt,ft,dt,pt,ht,vt,bt,yt,gt,mt,kt,wt,xt,Tt,Et,$t,Lt,_t,Ct,Ht,Mt,zt,Ot,jt,Nt,Kt,At,Dt,Pt,Yt,Rt,Ut,Bt,It,St,Gt,Wt="\u2318",Ft="\u2026",Jt="\u21e5",Xt="\u21e7",qt=window,Zt=document,Qt=this,Vt=Qt._.x,en=Qt._.extend,tn=Qt._.css,nn=Zt.documentElement,rn=(Zt.head,Zt.body),on={},un=function(){},an=en({tab:"  ",dir:"ltr",keys:1,tools:"indent outdent | undo redo",attributes:{spellcheck:"false"},css:"html,body{background:#fff;color:#000}",auto_tab:1,auto_close:{'"':'"',"'":"'","(":")","{":"}","[":"]","<":">"},languages:{tools:{undo:["Undo",Wt+"+Z"],redo:["Redo",Wt+"+Y"],indent:["Indent",Jt],outdent:["Outdent",Xt+"+"+Jt],preview:["Preview","F5"]},buttons:{okay:"OK",cancel:"Cancel",yes:"Yes",no:"No",enter:"Enter",exit:"Exit",open:"Open",close:"Close",ignore:"Ignore"},placeholders:{"":"text here"+Ft},others:{preview:"Preview",_word:"%1 Word",_words:"%1 Words"}},classes:{"":"text-editor",i:"icon icon-%1 fa fa-%1"}},e),cn="keydown",sn="keyup",ln="copy",fn="cut",dn="paste",pn="mousedown touchstart",hn="mouseup touchend",vn="mousemove touchmove",bn="click",yn="focus",gn="blur",mn="input",kn="resize orientationchange",wn=gn+" "+ln+" "+fn+" "+yn+" "+mn+" "+cn+" "+dn,xn=an.languages,Tn=an.tab,En=an.auto_tab,$n=an.auto_close,Ln="data-tool-id",_n=Qt.ui={};return Qt.tidy=function(e,t){var r=Qt.$(),o=m(r.before)?e:"",i=m(r.after)?n(t)?t:e:"";return Qt.trim(o,i)},Qt.i=function(){return m(Qt.replace(/\s+/g," "))},Qt.format=function(e,t,r,o){n(r)||(r=" "),n(o)||(o="");var i=Qt[0]().$(),u="<"+e+">"+o,a=o+"</"+e.split(/\s+/)[0]+">",c=Vt(u),s=Vt(a),l=T("^"+c+"([\\s\\S]*?)"+s+"$"),f=T(c+"$"),d=T("^"+s),p=i.before,h=i.after;return i.length?r=!1:Qt.insert(xn.placeholders[""]),Qt.toggle(t?!l.test(i.value):!f.test(p)&&!d.test(h),[function(e){e.unwrap(u,a,1).tidy(/<[^\/<>]+?>$/.test(p)?"":r,/^<\/[^<>]+?>/.test(h)?"":r).wrap(u,a,t)[1]()},function(e){e.unwrap(u,a,t)[1]()}])},lt=an.classes,ft=lt[""],dt=xn.tools,pt=xn.buttons,ht=xn.others,vt=ft+"-textarea "+ft+"-content block",bt=S(ft),yt=S(ft+"-header"),gt=S(ft+"-body"),mt=S(ft+"-footer"),kt=S(ft+"-tool"),wt=H(Qt.target,!1,an.attributes),xt=S(ft+"-resize s"),Tt=S(ft+"-description"),Et=S(ft+"-overlay"),$t=H("div"),Lt=H("div"),_t=H("div"),Ct=S("left","span"),Ht=S("right","span"),Mt=S(ft+"-preview","a"),zt=0,Ot=0,h(bn,Mt,C),Nt={},Kt=null,Qt.create=function(e,t){var n,r;return i(e)&&(an=en(an,e)),n=Y(wt),j(wt,vt),n&&"P"===n.nodeName?(R(n,bt),zt=n,B(n,!1)):R(wt,bt),bt.dir=an.dir,U(bt,yt),U(bt,gt),U(bt,mt),U(bt,xt),U(gt,wt),an.tools&&(U(yt,kt),U(mt,Tt),U(Tt,Ct),U(Tt,Ht)),h(cn,wt,X),h(sn,wt,q),h(wn,wt,Z),h(pn,xt,V),h(vn,rn,et),h(hn,rn,tt),ht.preview&&(r=dt.preview,Mt.href="",Mt.title=i(r)?r[0]+(r[1]?" ("+r[1]+")":""):r,U(Ct,Mt),K(Mt,ht.preview)),J(null),W(),F(),0!==t?s("create",[Qt]):Qt},Qt.update=function(e,t){return O(wt,vt)&&Qt.destroy(0),(0!==t?s("update",[Qt]):Qt).create(e,0)},Qt.destroy=function(e){return O(wt,vt)?(_n.exit(0,0,0),N(wt,vt),i(an.tools)&&(an.tools=an.tools.join(" ")),an.keys&&(v(cn,wt,X),v(sn,wt,q)),v(pn,xt,V),v(vn,rn,et),v(hn,rn,tt),v(wn,wt,Z),zt?(R(bt,zt),U(zt,wt),zt=0):R(bt,wt),I(bt),0!==e?s("destroy",[Qt]):Qt):Qt},At=0,Dt=0,Pt=0,Yt=0,Rt=0,Ut=0,Bt=0,It={},_n.exit=function(e,t,n){var r,o={overlay:function(){v(bn,Et,nt),I(Et)},modal:function(){v(pn,gt,it),v(vn,gt,ut),v(hn,rn,at),v(bn,It.x,ot),I($t)},drop:function(){I(Lt)},bubble:function(){I(_t)}};if(t)if(i(t))for(r in t)r=t[r],o[r]&&o[r](),0!==n&&s("exit."+r,[Qt]);else o[t]&&o[t](),0!==n&&s("exit."+r,[Qt]);else for(r in o)o[r]();return e&&Qt.select(),0!==n&&s("exit",[Qt]),Qt},_n.overlay=function(e,n,o){return _n.exit(0,"bubble",0),q(1),U(gt,H(Et,e.length||t(e)?S(ft+"-overlay-content","div",e):"")),n&&h(bn,Et,nt),r(o)?o(Et):H(Et,o),s("enter.overlay",[Qt])},_n.modal=function(){var e,t,o,u,a,c,f,d;_n.exit(0,0,0),e=arguments,t=e[0],o=e[1],u=e[2],a=ft+"-modal",i(t)&&(t="default",o=e[0],u=e[1]),H($t,!1,{class:a+" "+t}),n(o.body)&&(o.body=H("div",o.body,{class:a+"-content "+t}));for(c in o)a[1]=c,It[c]=S(a+"-"+w(c,a)+" "+t,0,o[c]);return It.x=S(ft+"-x "+t),It.resize=S(ft+"-resize se "+t),A($t),U(gt,H($t,It,{style:""})),_n.overlay("",1),rt(),f=Bt/2-Rt/2,d=Ut/2-Yt/2,z($t,{top:k(f,0)+"px",left:k(d,0)+"px","min-width":Yt+"px","min-height":Rt+"px",visibility:"visible"}),h(bn,It.x,ot),h(pn,It.header,l),h(pn,It.resize,l),h(pn,gt,it),h(vn,gt,ut),h(hn,rn,at),r(u)&&(It.overlay=Et,It.modal=$t,u(It)),s("enter.modal."+t,[Qt]),s("enter.modal",[Qt]),Qt},Gt={class:ft+"-button"},_n.alert=function(e,t,n,r){var o=H("button",pt.okay,Gt),u="alert";return n=n||un,i(e)&&(u+=":"+e[0],e=e[1]||e[0]),h(bn,o,function(e){return n(e,Qt),ot(e,u+".y"),l(e)}),h(cn,o,function(e){var t=e.TE.key;return t(/^escape|enter$/)?b(bn,o,[e,Qt]):void 0}),y(function(){o.focus()},1),_n.modal(u,ct(e,t,o),r)},_n.confirm=function(e,t,n,o,u){function a(e){return r(n)&&n(e,Qt),ot(e,p+".y"),l(e)}function c(e){return r(o)&&o(e,Qt),ot(e,p+".n"),l(e)}var s,f=H("button",pt.okay,Gt),d=H("button",pt.cancel,Gt),p="confirm";return i(e)&&(p+=":"+e[0],e=e[1]||e[0]),h(bn,f,a),h(bn,d,c),h(cn,f,function(e){return s=e.TE.key,s("arrowright")?(d.focus(),l(e)):s("arrowleft")?l(e):s("enter")?(a(e),l(e)):s("escape")?(ot(e,p+".y"),l(e)):void 0}),h(cn,d,function(e){return s=e.TE.key,s("arrowright")?l(e):s("arrowleft")?(f.focus(),l(e)):s("enter")?(c(e),l(e)):s("escape")?(ot(e,p+".n"),l(e)):void 0}),y(function(){d.focus()},1),_n.modal(p,ct(e,t,[f,d]),u)},_n.prompt=function(e,t,n,o,u,a){function c(){w.focus(),"placeholder"in w&&w.select()}function s(e){return b=w.value,!n||m(b)&&b!==t?(ot(e,x+".y"),l(e),o(e,Qt,b!==t?b:"",t)):(c(),d(e))}function f(e){return ot(e,x+".n"),l(e)}function d(e){return l(e)}var p,v,b,g=H("button",pt.okay,Gt),k=H("button",pt.cancel,Gt),w=H("input",!1,{type:"text",value:t,placeholder:t,spellcheck:"false",class:ft+"-input block"}),x="prompt",T=[];if(i(e)&&(x+=":"+e[0],e=e[1]||e[0]),r(u)&&(a=u,u=0),1===u)w=H("textarea",t,{placeholder:t.split("\n")[0],class:ft+"-textarea block"});else if(2===u){for(v in t)T.push(H("option",t[v],{value:v,selected:v===n||null}));w=H("select",T,{class:ft+"-select block"})}return o=o||un,h(cn,w,function(e){return p=e.TE.key,p("enter")?s(e):p("escape")||p("backspace")&&!this.value?f(e):p("arrowup")?d(e):p("arrowdown")?(g.focus(),l(e)):void 0}),h(cn,g,function(e){return p=e.TE.key,p("enter")?s(e):p("escape")?f(e):p("arrowup")?(w.focus(),l(e)):p("arrowright")?(k.focus(),l(e)):p(/^arrow(down|left)$/)?d(e):void 0}),h(cn,k,function(e){return p=e.TE.key,p(/^enter|escape$/)?f(e):p("arrowup")?(w.focus(),l(e)):p(/^arrow(right|down)$/)?d(e):p("arrowleft")?(g.focus(),l(e)):void 0}),h(bn,g,s),h(bn,k,f),y(c,.4),_n.modal(x,ct(e,w,[g,k]),a)},_n.drop=function(){var e,t,n,o,i,u,a,c;return _n.exit(0,0,0),e=arguments,t=e[0],n=e[1],1===e.length&&(t="default",n=e[0]),U(rn,H(Lt,!1,{class:ft+"-drop "+t})),r(n)?n(Lt):H(Lt,n),o=L(nn),i=L(Lt),u=o.w/2-i.w/2,a=o.h/2-i.h/2,Ot&&(c=$(Ot),u=c.l,a=c.t+L(Ot).h),z(Lt,{left:k(u,0,o.w-i.w)+"px",top:k(a,0,o.h-i.h)+"px",visibility:"visible"}),h(bn,rn,st),s("enter.drop."+t,[Qt]),s("enter.drop",[Qt]),Qt},_n.menu=function(e,t,n,r){var u='<span class="'+ft+'-current menu">%1</span>',a="";return t===!1?_n.tool(e,t):(i(t)&&(a=t[0],t=t[1],u='<i class="'+w(lt.i,[a])+'"></i> '+u),_n.tool(e,{i:a,text:w(u,[t,a]),click:function(){var e,t,r,i,c={class:ft+"-button"};_n.drop("menu",function(s){A(s);for(t in n)c[Ln]=t,e=H("span",t,c),n[t]&&h(bn,e,function(e){return i=n[this.getAttribute(Ln)],o(i)&&(i=_n.tools[i].click),r=i&&i(e,Qt),Ot&&K(Ot.firstChild||Ot,w(u,[this.innerHTML,a])),r===!1?l(e):void 0}),U(s,e)})}},r),s("update.menus",[Qt]),Qt)},_n.bubble=function(){_n.exit(0,0,0);var e,t,n,o,i,u,a=arguments,c=a[0],l=a[1],f=Qt.$(1),d=$(wt),p=tn(wt,"line-height"),h="border-",v="-width";return 1===a.length&&(c="default",l=a[0]),r(l)?l(_t):H(_t,l),U(rn,H(_t,!1,{class:ft+"-bubble "+c})),e=f.caret[0].x+d.l-wt.scrollLeft,t=f.caret[1].y+d.t+p-wt.scrollTop,n=L(gt),o=L(_t),i=tn(gt,h+"top"+v)+tn(gt,h+"bottom"+v),u=tn(gt,h+"left"+v)+tn(gt,h+"right"+v),z(_t,{left:k(e,d.l,d.l+n.w-o.w-u)+"px",top:k(t,d.t,d.t+n.h-o.h-i)+"px",visibility:"visible"}),s("enter.bubble."+c,[Qt]),s("enter.bubble",[Qt]),Qt},_n.tool=function(e,t,r){var o="";return"|"!==e&&(an.tools=an.tools.filter(function(t,n){return t===e?(o=n,!1):!0})),t===!1?delete _n.tools[e]:("|"===e?(r=t,t={}):(_n.tools[e]=en(_n.tools[e]||{},t),n(r)||""===o||(r=o)),u(r)?an.tools.splice(r,0,e):an.tools.push(e)),W(),Qt},_n.key=function(e,t){return an.keys?(t===!1?delete _n.keys[e]:_n.keys[e]=t,F(),Qt):Qt},_n.tools={"|":1,undo:{i:"undo",click:function(e,t){return t.undo(),!1}},redo:{i:"repeat",click:function(e,t){return t.redo(),!1}},indent:function(e,t){return t.indent(Tn),!1},outdent:function(e,t){return t.outdent(Tn),!1}},_n.keys={"control+y":"redo","control+z":"undo",f5:function(e){return C(e),!1},"shift+tab":En?"outdent":0,tab:En?"indent":0,escape:function(){return Mt.focus(),!1}},_n.el={container:bt,header:yt,body:gt,footer:mt,overlay:Et,modal:$t,drop:Lt,bubble:_t},Qt.config=an,en(Qt._,{time:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),o=e.getHours(),i=e.getMinutes(),u=e.getSeconds(),a=e.getMilliseconds();return 10>n&&(n="0"+n),10>r&&(r="0"+r),10>o&&(o="0"+o),10>i&&(i="0"+i),10>u&&(u="0"+u),10>a&&(a="0"+a),[""+t,""+n,""+r,""+o,""+i,""+u,""+a]},format:w,el:H,event:{set:h,reset:v,fire:b,x:l},hooks:on,hook:{set:a,reset:c,fire:s}}),Qt.ui};