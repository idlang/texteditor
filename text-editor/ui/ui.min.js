/*!
 * ==========================================================
 *  USER INTERFACE MODULE FOR TEXT EDITOR PLUGIN 1.2.5
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
TE.prototype.ui=function(e){function V(e,t,n){return x(e)?x(t)?(x(E[e])||(E[e]={}),x(n)||(n=Object.keys(E[e]).length),E[e][n]=t,u):E[e]:E}function ee(e,t){return x(e)?x(t)&&x(E[e])?(delete E[e][t],u):(E[e]={},u):(E={},u)}function te(e,t,n){if(!x(E[e]))return E[e]={},u;if(x(n))x(E[e][n])&&E[e][n].apply(u,t);else for(var r in E[e])E[e][r].apply(u,t);return u}function ne(e){return e&&e.preventDefault(),!1}function re(e,t,n){return t?(t.addEventListener(e,n,!1),V("on:"+e,n,Fe(t)),u):void 0}function ie(e,t,n){return t?(t.removeEventListener(e,n,!1),ee("on:"+e,Fe(t)),u):void 0}function oe(e,t,n){if("createEvent"in a){var r=a.createEvent("HTMLEvents");r.data=n,r.initEvent(e,!0,!1),t.dispatchEvent(r)}else te("on:"+e,n,Fe(t));return u}function le(e,t,n){e=b(e).split(/\s+/);for(var r=0,i=e.length;i>r;++r)re(e[r],t,n);return u}function ae(e,t,n){e=b(e).split(/\s+/);for(var r=0,i=e.length;i>r;++r)ie(e[r],t,n);return u}function ue(e,t,n){e=b(e).split(/\s+/);for(var r=0,i=e.length;i>r;++r)oe(e[r],t,n);return u}function fe(e,t){return setTimeout(e,t)}function se(e){return clearTimeout(e)}function ce(e,t,n){for(var o,r=0,i=t.length;i>r;++r)o=t[r],e=e.replace(w(o)?o:h(s(o),"g"),n&&n[r]||"");return e}function pe(e,t){return e.replace(/%(\d+)/g,function(e,n){return--n,x(t[n])?t[n]:e})}function de(e){return b(ce(e,[/[^ \/a-z\d-]/g,/([ -])+/g,/^-|-$/g],["-","$1",""]))}function he(e,t){var n=t.touches?t.touches[0].pageX:t.pageX,r=t.touches?t.touches[0].pageY:t.pageY,i=be(e);return{x:n-i.l,y:r-i.t}}function be(e){for(var t=e.offsetLeft,n=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop;return{l:t,t:n}}function ge(e){return{w:e.offsetWidth,h:e.offsetHeight}}function me(e,t){for(;(e=Je(e))&&e!==t;);return e}function Ye(e,t,n){if(e=$(e)?a.createElement(e):e,y(n)){var r,i;for(i in n)r=n[i],"style"===i?$(r)?e.setAttribute(i,r):null===r?e.removeAttribute(i):e=We(e,r):v(r)?e[i]=r:null===r?e.removeAttribute(i):e.setAttribute(i,y(r)?r.join(" "):""+r)}if(m(t))at(e,t);else if(y(t)){var r,i;for(i in t)r=t[i],m(r)?at(e,r):r!==!1&&Ze(e,r)}else x(t)&&t!==!1&&Ze(e,t);return e}function Fe(e){var t=e.id;return t||(t=ye+"-dom:"+(new Date).getTime(),e.id=t),t}function We(e,t){e=Ye(e);for(var n in t)e.style[n.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]=t[n];return e}function Ke(e,t){return h("(^|\\s)"+t+"(\\s|$)").test(e.className)}function Xe(e,t){Ke(e,t)||(e.className=b(e.className+" "+t))}function Qe(e,t){e.className=b(e.className.replace(h("(^|\\s)"+t+"(\\s|$)"),"$1$2"))}function Ze(e,t){return x(t)?void(e.innerHTML=t):e.innerHTML}function Ge(e,t){if(t!==!1){var r,n=e.children;for(r in n)Ge(n[r])}Ze(e,"")}function Je(e){return e.parentElement||e.parentNode}function Ve(e){return e.children||[]}function nt(e,t){var n=Je(e);return 1===arguments.length?n||!1:e&&n===e?n:!1}function rt(e,t){Je(e).insertBefore(t,e)}function at(e,t){e.appendChild(t)}function ut(e,t){var n=nt(e);if(n){if(t!==!1)for(var r=Ve(e)[0];r;)ut(r);n.removeChild(e)}}function ft(e){Ge(Ye(e,!1,{style:""})),ut(e)}function st(e,t,n){return Ye(t||"div",n,{"class":e})}function ct(){if(xe._word&&xe._words){var e=(Be.value||"").replace(h(Z[0]+"[^"+Z[0]+Z[1]+"]+?"+Z[1],"g"),""),t=(e.match(/(\w+)/g)||[]).length;Ze(Ne,pe(xe["_word"+(1===t?"":"s")],[t]))}}function pt(){Ge(Ce,!1);var r,i,o,l,a,f,e=$(C.tools)?b(C.tools).split(/\s+/):C.tools,t=ye+"-button",n=ye+"-separator";C.tools=e;for(a in e)if(f=e[a],i=ve.tools[f]){if(v(i)&&(i.click=i),i.title=we[f]||"","|"!==(o=i.i||f)&&(o=de(o)),l="|"!==o,Re=st(l?t:n,l?"a":"span"),l){if(r=t+":"+de(f).replace(/\s/g,""),Re.href="",Re.id=r,Re.tabIndex=-1,Re.setAttribute(J,f),o='<i class="'+pe(ke.i,[o])+" "+r+'"></i>',x(i.active)?i.active||Xe(Re,"x"):i.active=1,i.text&&(o=pe('<span class="'+ye+'-text">'+i.text+"</span>",[o]),Xe(Re,"text")),Ze(Re,o),i.title){var s=i.title;Re.title=y(s)?s[0]+(s[1]?" ("+s[1]+")":""):s}y(i.attributes)&&Ye(Re,!1,i.attributes),le(N,Re,yt)}at(Ce,Re)}te("update.tools",[u])}function dt(){ve.keys=function(){var n,e=Object.keys(ve.keys).sort().reverse(),t={};for(n=0,len=e.length;n<len;++n)t[e[n]]=ve.keys[e[n]];return t}(),vt(1),te("update.keys",[u])}function ht(e){ct(),te("on:change",[e,u])}function mt(e){function y(e){return e.replace(/\+/g,"\n").replace(/\n\n/g,"\n+").split("\n")}var p,d,b,g,m,k,t=u.$(),n=t.before,r=t.after,i=n.slice(-1),o=r[0],l=t.length,a=ve.keys,f=TE.keys_alias,c=(n.match(/(?:^|\n)([\t ]*).*$/)||[""]).pop(),v=e.TE.key();bt[v]=1,k=Object.keys(bt).length,fe(function(){u.record()},1);for(p in a){var w=0;b=y(p);for(d in b)d=b[d],bt[f[d]||d]&&++w;if(b=b.length,w===b&&k===b&&($(a[p])&&(a[p]=ve.tools[a[p]].click),g=a[p]&&a[p](e,u),g===!1))return ne(e)}if(K)for(p in K)if(m=K[p],m!==!1){if(v===m&&o===m)return"\\"===i?(u.insert(v,0),ne(e)):(u.select(t.end+1),ne(e));if(p===v)return u.wrap(p,m),ne(e);if(i===p&&o===m){if("backspace"===v&&n.slice(-2)!=="\\"+p)return u.unwrap(p,m),ne(e);if(W&&"enter"===v&&p!==m)return u.tidy("\n"+c+F,"\n"+c).scroll(!0),ne(e)}}if(W&&!l){if("backspace"===v&&h(s(F)+"$").test(n))return u.outdent(F).scroll(!0),ne(e);if("enter"===v&&h("(^|\\n)("+s(F)+")+.*$").test(n))return u.insert("\n"+c,0,1).scroll(!0),ne(e)}}function vt(e){y(e)?delete bt[e.TE.key()]:bt={}}function kt(e){/^focus|blur$/.test(e.type)&&vt(1),se(gt),gt=fe(function(){ht(e)},250)}function yt(e){ve.exit(0,0,0);var t=this.getAttribute(J),n=ve.tools;return Ue=e.currentTarget||e.target,n[t]&&n[t].click&&n[t].active?(n[t].click(e,u,t),te("on:change",[e,u,t])):u.select(),ne(e)}function Bt(e){return wt=ze,Ct=ge(Le),ne(e)}function zt(e){wt===ze&&We(Be,{height:he(Ee,e).y-Ct.h+"px"})}function Ht(){wt=0}function St(){ve.exit(1)}function Dt(){e=ge(De),Tt=e.w,_t=e.h,e=ge(Se),qt=e.w,Et=e.h}function Ot(e,t){t&&te("exit.modal."+t,[u]),ue(N,Se,[e])}function Mt(t){wt=t.target,e=he(De,t),$t=e.x,xt=e.y,Dt()}function It(t){var i,o,n=Lt.header,r=Lt.resize;wt===n||me(wt,n)===n?(e=he(Ee,t),i=e.x-$t,o=e.y-xt,We(De,{left:(Tt>qt?i:d(i,0,qt-Tt))+"px",top:(_t>Et?o:d(o,0,Et-_t))+"px"})):wt===r&&(e=he(De,t),Ct=ge(r),We(De,{width:e.x+Ct.w/4+"px",height:e.y+Ct.h/4+"px"}))}function Nt(){wt=0}function jt(e,t,n){return{header:e,body:t,footer:n}}function At(e){var t=Ue,r=e&&e.target||0;(!r||r!==t&&me(r,t)!==t)&&(Ue=0,ft(Oe),ae(N,q,At),ve.exit(1))}function Rt(t){function o(){var t,e=Ve(Se)[0];e&&(t=ge(e),We(i,{width:t.w+"px",height:t.h+"px"}))}var i,n=u.get(),r="";return-1===n.indexOf("</html>")&&(r='<!DOCTYPE html><html dir="'+C.dir+'"><head><meta charset="utf-8"><style>'+C.css+"</style></head><body>"+n+"</body></html>"),i=Ye("iframe",!1,{"class":ye+"-portal",src:"data:text/html,"+encodeURIComponent(r)}),!nt(Se)&&n?ve.overlay(i,1,function(){o(),le(R,l,o),te("enter.overlay.preview",[t,u,[n,r],e])}):(ae(R,l,o),St()),ne(t)}var t="⌘",n="…",i="⇥",o="⇧",l=window,a=document,u=this,f=u._,s=f.x,c=f.extend,p=f.css,d=f.edge,h=f.pattern,b=f.trim,g=u.is,m=g.e,v=g.f,k=g.i,y=g.o,w=g.r,$=g.s,x=function(e){return!g.x(e)},T=a.documentElement,q=(a.head,a.body),E={},L=function(){},C=c({tab:"  ",dir:"ltr",keys:1,tools:"indent outdent | undo redo",attributes:{spellcheck:"false"},css:"html,body{background:#fff;color:#000}",unit:[[["<",">","/"],["=",'"','"'," "]],[["\\u003C","\\u003E","\\u002F"],["\\u003D","\\u0022","\\u0022","\\u0020"]]],suffix:0,auto_tab:1,auto_close:{'"':'"',"'":"'","(":")","{":"}","[":"]","<":">"},languages:{tools:{undo:["Undo",t+"+Z"],redo:["Redo",t+"+Y"],indent:["Indent",i],outdent:["Outdent",o+"+"+i],preview:["Preview","F5"]},buttons:{okay:"OK",cancel:"Cancel",yes:"Yes",no:"No",enter:"Enter",exit:"Exit",open:"Open",close:"Close",ignore:"Ignore"},placeholders:{"":"text here"+n},others:{preview:"Preview",_word:"%1 Word",_words:"%1 Words"}},classes:{"":"text-editor",i:"icon icon-%1 fa fa-%1"}},e),B="keydown",z="keyup",H="copy",S="cut",D="paste",O="touchstart mousedown",M="touchend mouseup",I="touchmove mousemove",N="click",j="focus",A="blur",U="input",R="orientationchange resize",P=A+" "+H+" "+S+" "+j+" "+U+" "+B+" "+D,Y=C.languages,F=C.tab,W=C.auto_tab,K=C.auto_close,X=C.unit[0][0],Z=(C.unit[0][1],C.unit[1][0]),G=C.unit[1][1],J="data-tool-id",ve=u.ui={};u.tidy=function(e,t){var n=u.$(),r=b(n.before)?e:"",i=b(n.after)?x(t)?t:e:"";return u.trim(r,i)},u.i=function(){return b(u.replace(/\s+/g," "))},u.format=function(e,t,n,r){y(e)||(e=[e]),x(n)||(n=" "),x(r)||(r="");var i=u[0]().$(),o=(e[0]?X[0]+e[0]+X[1]:"")+r,l=r+(e[0]?X[0]+X[2]+(e[1]||e[0].split(h("("+G[3]+")+"))[0])+X[1]:""),a=s(o),f=s(l),c=h("^"+a+"([\\s\\S]*?)"+f+"$"),p=h(a+"$"),d=h("^"+f),b=i.before,g=i.after;return i.length?n=!1:u.insert(Y.placeholders[""]),u.toggle(t?!c.test(i.value):!p.test(b)&&!d.test(g),[function(e){e.unwrap(o,l,1).tidy(h(Z[0]+"[^"+Z[0]+Z[1]+Z[2]+"]+?"+Z[1]+"$").test(b)?"":n,h("^"+Z[0]+Z[2]+"[^"+Z[0]+Z[1]+"]+?"+Z[1]).test(g)?"":n).wrap(o,l,t)[1]()},function(e){e.unwrap(o,l,t)[1]()}])};var Re,ke=C.classes,ye=ke[""],we=Y.tools,$e=Y.buttons,xe=Y.others,Te=ye+"-textarea "+ye+"-content block",_e=st(ye),qe=st(ye+"-header"),Ee=st(ye+"-body"),Le=st(ye+"-footer"),Ce=st(ye+"-tool"),Be=Ye(u.target,!1,C.attributes),ze=st(ye+"-resize s"),He=st(ye+"-description"),Se=st(ye+"-overlay"),De=Ye("div"),Oe=Ye("div"),Me=Ye("div"),Ie=st("left","span"),Ne=st("right","span"),je=st(ye+"-preview","a"),Ae=0,Ue=0;C.suffix||(C.suffix=X[1]);var bt={},gt=null;u.create=function(e,t){y(e)&&(C=c(C,e));var n=nt(Be);if(Xe(Be,Te),n&&"P"===n.nodeName?(rt(n,_e),Ae=n,ut(n,!1)):rt(Be,_e),_e.dir=C.dir,at(_e,qe),at(_e,Ee),at(_e,Le),at(_e,ze),at(Ee,Be),C.tools&&(at(qe,Ce),at(Le,He),at(He,Ie),at(He,Ne)),le(B,Be,mt),le(z,Be,vt),le(P,Be,kt),le(O,ze,Bt),le(I,q,zt),le(M,q,Ht),xe.preview){var r=we.preview;je.href="",je.title=y(r)?r[0]+(r[1]?" ("+r[1]+")":""):r,at(Ie,je),Ze(je,xe.preview)}return ht(null),pt(),dt(),0!==t?te("create",[u]):u},u.update=function(e,t){return Ke(Be,Te)&&u.destroy(0),(0!==t?te("update",[u]):u).create(e,0)},u.destroy=function(e){return Ke(Be,Te)?(ve.exit(0,0,0),Qe(Be,Te),y(C.tools)&&(C.tools=C.tools.join(" ")),C.keys&&(ae(B,Be,mt),ae(z,Be,vt)),ae(O,ze,Bt),ae(I,q,zt),ae(M,q,Ht),ae(P,Be,kt),Ae?(rt(_e,Ae),at(Ae,Be),Ae=0):rt(_e,Be),ft(_e),0!==e?te("destroy",[u]):u):u};var e,Ct,wt=0,$t=0,xt=0,Tt=0,_t=0,qt=0,Et=0,Lt={};ve.exit=function(e,t,n){var i,r={overlay:function(){ae(N,Se,St),ft(Se)},modal:function(){ae(O,Ee,Mt),ae(I,Ee,It),ae(M,q,Nt),ae(N,Lt.x,Ot),ft(De)},drop:function(){ft(Oe)},bubble:function(){ft(Me)}};if(t)if(y(t))for(i in t)i=t[i],r[i]&&r[i](),0!==n&&te("exit."+i,[u]);else r[t]&&r[t](),0!==n&&te("exit."+i,[u]);else for(i in r)r[i]();return e&&u.select(),0!==n&&te("exit",[u]),u},ve.overlay=function(e,t,n){return ve.exit(0,"bubble",0),vt(1),at(Ee,Ye(Se,e.length||m(e)?st(ye+"-overlay-content","div",e):"")),t&&le(N,Se,St),v(n)?n(Se):Ye(Se,n),te("enter.overlay",[u])},ve.modal=function(){ve.exit(0,0,0).blur();var o,e=arguments,t=e[0],n=e[1],r=e[2],i=ye+"-modal";y(t)&&(t="default",n=e[0],r=e[1]),Ye(De,!1,{"class":i+" "+t}),x(n.body)&&(n.body=Ye("div",n.body,{"class":i+"-content "+t}));for(o in n)i[1]=o,Lt[o]=st(i+"-"+pe(o,i)+" "+t,0,n[o]);Lt.x=st(ye+"-x "+t),Lt.resize=st(ye+"-resize se "+t),Ge(De),at(Ee,Ye(De,Lt,{style:""})),ve.overlay("",1),Dt();var a=Et/2-_t/2,f=qt/2-Tt/2;return We(De,{top:d(a,0)+"px",left:d(f,0)+"px","min-width":Tt+"px","min-height":_t+"px",visibility:"visible"}),le(N,Lt.x,Ot),le(O,Lt.header,ne),le(O,Lt.resize,ne),le(O,Ee,Mt),le(I,Ee,It),le(M,q,Nt),v(r)&&(Lt.overlay=Se,Lt.modal=De,r(Lt)),te("enter.modal."+t,[u]),te("enter.modal",[u]),u};var Ut={"class":ye+"-button"};return ve.alert=function(e,t,n,r){var i=Ye("button",$e.okay,Ut),o="alert";return n=n||L,y(e)&&(o+=":"+e[0],e=e[1]||e[0]),le(N,i,function(e){return n(e,u),Ot(e,o+".y"),ne(e)}),le(B,i,function(e){var t=e.TE.key;return t(/^escape|enter$/)?ue(N,i,[e,u]):void 0}),fe(function(){i.focus()},1),ve.modal(o,jt(e,t,i),r)},ve.confirm=function(e,t,n,r,i){function s(e){return v(n)&&n(e,u),Ot(e,a+".y"),ne(e)}function c(e){return v(r)&&r(e,u),Ot(e,a+".n"),ne(e)}var f,o=Ye("button",$e.okay,Ut),l=Ye("button",$e.cancel,Ut),a="confirm";return y(e)&&(a+=":"+e[0],e=e[1]||e[0]),le(N,o,s),le(N,l,c),le(B,o,function(e){return f=e.TE.key,f("arrowright")?(l.focus(),ne(e)):f("arrowleft")?ne(e):f("enter")?(s(e),ne(e)):f("escape")?(Ot(e,a+".y"),ne(e)):void 0}),le(B,l,function(e){return f=e.TE.key,f("arrowright")?ne(e):f("arrowleft")?(o.focus(),ne(e)):f("enter")?(c(e),ne(e)):f("escape")?(Ot(e,a+".n"),ne(e)):void 0}),fe(function(){l.focus()},1),ve.modal(a,jt(e,t,[o,l]),i)},ve.prompt=function(e,t,n,r,i,o){function g(){f.focus(),"placeholder"in f&&f.select()}function m(e){return h=f.value,!n||b(h)&&h!==t?(Ot(e,s+".y"),ne(e),r(e,u,h!==t?h:"",t)):(g(),w(e))}function k(e){return Ot(e,s+".n"),ne(e)}function w(e){return ne(e)}var c,d,h,l=Ye("button",$e.okay,Ut),a=Ye("button",$e.cancel,Ut),f=Ye("input",!1,{type:"text",value:t,placeholder:t,spellcheck:"false","class":ye+"-input block"}),s="prompt",p=[];if(y(e)&&(s+=":"+e[0],e=e[1]||e[0]),v(i)&&(o=i,i=0),1===i)f=Ye("textarea",t,{placeholder:t.split("\n")[0],"class":ye+"-textarea block"});else if(2===i){for(d in t)p.push(Ye("option",t[d],{value:d,selected:d===n||null}));f=Ye("select",p,{"class":ye+"-select block"})}return r=r||L,le(B,f,function(e){return c=e.TE.key,c("enter")?m(e):c("escape")||c("backspace")&&!this.value?k(e):c("arrowup")?w(e):c("arrowdown")?(l.focus(),ne(e)):void 0}),le(B,l,function(e){return c=e.TE.key,c("enter")?m(e):c("escape")?k(e):c("arrowup")?(f.focus(),ne(e)):c("arrowright")?(a.focus(),ne(e)):c(/^arrow(down|left)$/)?w(e):void 0}),le(B,a,function(e){return c=e.TE.key,c(/^enter|escape$/)?k(e):c("arrowup")?(f.focus(),ne(e)):c(/^arrow(right|down)$/)?w(e):c("arrowleft")?(l.focus(),ne(e)):void 0}),le(N,l,m),le(N,a,k),fe(g,.4),ve.modal(s,jt(e,f,[l,a]),o)},ve.drop=function(){ve.exit(0,0,0);var e=arguments,t=e[0],n=e[1];1===e.length&&(t="default",n=e[0]),at(q,Ye(Oe,!1,{"class":ye+"-drop "+t})),v(n)?n(Oe):Ye(Oe,n);var a,r=ge(T),i=ge(Oe),o=r.w/2-i.w/2,l=r.h/2-i.h/2;return Ue&&(a=be(Ue),o=a.l,l=a.t+ge(Ue).h),We(Oe,{left:d(o,0,r.w-i.w)+"px",top:d(l,0,r.h-i.h)+"px",visibility:"visible"}),le(N,q,At),te("enter.drop."+t,[u]),te("enter.drop",[u]),u},ve.menu=function(e,t,n,r){var i='<span class="'+ye+'-current menu">%1</span>',o="";return t===!1?ve.tool(e,t):(y(t)&&(o=t[0],t=t[1],i='<i class="'+pe(ke.i,[o])+'"></i> '+i),ve.tool(e,{i:o,text:pe(i,[t,o]),click:function(e){var r,l,a,f,t={"class":ye+"-button"};ve.drop("menu",function(e){Ge(e);for(l in n)t[J]=l,r=Ye("span",l,t),n[l]&&(le(N,r,function(e){return f=n[this.getAttribute(J)],$(f)&&(f=ve.tools[f].click),a=f&&f(e,u),Ue&&Ze(Ve(Ue)[0]||Ue,pe(i,[Ze(this),o])),a===!1?ne(e):void 0}),le(B,r,function(e){})),at(e,r)})}},r),te("update.menus",[u]),u)},ve.bubble=function(){ve.exit(0,0,0);var l,a,f,s,c,h,e=arguments,t=e[0],n=e[1],r=u.$(1),i=be(Be),o=p(Be,"line-height"),b="border-",g="-width";return 1===e.length&&(t="default",n=e[0]),v(n)?n(Me):Ye(Me,n),at(q,Ye(Me,!1,{"class":ye+"-bubble "+t})),l=r.caret[0].x+i.l-Be.scrollLeft,a=r.caret[1].y+i.t+o-Be.scrollTop,f=ge(Ee),s=ge(Me),c=p(Ee,b+"top"+g)+p(Ee,b+"bottom"+g),h=p(Ee,b+"left"+g)+p(Ee,b+"right"+g),We(Me,{left:d(l,i.l,i.l+f.w-s.w-h)+"px",top:d(a,i.t,i.t+f.h-s.h-c)+"px",visibility:"visible"}),te("enter.bubble."+t,[u]),te("enter.bubble",[u]),u},ve.tool=function(e,t,n){var r="";return"|"!==e&&(C.tools=C.tools.filter(function(t,n){return t===e?(r=n,!1):!0})),t===!1?delete ve.tools[e]:("|"===e?(n=t,t={}):(v(t)&&(t={click:t}),ve.tools[e]=c(ve.tools[e]||{},t),x(n)||""===r||(n=r)),k(n)?C.tools.splice(n,0,e):C.tools.push(e)),pt(),u},ve.key=function(e,t){return C.keys?(t===!1?delete ve.keys[e]:ve.keys[e]=t,dt(),u):u},ve.tools={"|":1,undo:{i:"undo",click:function(e,t){return t.undo(),!1}},redo:{i:"repeat",click:function(e,t){return t.redo(),!1}},indent:function(e,t){return t.indent(F),!1},outdent:function(e,t){return t.outdent(F),!1}},le(N,je,Rt),ve.keys={"control+y":"redo","control+z":"undo",f5:function(e,t){return Rt(e),!1},"shift+tab":W?"outdent":0,tab:W?"indent":0,escape:function(e,t){return je.focus(),!1}},ve.el={container:_e,header:qe,body:Ee,footer:Le,overlay:Se,modal:De,drop:Oe,bubble:Me},u.config=C,c(u._,{time:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),i=e.getHours(),o=e.getMinutes(),l=e.getSeconds(),a=e.getMilliseconds();return 10>n&&(n="0"+n),10>r&&(r="0"+r),10>i&&(i="0"+i),10>o&&(o="0"+o),10>l&&(l="0"+l),10>a&&(a="0"+a),[""+t,""+n,""+r,""+i,""+o,""+l,""+a]},replace:ce,format:pe,el:Ye,event:{set:le,reset:ae,fire:ue,x:ne},hooks:E,hook:{set:V,reset:ee,fire:te}}),ve};