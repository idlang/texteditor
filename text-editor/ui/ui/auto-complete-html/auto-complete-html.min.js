/*!
 * ===========================================================
 *  HTML AUTO-COMPLETE PLUGIN FOR USER INTERFACE MODULE 1.1.0
 * ===========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * -----------------------------------------------------------
 */
TE.each(function(e){function x(e){return e=e.match(/(?:^|\n)([\t ]*).*$/),e&&e[1]||""}var U,b,y,t=e.config,n=t.union[1][0],a=t.union[1][1],i=t.union[0][0],o=t.union[0][1],r=e._,s=r.event,u=r.pattern,c=r.timer.set,h=t.suffix,l=i[0]+"([^\\s"+i[0]+i[1]+i[2]+"]+)(?:"+o[3]+".*?)?"+i[1],f=i[0]+i[2]+"[^\\s"+i[0]+i[1]+i[2]+"]+"+i[1],d=/^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)$/,g=u(l+"$"),p=u("^"+f),E="insertBefore",v="insertAfter",O="replaceBefore",A="replaceAfter";t.auto_close_html&&s.set("keydown",e.target,function(r){e[0](),U=r.TE.key,c(function(){b=e.$();var r=b.before,s=b.after;U("enter")?u(l+"\\n[\\t ]*$").test(r)&&p.test(s)?e[E](t.tab)[v]("\n"+x(r)):u(i[0]+"!\\-\\-\\s+$").test(r)&&u("^\\s+\\-\\-"+i[1]).test(s)&&e[O](/\s+$/g,"\n\n")[A](/^\s+/g,"\n\n"):u(i[0]+"![-d]$","i").test(r)?U("-")?e[E]("- ")[v](" --"):U("d")&&e[O](/d$/i,"DOCTYPE html"):U(n[1])&&!p.test(s)&&r.slice(-2)!==n[1]+n[1]?(y=r.match(g)||["",""],d.test(y[1])?e[O](u(i[1]+"$"),h):e[A](/^/,n[0]+n[2]+y[1]+n[1])):U(a[3])&&(y=r.match(u(l.slice(0,l.length-i[1].length)+"$"))||["",""],"a"===y[1]?e[E]("href"+a[0]+a[1])[v](a[1]+n[1]+n[0]+n[2]+y[1]):"img"===y[1]?e[E]("alt"+a[0]+a[1]+a[2]+a[3]+"src"+a[0]+a[1])[v](a[2])[A](u("^"+o[2]+i[1]),a[2]+h):"input"===y[1]?e[E]("type"+a[0]+a[1])[v](a[2])[A](u("^"+o[2]+i[1]),a[2]+h):d.test(y[1])||e[A](u("^"+i[1]),n[1]+n[0]+n[2]+y[1]+n[1])),e[1]()})})});