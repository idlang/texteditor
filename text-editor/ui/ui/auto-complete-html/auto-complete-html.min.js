/*!
 * ===========================================================
 *  HTML AUTO-COMPLETE PLUGIN FOR USER INTERFACE MODULE 1.0.3
 * ===========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * -----------------------------------------------------------
 */
TE.each(function(e){function T(e){return e=e.match(/(?:^|\n)([\t ]*).*$/),e&&e[1]||""}var k,v,y,t=e.config,i=t.unit[0][0],n=t.unit[0][1],s=t.unit[1][0],r=t.unit[1][1],f=e._,a=f.event,l=f.pattern,c=f.timer.set,u=t.suffix,o=s[0]+"([^\\s"+s[0]+s[1]+s[2]+"]+)(?:"+r[3]+".*?)?"+s[1],m=s[0]+s[2]+"[^\\s"+s[0]+s[1]+s[2]+"]+"+s[1],h=/^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)$/,$=l(o+"$"),p=l("^"+m),g="insertBefore",b="insertAfter",d="replaceBefore",_="replaceAfter";t.auto_close_html&&a.set("keydown",e.target,function(f){e[0](),k=f.TE.key,c(function(){v=e.$();var f=v.before,a=v.after;k("enter")?l(o+"\\n[\\t ]*$").test(f)&&p.test(a)?e[g](t.tab)[b]("\n"+T(f)):l(s[0]+"!\\-\\-\\s+$").test(f)&&l("^\\s+\\-\\-"+s[1]).test(a)&&e[d](/\s+$/g,"\n\n")[_](/^\s+/g,"\n\n"):l(s[0]+"![-d]$","i").test(f)?k("-")?e[g]("- ")[b](" --"):k("d")&&e[d](/d$/i,"DOCTYPE html"):k(i[1])&&!p.test(a)&&f.slice(-2)!==i[1]+i[1]?(y=f.match($)||["",""],h.test(y[1])?e[d](l(s[1]+"$"),u):e[_](/^/,i[0]+i[2]+y[1]+i[1])):k(n[3])&&(y=f.match(l(o.slice(0,o.length-s[1].length)+"$"))||["",""],"a"===y[1]?e[g]("href"+n[0]+n[1])[b](n[1]+i[1]+i[0]+i[2]+y[1]):"img"===y[1]?e[g]("alt"+n[0]+n[1]+n[2]+n[3]+"src"+n[0]+n[1])[b](n[2])[_](l("^"+r[2]+s[1]),n[2]+u):"input"===y[1]?e[g]("type"+n[0]+n[1])[b](n[2])[_](l("^"+r[2]+s[1]),n[2]+u):h.test(y[1])||e[_](l("^"+s[1]),i[1]+i[0]+i[2]+y[1]+i[1])),e[1]()})})});