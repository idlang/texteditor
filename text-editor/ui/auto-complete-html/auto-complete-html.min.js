/*!
 * ===========================================================
 *  HTML AUTO-COMPLETE PLUGIN FOR USER INTERFACE MODULE 1.0.0
 * ===========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * -----------------------------------------------------------
 */
TE.each(function(e){function h(e){return e=e.match(/(?:^|\n)([\t ]*).*$/),e&&e[1]||""}var p,R,I,t=e.config,n=t.unit[0][0],r=t.unit[0][1],i=t.unit[1][0],o=t.unit[1][1],l=e._,f=l.event,a=l.pattern,s=l.timer.set,u=t.suffix,c=i[0]+"([^\\s"+i[0]+i[1]+i[2]+"]+)(?:"+o[3]+".*?)?"+i[1],A=i[0]+i[2]+"[^\\s"+i[0]+i[1]+i[2]+"]+"+i[1],E=/^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)$/,O=a(c+"$"),d=a("^"+A);t.auto_close_html&&f.set("keydown",e.target,function(l){p=l.TE.key,p("enter")?(e[0](),s(function(){R=e.$(),a(c+"\\n[\\t ]*$").test(R.before)&&d.test(R.after)&&e.insertBefore(t.tab).insertAfter("\n"+h(R.before)),e[1]()})):p(">")?(e[0](),s(function(){R=e.$(),I=R.before.match(O)||["",""],E.test(I[1])?e.replaceBefore(a(i[1]+"$"),u):e.replaceAfter(/^/,n[0]+n[2]+I[1]+n[1]),e[1]()})):p(" ")&&(e[0](),s(function(){R=e.$(),I=R.before.match(a(c.slice(0,c.length-i[1].length)+"$"))||["",""],"a"===I[1]?e.insertBefore("href"+r[0]+r[1]).insertAfter(r[1]):"img"===I[1]?e.insertBefore("alt"+r[0]+r[1]+r[2]+r[3]+"src"+r[0]+r[1]).insertAfter(r[2]).replaceAfter(a("^"+o[2]+i[1]),r[2]+u):"input"===I[1]&&e.insertBefore("type"+r[0]+r[1]).insertAfter(r[2]).replaceAfter(a("^"+o[2]+i[1]),r[2]+u),e[1]()}))})});