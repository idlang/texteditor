<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Core &ndash; Text Editor</title>
    <link href="favicon.ico" rel="shortcut icon">

    <link href="../index.css" rel="stylesheet">
    <link href="../text-editor/ui/ui.min.css" rel="stylesheet">

    <script src="../text-editor.min.js"></script>

  </head>
  <body>

    <header class="header">
      <h1>Core &rsaquo; Text Editor</h1>
      <p>This is the core <abbr title="Application Programming Interface">API</abbr> for doing text area&ndash;based text selection manipulation.</p>
      <section>
        <p><textarea class="textarea" id="editor-0" spellcheck="false">Lorem ipsum dolor sit amet.</textarea></p>
        <p>
          <button class="button" onclick="return editor_0.wrap('<b>', '</b>'), false;">Bold</button>
          <button class="button" onclick="return editor_0.wrap('<i>', '</i>'), false;">Italic</button>
          <button class="button" onclick="return window.open('../text-editor.html'), false;">&hellip;</button>
        </p>
        <script>
        var editor_0 = new TE(document.querySelector('#editor-0'));
        </script>
      </section>
    </header>

    <section class="body">
      <h2 id="section:start">Start</h2>
      <p>Create a text area element, then include <a href="../text-editor.min.js" target="_blank"><code>text-editor.min.js</code></a> next to it.</p>
      <pre><code>&lt;!DOCTYPE html&gt;
&lt;html dir="ltr"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Test&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;&lt;textarea&gt;&lt;/textarea&gt;&lt;/p&gt;
    &lt;script src="text-editor.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    var editor = new TE(document.querySelector('textarea'));
    &lt;/script&gt;
    &lt;p&gt;
      &lt;button onclick="return editor.wrap('&lt;b&gt;', '&lt;/b&gt;'), false;"&gt;Bold&lt;/button&gt;
      &lt;button onclick="return editor.wrap('&lt;i&gt;', '&lt;/i&gt;'), false;"&gt;Italic&lt;/button&gt;
      &lt;button onclick="return editor.wrap('&lt;u&gt;', '&lt;/u&gt;'), false;"&gt;Underline&lt;/button&gt;
    &lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
      <h2 id="section:configure">Configure</h2>
      <p>No configuration available.</p>
      <h2 id="section:extend">Extend</h2>
      <p>All text editor instances are stored in <code>TE.__instance__</code> as a collection with keys generated by the text area ID, text area name or text area sequence.</p>
      <pre><code>console.log(TE.__instance__);</code></pre>
      <p>The <code>TE.each()</code> method allows you to loop through the captured instances easily.</p>
      <pre><code>TE.each(function($, key, any) {
    // `$` refers to the text editor instance
    // `key` refers to the instance key in `TE.__instance__`
    // `any` refers to `TE.__instance__`
});</code></pre>
      <h2 id="section:method">Methods</h2>
      <h3 id="section:method--construct">Instance</h3>
      <p>Initialize a brand new text editor.</p>
      <pre><code>var editor = new TE(document.querySelector('#foo'));</code></pre>
      <h3 id="section:method-target">Get the Editor Area</h3>
      <p>Getting the editor area <abbr title="Document Object Model">DOM</abbr>.</p>
      <pre><code>var target = editor.target;</code></pre>
      <h3 id="section:method-set">Set Value</h3>
      <p>Set value to the editor area.</p>
      <pre><code>editor.set('foo bar baz');</code></pre>
      <h3 id="section:method-get">Get Value</h3>
      <p>Get value from the editor area.</p>
      <pre><code>console.log(editor.get());
console.log(editor.get('default value if empty'));</code></pre>
      <h3 id="section:method-save">Save State</h3>
      <p>Save state to the editor storage.</p>
      <pre><code>editor.save('my_state_id', 1);</code></pre>
      <h3 id="section:method-restore">Restore State</h3>
      <p>Restore the saved state from the editor storage.</p>
      <pre><code>alert(editor.restore('my_state_id', '#')); // should return `1` or `#` if not available</code></pre>
      <h3 id="section:method-focus">Focus the Editor Area</h3>
      <p>Just focus to the editor area.</p>
      <pre><code>editor.focus();</code></pre>
      <p>Focus to the end of the editor area.</p>
      <pre><code>editor.focus(true);</code></pre>
      <p>Focus to the start of the editor area.</p>
      <pre><code>editor.focus(false);</code></pre>
      <h3 id="section:method-blur">Blur the Editor Area</h3>
      <pre><code>editor.blur();</code></pre>
      <h3 id="section:method-$">Get Selection</h3>
      <p>A method to capture the current text selection. Set the first parameter to <code>true</code> to capture the caret offset from text area in pixel(s).</p>
      <pre><code>console.log(editor.$(true));</code></pre>
      <pre><code>// for “test before i am selected test after”
// with “i am selected” as the selected value
{
  start: 12, // selection start
  end: 25, // selection end
  value: 'i am selected', // selected text
  before: 'test before ', // text before selection
  after: ' test after', // text after selection
  caret: [ // caret offset from text area in pixel(s)
    { // selection start
      x: 99,
      y: 3
    },
    { // selection end
      x: 203,
      y: 3
    }
  ],
  length: 13 // length of selected text
}</code></pre>
      <h3 id="section:method-select">Set Selection</h3>
      <p>Set selection range without <code>select</code> event.</p>
      <pre><code>editor.select(7, 10);</code></pre>
      <p>Move caret position.</p>
      <pre><code>editor.select(7);</code></pre>
      <p>Restore selection after editor&rsquo;s blur event.</p>
      <pre><code>editor.select();</code></pre>
      <h3 id="section:method-replace">Replace At Selection</h3>
      <p>Replace selected text with something.</p>
      <pre><code>editor.replace(/foo/g, 'bar');</code></pre>
      <h3 id="section:method-replace_before">Replace Before Caret/Selection</h3>
      <p>Replace something before caret/selection with something.</p>
      <pre><code>editor.replaceBefore(/foo/g, 'bar');</code></pre>
      <h3 id="section:method-replace_after">Replace After Caret/Selection</h3>
      <p>Replace something after caret/selection with something.</p>
      <pre><code>editor.replaceAfter(/foo/g, 'bar');</code></pre>
      <h3 id="section:method-match">Match Selection</h3>
      <p>Return <code>true</code> if selection matched with pattern.</p>
      <pre><code>if (editor.match(/foo/)) { &hellip; }</code></pre>
      <p>Custom return value.</p>
      <pre><code>var match = editor.match(/^\d+$/, function(m) {
    return +(m[0] || 0);
});

if (match === 1) { &hellip; }</code></pre>
      <h3 id="section:method-insert">Insert At Caret/Selection</h3>
      <p>Insert something at caret/selection. The current selection will be replaced by the inserted text.</p>
      <pre><code>editor.insert(':)');</code></pre>
      <h3 id="section:method-insert_before">Insert Before Caret/Selection</h3>
      <p>Insert something before caret/selection. Set the second parameter to <code>true</code> to delete current selection before the text being inserted.</p>
      <pre><code>editor.insertBefore(':)', true);</code></pre>
      <h3 id="section:method-insert_before">Insert After Caret/Selection</h3>
      <p>Insert something after caret/selection. Set the second parameter to <code>true</code> to delete current selection before the text being inserted.</p>
      <pre><code>editor.insertAfter(':)', true);</code></pre>
      <h3 id="section:method-wrap">Wrap Selection</h3>
      <p>Wrap selection with <code>&lt;b&gt;</code> and <code>&lt;/b&gt;</code>.</p>
      <pre><code>editor.wrap('&lt;b&gt;', '&lt;/b&gt;');</code></pre>
      <p>Include <code>&lt;b&gt;</code> and <code>&lt;/b&gt;</code> to selection.</p>
      <pre><code>editor.wrap('&lt;b&gt;', '&lt;/b&gt;', true);</code></pre>
      <h3 id="section:method-wrap">Unwrap Selection</h3>
      <p>Unwrap selection from <code>&lt;b&gt;</code> and <code>&lt;/b&gt;</code>.</p>
      <pre><code>editor.unwrap('&lt;b&gt;', '&lt;/b&gt;');</code></pre>
      <p>Trim <code>&lt;b&gt;</code> and <code>&lt;/b&gt;</code> in selection.</p>
      <pre><code>editor.unwrap('&lt;b&gt;', '&lt;/b&gt;', true);</code></pre>
      <p>Unwrap selection from any <abbr title="Hyper Text Markup Language">HTML</abbr> tags.</p>
      <pre><code>editor.unwrap(/&lt;[^\/&lt;&gt;]+?&gt;/, /&lt;\/[^&lt;&gt;]+?&gt;/)</code></pre>
      <p>Trim <code>&lt;*&gt;</code> and <code>&lt;/*&gt;</code> in selection.</p>
      <pre><code>editor.unwrap(/&lt;[^\/&lt;&gt;]+?&gt;/, /&lt;\/[^&lt;&gt;]+?&gt;/, true)</code></pre>
      <h3 id="section:method-indent">Indent At Caret/Selection</h3>
      <p>Indent selected text with a tab.</p>
      <pre><code>editor.indent();</code></pre>
      <p>Indent selected text with a <code>::</code>.</p>
      <pre><code>editor.indent('::');</code></pre>
      <h3 id="section:method-outdent">Outdent At Caret/Selection</h3>
      <p>Outdent selected text from a tab.</p>
      <pre><code>editor.outdent();</code></pre>
      <p>Outdent selected text from a <code>::</code>.</p>
      <pre><code>editor.outdent('::');</code></pre>
      <p>Outdent selected text from any white&ndash;space(s).</p>
      <pre><code>editor.outdent(/[\t ]*/);</code></pre>
      <h3 id="section:method-trim">Trim White&ndash;Space(s)</h3>
      <p>Trim white&ndash;space(s) before and after selection range, and at the beginning and end of selection range.</p>
      <pre><code>editor.trim();</code></pre>
      <p>Replace the trimmed white&ndash;space(s) before and after selection range with <code>*</code>.</p>
      <pre><code>editor.trim('*', '*');</code></pre>
      <p>Replace the trimmed white&ndash;space(s) at the beginning and end of selection range with <code>*</code>.</p>
      <pre><code>editor.trim("", "", '*', '*');</code></pre>
      <p>Left trim only.</p>
      <pre><code>editor.trim("", false, "", false);</code></pre>
      <p>Right trim only.</p>
      <pre><code>editor.trim(false, "", false, "");</code></pre>
      <h3 id="section:method-toggle">Toggle State(s)</h3>
      <p>The first parameter should return an array index to access a function in the second parameter by its array index.</p>
      <pre><code>document.querySelector('button').addEventListener("click", function() {
    var state = (editor.$().value.match(/^do state (\d+)$/) || [0]); // default is `0`
    editor.toggle(state[0], [
        function($) {
            alert('did state 0');
        },
        function($) {
            alert('did state 1');
        },
        function($) {
            alert('did state 2');
        },
        &hellip;
    ]);
}, false);</code></pre>
      <h3 id="section:method-record">Update History</h3>
      <p>Update history data.</p>
      <pre><code>editor.record();</code></pre>
      <p>Replace the second history data with custom value.</p>
      <pre><code>// 0: content
// 1: selection start
// 2: selection end
// 3: scroll / text height
editor.record(['foo bar baz', 2, 4, 1], 1); // 0&ndash;based index</code></pre>
      <h3 id="section:method-loss">Remove History</h3>
      <p>Remove the last history data.</p>
      <pre><code>editor.loss();</code></pre>
      <p>Remove the second history data.</p>
      <pre><code>editor.loss(1); // 0&ndash;based index</code></pre>
      <p>Reset the history data.</p>
      <pre><code>editor.loss(true);</code></pre>
      <h3 id="section:method-records">Read History</h3>
      <p>Read all history data.</p>
      <pre><code>console.log(editor.records());</code></pre>
      <p>Read the second history data.</p>
      <pre><code>console.log(editor.records(1)); // 0&ndash;based index</code></pre>
      <p>Read the second history data if any, otherwise, return <code>#</code>.</p>
      <pre><code>console.log(editor.records(1, '#'));</code></pre>
      <h3 id="section:method-0">Disable History Feature</h3>
      <p>Temporarily disable the history feature.</p>
      <pre><code>editor[0](); // disable

editor.foo().bar().baz();

editor[1](); // re&ndash;enable</code></pre>
      <p>Inline mode.</p>
      <pre><code>editor[0]().foo().bar().baz()[1]();</code></pre>
      <h3 id="section:method-undo">Undo</h3>
      <p>Undo from the previous state.</p>
      <pre><code>editor.undo();</code></pre>
      <h3 id="section:method-redo">Redo</h3>
      <p>Redo from the previous undo.</p>
      <pre><code>editor.redo();</code></pre>
      <h3 id="section:method-scroll">Scroll</h3>
      <p>Get the current scroll step (text area scroll height divided by text height) and text height.</p>
      <pre><code>console.log(editor.scroll()); // `[4, 16]`</code></pre>
      <p>Scroll one step down from the current scroll step.</p>
      <pre><code>editor.scroll(true);</code></pre>
      <p>Scroll one step up from the current scroll step.</p>
      <pre><code>editor.scroll(false);</code></pre>
      <p>Scroll 3 rows from top.</p>
      <pre><code>editor.scroll(3);</code></pre>
      <h2 id="section:key">Keyboard Key Events</h2>
      <p>Normalized <code>KeyboardEvent.key</code> value in their lower&ndash;cased mode. It does support key aliases and regular expression matching too.</p>
      <pre><code>editor.target.addEventListener("keydown", function(e) {

    console.log(e.key); // return the native `KeyboardEvent.key` value if supported

    console.log(e.TE.key()); // return the current key character (lower&ndash;cased)
    console.log(e.TE.control()); // return `true` if &ldquo;control&rdquo; key is pressed
    console.log(e.TE.shift()); // return `true` if &ldquo;shift&rdquo; key is pressed
    console.log(e.TE.option()); // return `true` if &ldquo;option&rdquo; key is pressed
    console.log(e.TE.meta()); // return `true` if &ldquo;meta&rdquo; key is pressed

    console.log(e.TE.control('b')); // return `true` if &ldquo;control&rdquo; and `b` keys are pressed

    // check for current key character (try pressing the &ldquo;control&rdquo; key)
    if (e.TE.key('ctrl')) { &hellip; } // `ctrl` is an alias for `control`, this will return `true`
    if (e.TE.key() === 'ctrl') { &hellip; } // comparing `ctrl` outside the function, this will return `false`
    if (e.TE.key() === 'control') { &hellip; } // is equal to the original key value, this will return `true`
    if (e.TE.key(/^[abc]$/)) { &hellip; } // return `true` if key character is either `a`, `b` or `c`

}, false);</code></pre>
    </section>
    <section>
      <p class="center"><a class="button" href="ui" rel="next">Next &rsaquo;</a></p>
    </section>

    <footer>
      <span class="left">&copy; 2016 &middot; Made with <i class="fa fa-fw fa-ambulance" onmouseover="this.className='fa fa-fw fa-heart';" ontouchstart="this.className='fa fa-fw fa-heart';"></i> by <a href="">Taufik Nurrohman</a></span>
      <span class="right"><a href="https://github.com/tovic/text-editor"><i class="fa fa-github"></i> GitHub</a></span>
    </footer>

    <script src="index.min.js"></script>

  </body>
</html>