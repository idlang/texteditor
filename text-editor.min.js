/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.6.3
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function i(e){return e.toLowerCase()}function o(e){return e.toUpperCase()}function f(e){return"undefined"!=typeof e}function u(e){return"string"==typeof e}function l(e){return"number"==typeof e}function s(e){return"function"==typeof e}function a(e){return"object"==typeof e}function c(e){return e instanceof Array}function d(e){return"boolean"==typeof e}function p(e){return e instanceof RegExp?e.source||!0:!1}function h(e){return e instanceof HTMLElement}function g(e,t,n){return f(t)&&t>e?t:f(n)&&e>n?n:e}function b(e,t){return new RegExp(e,t)}function v(e,t){return 0===t?e[r](/^\s*/,""):1===t?e[r](/\s*$/,""):e[r](/^\s*|\s*$/g,"")}function y(e,t){return parseInt(e,f(t)?t:10)}function m(e){return e[r](/\-([a-z])/g,function(e,t){return o(t)})}function w(e){return e[r](/([A-Z])/g,function(e,t){return"-"+i(t)})}function x(t,n,i){var s,d,p,h,o=e.getComputedStyle(t,i),f=0,l={};if(a(n)){if(c(n)){o={};for(s in n)s=n[s],h=x(t,s,i),o[f]=h,o[s[r](/^\!/,"")]=h,++f;return o}for(s in n)d=n[s],t.style[m(s)]=d?u(d)?d:d+"px":"";return t}return n?("!"===n[0]&&(n=n.slice(1),p=1),s=o[m(n)],d=p?s:y(s),0===d?0:d||s):function(){for(s in o)d=y(o[s]),l[w(s)]=0===d?0:d||o[s];return l}()}function k(e,t){t=t||{};for(var n in t)a(e[n])&&a(t[n])&&!h(e[n])&&!h(t[n])?e[n]=k(e[n],t[n]):e[n]=t[n];return e}function E(e,t){var n,r,i;if(c(e))for(n=0,r=e.length;r>n&&(i=t(e[n],n,e),i===!0||i!==!1);++n);else for(n in e)if(i=t(e[n],n,e),i!==!0&&i===!1)break;return e}var n="__instance__",r="replace";!function(e){var o,f,t={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},r={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",back:"backspace",space:" ",plus:"+"};for(o=1;25>o;++o)t[111+o]="f"+o;for(o=65;91>o;++o)t[o]=i(String.fromCharCode(o));e.keys=t,e.keys_alias=r,Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function f(e,n){return e&&e!==!0?(u(n)&&(n=t[n+"Key"]),p(e)?n&&e.test(o):(e=i(e),n&&(r[e]||e)===o)):o}var t=this,n=e.keys,r=e.keys_alias,o=t.key?i(t.key):n[t.which||t.keyCode];return a(o)&&(o=t.shiftKey?o[1]||o[0]:o[0]),o=i(o),{key:function(e){return f(e,1)},control:function(e){return f(e,"ctrl")},shift:function(e){return f(e,"shift")},option:function(e){return f(e,"alt")},meta:function(e){return f(e,"meta")}}}}),e.version="2.6.3",e[n]={},e.each=function(t,r){return setTimeout(function(){f=e[n];for(o in f)t(f[o],o,f)},0===r?0:r||1),e}}(e.TE=function(r){function he(){return r.value[C](/\r/g,"")}function ge(e){if(c(e)){te=[];for(Z in e)te[Z]=ge(e[Z]);return te}return e[C](b("["+i.x[C](/./g,"\\$&")+"]","g"),"\\$&")}function be(e){return p(e)||ge(e)}function ve(t){var c,n="font-",i="text-",o="padding-",u="border-",l="-width",s="!",a=[u+"bottom"+l,u+"left"+l,u+"right"+l,u+"top"+l,"box-sizing","direction",s+n+"family",n+"size",s+n+"size-adjust",s+n+"stretch",s+n+"style",s+n+"variant",s+n+"weight","height","letter-spacing","line-height","overflow-x",o+"bottom",o+"left",o+"right",o+"top","tab-size",i+"align",i+"decoration",i+"indent",i+"transform","width","word-spacing"],s=a.length;return A[_](Y),oe=Y.style,fe=x(r,a),se=fe[26],N[z]=he()[S](t)||".",x(Y,k(fe,{width:f(e.mozInnerScreenX)?se:se+pe,"overflow-y":r.scrollHeight>fe[13]?"scroll":"auto","white-space":"pre-wrap","word-wrap":"break-word",position:"absolute",visibility:"hidden"})),Y[z]=he()[S](0,t),Y[_](N),c={x:N.offsetLeft+fe[1],y:N.offsetTop+fe[3]},A[L](Y),c}var $,P,W,R,F,U,q,X,K,Z,Q,te,oe,fe,le,se,ae,i=this,o=1,m=0,w="createElement",T=0,_="appendChild",L="removeChild",C="replace",z="textContent",S="substring",O="selectionStart",j="selectionEnd",M="scrollTop",D="insert",H={},B=t.documentElement,A=t.body,Y=t[w]("div"),N=t[w]("span"),I="	";if(f(r)||(r=t[w]("textarea")),$=[[he(),0,0,0]],!(i instanceof TE))return new TE(r);var pe=function(){return P="-200px",W="200px",A[_](Y),x(Y,{position:"absolute",top:P,left:P,width:W,height:W,overflow:"scroll",visibility:"hidden"}),R=Y.offsetWidth-Y.clientWidth,A[L](Y),R}();i.type="",i.x="!$^*()-=+[]{}\\|:<>,./?",r.TE=i,TE[n][r.id||r.name||Object.keys(TE[n]).length]=i,i.scroll=function(e){return R=r[M],K=x(r,["line-height","font-size"]),f(e)?d(e)?i.scroll(i.scroll()[0]+(e===!1?-1:1)):(r[M]=K[0]*e+K[1]+(K[0]-K[1]),i):[Math.floor(R/K[0]),K[0]]},i.set=function(e){return r.value=e,i},i.get=function(e){return f(e)?he().length?he():e:he()},i.save=function(e,t){return H[e]=t,i},i.restore=function(e,t){return f(e)?f(H[e])?H[e]:f(t)?t:"":H},i.focus=function(e,t){return e===!0?(e=he().length,t=r.scrollHeight):e===!1&&(e=t=0),f(e)&&(r[O]=r[j]=e,r[M]=t),r.focus(),i},i.blur=function(){return r.blur(),i},i.$=function(e){return le=he(),P=r[O],W=r[j],R=le[S](P,W),{start:P,end:W,value:R,before:le[S](0,P),after:le[S](W),caret:e?[ve(P),ve(W)]:[],length:R.length}},i.select=function(){var e=arguments,t=e.length,n=i.$(),o="TE.scroll";if(i.save(o,[B[M],A[M],r[M]]).focus(),0===t)e[0]=n.start,e[1]=n.end;else if(1===t){if(e[0]===!0)return r.select(),i;e[1]=e[0]}return r.setSelectionRange(e[0],e[1]),te=i.restore(o,[0,0,0]),B[M]=te[0],A[M]=te[1],r[M]=te[2],i},i.match=function(e,t){return Q=i.$().value.match(e),s(t)?t(Q||[]):!!Q},i[C]=function(e,t,n){return oe=i.$(),P=oe.before,W=oe.after,R=oe.value,0===n?P=P[C](e,t):1===n?W=W[C](e,t):R=R[C](e,t),F=P.length,U=F+R.length,i.set(P+R+W).select(F,U).record()},i[C+"Before"]=function(e,t){return i[C](e,t,0)},i[C+"After"]=function(e,t){return i[C](e,t,1)},i[D]=function(e,t,n){return q=/^[\s\S]*?$/,n&&i[C](q,"").loss(),0===t?q=/$/:1===t&&(q=/^/),i[C](q,e,t)},i[D+"Before"]=function(e,t){return i[D](e,0,t)},i[D+"After"]=function(e,t){return i[D](e,1,t)},i.wrap=function(e,t,n){return oe=i.$(),P=oe.before,W=oe.after,R=oe.value,n?i[C](/^([\s\S]*?)$/,e+"$1"+t):i.set(P+e+R+t+W).select((P+e).length,(P+e+R).length).record()},i.unwrap=function(e,t,n){return oe=i.$(),P=oe.before,W=oe.after,R=oe.value,e=be(e),t=be(t),q=b(e+"$"),X=b("^"+t),n?i[C](b("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):q.test(P)&&X.test(W)?(F=P[C](q,""),U=W[C](X,""),i.set(F+R+U).select(F.length,(F+R).length).record()):i.select()},i.indent=function(e,t){return oe=i.$(),e=f(e)?e:I,oe.length?i[C](b("^"+(t?"":"(?!$)"),"gm"),e):i[D](e,0)},i.outdent=function(e){return oe=i.$(),e=f(e)?e:I,e=be(e),oe.length?i[C](b("^"+e,"gm"),""):i[C](b(e+"$"),"",0)},i.trim=function(e,t,n,r){return e!==!1&&(e=e||""),t!==!1&&(t=t||""),n!==!1&&(n=n||""),r!==!1&&(r=r||""),oe=i.$(),P=oe.before,W=oe.after,R=oe.value,F=e!==!1?v(P,1)+e:P,U=t!==!1?t+v(W,0):W,q=(n!==!1?n:"")+v(R)+(r!==!1?r:""),i.set(F+q+U).select(F.length,(F+q).length)},i.toggle=function(e,t){return f(t)?(e===!0?e=0:e===!1&&(e=1),s(t[e])?(t[e](i,e),i):i.select()):i.select()},i.record=function(e,t){return m?i:(te=$[T],oe=i.$(),le=he(),se=oe.start,ae=oe.end,e=f(e)?e:[le,se,ae,i.scroll()[0]],te&&a(te)&&te[0]===le&&te[1]===se&&te[2]===ae?i:(T++,$[f(t)?t:T]=e,o=$.length,i))},i.loss=function(e){return e===!0?($=[$[0]],T=0,i):(e=f(e)?e:T,T>=e&&T--,$.splice(e,1),o=$.length,i)},i.records=function(e,t){return f(e)?f($[e])?$[e]:f(t)?t:!1:$},i.undo=function(){return T--,T=g(T,0,o-1),P=$[T],i.set(P[0]).select(P[1],P[2]).scroll(P[3])},i.redo=function(){return T++,T=g(T,0,o-1),P=$[T],i.set(P[0]).select(P[1],P[2]).scroll(P[3])},i[0]=function(){return m=1,i},i[1]=function(e){return m=0,e===!1?i:i.record()},i.is=function(e,t){return t=f(t)?t:!1,p(e)?e.test(i.type)?i.type:t:i.type===e?i.type:t};var ye={a:c,b:d,e:h,f:s,i:l,n:function(e){return null===e},o:a,r:p,s:u,x:function(e){return!f(e)}};for(Z in ye)i.is[Z]=ye[Z];return i._={x:ge,extend:k,each:E,trim:v,css:x,edge:g,pattern:b,i:y},i.target=r,i})}(window,document);