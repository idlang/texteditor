/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.5.2
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
var TE=function(e){function t(){return e.value.replace(/\r/g,"")}function n(e){return void 0!==e}function r(e){return"string"==typeof e}function l(e){return"function"==typeof e}function i(e){return"object"==typeof e}function a(e){return e instanceof RegExp&&e.source?e.source:!1}function o(e){return e instanceof HTMLElement}function c(e){return a(e)||v._.x(e)}function s(e,t,n){return t>e?t:e>n?n:e}function u(e,t){return RegExp(e,t)}function p(e){return parseInt(e,10)}function f(e){return e.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})}function h(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function d(e,t){var n,r,l=b.getComputedStyle(e,null),i={};return t?(n=l[f(t)],r=p(n),0===r?0:r||n):function(){for(n in l)r=p(l[n]),i[h(n)]=0===r?0:r||l[n];return i}()}function g(e,t){t=t||{};for(var n in t)e[n]=i(e[n])&&i(t[n])&&!o(e[n])&&!o(t[n])?g(e[n],t[n]):t[n];return e}function m(l){var i,a,o,c,s,u="font-",p="text-",h="padding-",g="border-",m=["box-sizing","direction",u+"family",u+"size",u+"size-adjust",u+"stretch",u+"style",u+"variant",u+"weight","height","letter-spacing","line-height","overflow-x",h+"bottom",h+"left",h+"right",h+"top","tab-size",p+"align",p+"decoration",p+"indent",p+"transform","word-spacing"],v=$.body,k=m.length;for(v.appendChild(q),i=q.style,a=d(e),s=a.width,i.whiteSpace="pre-wrap",i.wordWrap="break-word",i.position="absolute",i.visibility="hidden";--k;)c=a[m[k]],i[f(m[k])]=r(c)?c:c+"px";return i.overflowY=e.scrollHeight>a.height?"scroll":"auto",i.width=n(b.mozInnerScreenX)?s+"px":s+T+"px",O.textContent=t().substring(l)||".",c=t().substring(0,l),q.textContent=c,q.appendChild(O),o={x:O.offsetLeft+a[g+"left-width"],y:O.offsetTop+a[g+"top-width"]},v.removeChild(q),o}var b=window,$=document,v=this,k=1,_=0,y=[[t(),0,0,0]],w=0,x={},q=$.createElement("div"),O=$.createElement("span"),I="\t",T=function(){var e,t=$.createElement("div"),n=$.body,r=t.style;return n.appendChild(t),r.position="absolute",r.top=r.left="-9999px",r.width=r.height="100px",r.overflow="scroll",r.visibility="hidden",e=t.offsetWidth-t.clientWidth,n.removeChild(t),e}();return v.type="",v.x="!$^*()-=+[]{}\\|:<>,./?",e.TE=v,TE.__instance__[e.id||e.name||Object.keys(TE.__instance__).length]=v,v.scroll=function(t){var l=e.scrollTop,i=d(e,"line-height"),a=d(e,"font-size");return n(t)?r(t)?(v.scroll(v.scroll()+("-"===t?-1:1)),v):(e.scrollTop=i*t+(i-a),v):Math.floor(l/i)},v.set=function(t){return e.value=t,v},v.get=function(e){return n(e)?t().length?t():e:t()},v.save=function(e,t){return x[e]=t,v},v.restore=function(e,t){return n(e)?n(x[e])?x[e]:n(t)?t:"":x},v.focus=function(r,l){return r===!0?(r=t().length,l=e.scrollHeight):r===!1&&(r=l=0),n(r)&&(e.selectionStart=e.selectionEnd=r,e.scrollTop=l),e.focus(),v},v.blur=function(){return e.blur(),v},v.$=function(n){var r=t().replace(/\r/g,""),l=e.selectionStart,i=e.selectionEnd,a=r.substring(l,i),o=n?[m(l),m(i)]:[];return{start:l,end:i,value:a,before:r.substring(0,l),after:r.substring(i),caret:o,length:a.length}},v.select=function(){var t,n=arguments,r=n.length,l=$.documentElement,i=$.body,a=e,o="scrollTop",c=v.$(),s="TE.scroll";if(v.save(s,[l[o],i[o],a[o]]).focus(),0===r)n[0]=c.start,n[1]=c.end;else if(1===r){if(n[0]===!0)return a.select(),v;n[1]=n[0]}return a.setSelectionRange(n[0],n[1]),t=v.restore(s,[0,0,0]),l[o]=t[0],i[o]=t[1],a[o]=t[2],v},v.match=function(e,t){var n=v.$().value.match(e);return l(t)?t(n||[]):!!n},v.replace=function(e,t,n){var r,l,i=v.$(),a=i.before,o=i.after,c=i.value;return-1===n?a=a.replace(e,t):1===n?o=o.replace(e,t):c=c.replace(e,t),r=a.length,l=r+c.length,v.set(a+c+o).select(r,l).record()},v.replaceBefore=function(e,t){return v.replace(e,t,-1)},v.replaceAfter=function(e,t){return v.replace(e,t,1)},v.insert=function(e,t,n){var r=/^[\s\S]*?$/;return v[0](),n&&v.replace(r,""),-1===t?r=/$/:1===t&&(r=/^/),v.replace(r,e,t)[1]()},v.insertBefore=function(e,t){return v.insert(e,-1,t)},v.insertAfter=function(e,t){return v.insert(e,1,t)},v.wrap=function(e,t,n){var r=v.$(),l=r.before,i=r.after,a=r.value;return n?v.replace(/^([\s\S]*?)$/,e+"$1"+t):v.set(l+e+a+t+i).select((l+e).length,(l+e+a).length).record()},v.unwrap=function(e,t,n){var r,l,i,a,o=v.$(),s=o.before,p=o.after,f=o.value;return e=c(e),t=c(t),i=u(e+"$"),a=u("^"+t),n?v.replace(u("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):i.test(s)&&a.test(p)?(r=s.replace(i,""),l=p.replace(a,""),v.set(r+f+l).select(r.length,(r+f).length).record()):v.select()},v.indent=function(e){var t=v.$(),e=n(e)?e:I;return t.length?v.replace(/^(?!$)/gm,e):v.set(t.before+e+t.value+t.after).select(t.start+e.length).record()},v.outdent=function(e){var t,r=v.$(),e=n(e)?e:I;return e=c(e),r.length?v.replace(u("^"+e,"gm"),""):(t=r.before.replace(u(e+"$"),""),v.set(t+r.value+r.after).select(t.length).record())},v.trim=function(e,t,n,r){e!==!1&&(e=e||""),t!==!1&&(t=t||""),n!==!1&&(n=n||""),r!==!1&&(r=r||"");var l=v.$(),i=l.before,a=l.after,o=l.value,c=e!==!1?i.replace(/\s*$/,e):i,s=t!==!1?a.replace(/^\s*/,t):a,u=o.replace(/^(\s*)([\s\S]*?)(\s*)$/g,(n!==!1?n:"$1")+"$2"+(r!==!1?r:"$3"));return v.set(c+u+s).select(c.length,(c+u).length)},v.toggle=function(e,t){return n(t)?(e===!0?e=0:e===!1&&(e=1),l(t[e])?(t[e](v,e),v):v.select()):v.select()},v.record=function(e,r){if(_)return v;var l=y[w],a=v.$(),o=t(),c=a.start,s=a.end,e=n(e)?e:[o,c,s,v.scroll()];return l&&i(l)&&l[0]===o&&l[1]===c&&l[2]===s?v:(w++,y[n(r)?r:w]=e,k=y.length,v)},v.loss=function(e){return e===!0?(y=[y[0]],w=0,v):(e=n(e)?e:w,e>w||w--,y.splice(e,1),k=y.length,v)},v.records=function(e,t){return n(e)?n(y[e])?y[e]:n(t)?t:!1:y},v.undo=function(){w--,w=s(w,0,k-1);var e=y[w];return v.set(e[0]).select(e[1],e[2]).scroll(e[3])},v.redo=function(){w++,w=s(w,0,k-1);var e=y[w];return v.set(e[0]).select(e[1],e[2]).scroll(e[3])},v._={x:function(e){if(i(e)){for(var t=[],n=e.length;n--;)t.unshift(v._.x(e[n]));return t}return e.replace(u("["+v.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},extend:g,each:function(e,t){var n,r;for(r in e)if(n=t(e[r],r,e),n!==!0&&n===!1)break;return e},css:d},v[0]=function(){return _=1,v},v[1]=function(e){return _=0,e===!1?v:v.record()},v.target=e,v};!function(e){function t(e){return e.toLowerCase()}var n,r;for(e.version="2.5.2",e.__instance__={},e.each=function(t,n){return setTimeout(function(){var n,r=e.__instance__;for(n in r)t(r[n],n)},0===n?0:n||1),e},e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alias={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu",return:"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"},n=1;25>n;++n)e.keys[111+n]="f"+n;for(r="",n=65;91>n;++n)e.keys[n]=t(String.fromCharCode(n));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function n(e,n){return e&&e!==!0?(e=t(e),n&&(l[e]||e)===a):n}var r=e.keys,l=e.keys_alias,i=this,a=i.key?t(i.key):r[i.which||i.keyCode];return"object"==typeof a&&(a=i.shiftKey?a[1]||a[0]:a[0]),a=t(a),{key:function(e){return e&&e!==!0?e instanceof RegExp?e.test(a):(e=t(e),(l[e]||e)===a):a},control:function(e){return n(e,i.ctrlKey)},shift:function(e){return n(e,i.shiftKey)},option:function(e){return n(e,i.altKey)},meta:function(e){return n(e,i.metaKey)}}}})}(TE);