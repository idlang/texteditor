/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.5.4
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function r(e){return e.toLowerCase()}function n(e){return"undefined"!=typeof e}function o(e){return"string"==typeof e}function i(e){return"function"==typeof e}function u(e){return"object"==typeof e}function l(e){return e instanceof RegExp&&e.source?e.source:!1}function c(e){return e instanceof HTMLElement}function f(e,t,r){return t>e?t:e>r?r:e}function a(e,t){return new RegExp(e,t)}function s(e){return parseInt(e,10)}function p(e){return e.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})}function h(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function d(t,r){var i,u,n=e.getComputedStyle(t,null),o={};return r?(i=n[p(r)],u=s(i),0===u?0:u||i):function(){for(i in n)u=s(n[i]),o[h(i)]=0===u?0:u||n[i];return o}()}function g(e,t){t=t||{};for(var r in t)u(e[r])&&u(t[r])&&!c(e[r])&&!c(t[r])?e[r]=g(e[r],t[r]):e[r]=t[r];return e}!function(e){e.version="2.5.4",e.__instance__={},e.each=function(t,r){return setTimeout(function(){var n,r=e.__instance__;for(n in r)t(r[n],n,r)},0===r?0:r||1),e},e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alias={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"};for(var t=1;25>t;++t)e.keys[111+t]="f"+t;for(var t=65;91>t;++t)e.keys[t]=r(String.fromCharCode(t));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function c(e,t){return e&&e!==!0?l(e)?t&&e.test(i):(e=r(e),t&&(n[e]||e)===i):t}var t=e.keys,n=e.keys_alias,o=this,i=o.key?r(o.key):t[o.which||o.keyCode];return u(i)&&(i=o.shiftKey?i[1]||i[0]:i[0]),i=r(i),{key:function(e){return e&&e!==!0?l(e)?e.test(i):(e=r(e),(n[e]||e)===i):i},control:function(e){return c(e,o.ctrlKey)},shift:function(e){return c(e,o.shiftKey)},option:function(e){return c(e,o.altKey)},meta:function(e){return c(e,o.metaKey)}}}})}(e.TE=function(r){function _(){return r.value.replace(/\r/g,"")}function k(e){return l(e)||c._.x(e)}function E(i){var g,v,m,w,$,u="font-",l="text-",c="padding-",f="border-",a=["box-sizing","direction",u+"family",u+"size",u+"size-adjust",u+"stretch",u+"style",u+"variant",u+"weight","height","letter-spacing","line-height","overflow-x",c+"bottom",c+"left",c+"right",c+"top","tab-size",l+"align",l+"decoration",l+"indent",l+"transform","word-spacing"],s=t.body,h=a.length;for(s.appendChild(y),g=y.style,v=d(r),$=v.width,g.whiteSpace="pre-wrap",g.wordWrap="break-word",g.position="absolute",g.visibility="hidden";--h;)w=v[a[h]],g[p(a[h])]=o(w)?w:w+"px";return g.overflowY=r.scrollHeight>v.height?"scroll":"auto",n(e.mozInnerScreenX)?g.width=$+"px":g.width=$+x+"px",b.textContent=_().substring(i)||".",w=_().substring(0,i),y.textContent=w,y.appendChild(b),m={x:b.offsetLeft+v[f+"left-width"],y:b.offsetTop+v[f+"top-width"]},s.removeChild(y),m}var c=this,s=1,h=0,v=[[_(),0,0,0]],m=0,w={},y=t.createElement("div"),b=t.createElement("span"),$="\t",x=function(){var o,e=t.createElement("div"),r=t.body,n=e.style;return r.appendChild(e),n.position="absolute",n.top=n.left="-9999px",n.width=n.height="100px",n.overflow="scroll",n.visibility="hidden",o=e.offsetWidth-e.clientWidth,r.removeChild(e),o}();return c.type="",c.x="!$^*()-=+[]{}\\|:<>,./?",r.TE=c,TE.__instance__[r.id||r.name||Object.keys(TE.__instance__).length]=c,c.scroll=function(e){var t=r.scrollTop,o=d(r,"line-height"),i=d(r,"font-size");return n(e)?e===!0||e===!1?c.scroll(c.scroll()+(e===!1?-1:1)):(r.scrollTop=o*e+(o-i),c):Math.floor(t/o)},c.set=function(e){return r.value=e,c},c.get=function(e){return n(e)?_().length?_():e:_()},c.save=function(e,t){return w[e]=t,c},c.restore=function(e,t){return n(e)?n(w[e])?w[e]:n(t)?t:"":w},c.focus=function(e,t){return e===!0?(e=_().length,t=r.scrollHeight):e===!1&&(e=t=0),n(e)&&(r.selectionStart=r.selectionEnd=e,r.scrollTop=t),r.focus(),c},c.blur=function(){return r.blur(),c},c.$=function(e){var t=_(),n=r.selectionStart,o=r.selectionEnd,i=t.substring(n,o),u=e?[E(n),E(o)]:[];return{start:n,end:o,value:i,before:t.substring(0,n),after:t.substring(o),caret:u,length:i.length}},c.select=function(){var s,e=arguments,n=e.length,o=t.documentElement,i=t.body,u=r,l="scrollTop",f=c.$(),a="TE.scroll";if(c.save(a,[o[l],i[l],u[l]]).focus(),0===n)e[0]=f.start,e[1]=f.end;else if(1===n){if(e[0]===!0)return u.select(),c;e[1]=e[0]}return u.setSelectionRange(e[0],e[1]),s=c.restore(a,[0,0,0]),o[l]=s[0],i[l]=s[1],u[l]=s[2],c},c.match=function(e,t){var r=c.$().value.match(e);return i(t)?t(r||[]):!!r},c.replace=function(e,t,r){var l,f,n=c.$(),o=n.before,i=n.after,u=n.value;return-1===r?o=o.replace(e,t):1===r?i=i.replace(e,t):u=u.replace(e,t),l=o.length,f=l+u.length,c.set(o+u+i).select(l,f).record()},c.replaceBefore=function(e,t){return c.replace(e,t,-1)},c.replaceAfter=function(e,t){return c.replace(e,t,1)},c.insert=function(e,t,r){var n=/^[\s\S]*?$/;return c[0](),r&&c.replace(n,""),-1===t?n=/$/:1===t&&(n=/^/),c.replace(n,e,t)[1]()},c.insertBefore=function(e,t){return c.insert(e,-1,t)},c.insertAfter=function(e,t){return c.insert(e,1,t)},c.wrap=function(e,t,r){var n=c.$(),o=n.before,i=n.after,u=n.value;return r?c.replace(/^([\s\S]*?)$/,e+"$1"+t):c.set(o+e+u+t+i).select((o+e).length,(o+e+u).length).record()},c.unwrap=function(e,t,r){var l,f,s,p,n=c.$(),o=n.before,i=n.after,u=n.value;return e=k(e),t=k(t),s=a(e+"$"),p=a("^"+t),r?c.replace(a("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):s.test(o)&&p.test(i)?(l=o.replace(s,""),f=i.replace(p,""),c.set(l+u+f).select(l.length,(l+u).length).record()):c.select()},c.indent=function(e){var t=c.$();return e=n(e)?e:$,t.length?c.replace(/^(?!$)/gm,e):c.insert(e,-1)},c.outdent=function(e){var t=c.$();return e=n(e)?e:$,e=k(e),t.length?c.replace(a("^"+e,"gm"),""):c.replace(a(e+"$"),"",-1)},c.trim=function(e,t,r,n){e!==!1&&(e=e||""),t!==!1&&(t=t||""),r!==!1&&(r=r||""),n!==!1&&(n=n||"");var o=c.$(),i=o.before,u=o.after,l=o.value,f=e!==!1?i.replace(/\s*$/,e):i,a=t!==!1?u.replace(/^\s*/,t):u,s=l.replace(/^(\s*)([\s\S]*?)(\s*)$/g,(r!==!1?r:"$1")+"$2"+(n!==!1?n:"$3"));return c.set(f+s+a).select(f.length,(f+s).length)},c.toggle=function(e,t){return n(t)?(e===!0?e=0:e===!1&&(e=1),i(t[e])?(t[e](c,e),c):c.select()):c.select()},c.record=function(e,t){if(h)return c;var r=v[m],o=c.$(),i=_(),l=o.start,f=o.end,e=n(e)?e:[i,l,f,c.scroll()];return r&&u(r)&&r[0]===i&&r[1]===l&&r[2]===f?c:(m++,v[n(t)?t:m]=e,s=v.length,c)},c.loss=function(e){return e===!0?(v=[v[0]],m=0,c):(e=n(e)?e:m,m>=e&&m--,v.splice(e,1),s=v.length,c)},c.records=function(e,t){return n(e)?n(v[e])?v[e]:n(t)?t:!1:v},c.undo=function(){m--,m=f(m,0,s-1);var e=v[m];return c.set(e[0]).select(e[1],e[2]).scroll(e[3])},c.redo=function(){m++,m=f(m,0,s-1);var e=v[m];return c.set(e[0]).select(e[1],e[2]).scroll(e[3])},c[0]=function(){return h=1,c},c[1]=function(e){return h=0,e===!1?c:c.record()},c._={x:function(e){if(u(e)){for(var t=[],r=e.length;r--;)t.unshift(c._.x(e[r]));return t}return e.replace(a("["+c.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},extend:g,each:function(e,t,r){var n,o,i;if(r)for(n=0,o=e.length;o>n&&(i=t(e[n],n,e),i===!0||i!==!1);++n);else for(n in e)if(i=t(e[n],n,e),i!==!0&&i===!1)break;return e},css:d},c.target=r,c})}(window,document);