/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.6.4
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function i(e){return e.toLowerCase()}function o(e){return e.toUpperCase()}function a(e){return"undefined"!=typeof e}function l(e){return"string"==typeof e}function f(e){return"number"==typeof e}function u(e){return"function"==typeof e}function s(e){return"object"==typeof e}function c(e){return e instanceof Array}function A(e){return"boolean"==typeof e}function E(e){return e instanceof RegExp?e.source||!0:!1}function O(e){return e instanceof HTMLElement}function R(e,t,n){return a(t)&&t>e?t:a(n)&&e>n?n:e}function I(e,t){return new RegExp(e,t)}function F(e,t){return 0===t?e[r](/^\s*/,""):1===t?e[r](/\s*$/,""):e[r](/^\s*|\s*$/g,"")}function d(e,t){return parseInt(e,a(t)?t:10)}function L(e){return e[r](/\-([a-z])/g,function(e,t){return o(t)})}function S(e){return e[r](/([A-Z])/g,function(e,t){return"-"+i(t)})}function T(t,n,i){var u,A,E,O,o=e.getComputedStyle(t,i),a=0,f={};if(s(n)){if(c(n)){o={};for(u in n)u=n[u],O=T(t,u,i),o[a]=O,o[u[r](/^\!/,"")]=O,++a;return o}for(u in n)A=n[u],t.style[L(u)]=A?l(A)?A:A+"px":"";return t}return n?("!"===n[0]&&(n=n.slice(1),E=1),u=o[L(n)],A=E?u:d(u),0===A?0:A||u):function(){for(u in o)A=d(o[u]),f[S(u)]=0===A?0:A||o[u];return f}()}function N(e,t){t=t||{};for(var n in t)s(e[n])&&s(t[n])&&!O(e[n])&&!O(t[n])?e[n]=N(e[n],t[n]):e[n]=t[n];return e}function g(e,t){var n,r,i;if(c(e))for(n=0,r=e.length;r>n&&(i=t(e[n],n,e),i===!0||i!==!1);++n);else for(n in e)if(i=t(e[n],n,e),i!==!0&&i===!1)break;return e}var n="__instance__",r="replace";!function(e){var o,a,t={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},r={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",back:"backspace",space:" ",plus:"+"};for(o=1;25>o;++o)t[111+o]="f"+o;for(o=65;91>o;++o)t[o]=i(String.fromCharCode(o));e.keys=t,e.keys_alias=r,Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function a(e,n){return e&&e!==!0?(l(n)&&(n=t[n+"Key"]),E(e)?n&&e.test(o):(e=i(e),n&&(r[e]||e)===o)):o}var t=this,n=e.keys,r=e.keys_alias,o=t.key?i(t.key):n[t.which||t.keyCode];return s(o)&&(o=t.shiftKey?o[1]||o[0]:o[0]),o=i(o),{key:function(e){return a(e,1)},control:function(e){return a(e,"ctrl")},shift:function(e){return a(e,"shift")},option:function(e){return a(e,"alt")},meta:function(e){return a(e,"meta")}}}}),e.version="2.6.4",e[n]={},e.each=function(t,r){return setTimeout(function(){a=e[n];for(o in a)t(a[o],o,a)},0===r?0:r||1),e}}(e.TE=function(r){function Oe(){return r.value[m](/\r/g,"")}function Re(e){if(c(e)){te=[];for(J in e)te[J]=Re(e[J]);return te}return e[m](I("["+i.x[m](/./g,"\\$&")+"]","g"),"\\$&")}function Ie(e){return E(e)||Re(e)}function Fe(t){var c,n="font-",i="text-",o="padding-",l="border-",f="-width",u="!",s=[l+"bottom"+f,l+"left"+f,l+"right"+f,l+"top"+f,"box-sizing","direction",u+n+"family",n+"size",u+n+"size-adjust",u+n+"stretch",u+n+"style",u+n+"variant",u+n+"weight","height","letter-spacing","line-height","overflow-x",o+"bottom",o+"left",o+"right",o+"top","tab-size",i+"align",i+"decoration",i+"indent",i+"transform","width","word-spacing"],u=s.length;return v[p](U),oe=U.style,ae=T(r,s),ue=ae[26],k[H]=Oe()[M](t)||".",T(U,N(ae,{width:a(e.mozInnerScreenX)?ue:ue+Ee,"overflow-y":r.scrollHeight>ae[13]?"scroll":"auto","white-space":"pre-wrap","word-wrap":"break-word",position:"absolute",visibility:"hidden"})),U[H]=Oe()[M](0,t),U[p](k),c={x:k.offsetLeft+ae[1],y:k.offsetTop+ae[3]},v[G](U),c}var C,K,x,Y,V,$,_,z,Q,J,Z,te,oe,ae,fe,ue,se,i=this,o=1,L=0,S="createElement",h=0,p="appendChild",G="removeChild",m="replace",H="textContent",M="substring",D="selectionStart",B="selectionEnd",b="scrollTop",y="insert",W={},P=t.documentElement,v=t.body,U=t[S]("div"),k=t[S]("span"),w="	";if(a(r)||(r=t[S]("textarea")),C=[[Oe(),0,0,0]],!(i instanceof TE))return new TE(r);var Ee=function(){return K="-200px",x="200px",v[p](U),T(U,{position:"absolute",top:K,left:K,width:x,height:x,overflow:"scroll",visibility:"hidden"}),Y=U.offsetWidth-U.clientWidth,v[G](U),Y}();i.type="",i.x="!$^*()-=+[]{}\\|:<>,./?",r.TE=i,TE[n][r.id||r.name||Object.keys(TE[n]).length]=i,i.scroll=function(e){return Y=r[b],Q=T(r,["line-height","font-size"]),a(e)?A(e)?i.scroll(i.scroll()[0]+(e===!1?-1:1)):(r[b]=Q[0]*e+Q[1]+(Q[0]-Q[1]),i):[Math.floor(Y/Q[0]),Q[0]]},i.set=function(e){return r.value=e,i},i.get=function(e){return a(e)?Oe().length?Oe():e:Oe()},i.save=function(e,t){return W[e]=t,i},i.restore=function(e,t){return a(e)?a(W[e])?W[e]:a(t)?t:"":W},i.focus=function(e,t){return e===!0?(e=Oe().length,t=r.scrollHeight):e===!1&&(e=t=0),a(e)&&(r[D]=r[B]=e,r[b]=t),r.focus(),i},i.blur=function(){return r.blur(),i},i.$=function(e){return fe=Oe(),K=r[D],x=r[B],Y=fe[M](K,x),{start:K,end:x,value:Y,before:fe[M](0,K),after:fe[M](x),caret:e?[Fe(K),Fe(x)]:[],length:Y.length}},i.select=function(){var e=arguments,t=e.length,n=i.$(),o="TE.scroll";if(i.save(o,[P[b],v[b],r[b]]).focus(),0===t)e[0]=n.start,e[1]=n.end;else if(1===t){if(e[0]===!0)return r.select(),i;e[1]=e[0]}return r.setSelectionRange(e[0],e[1]),te=i.restore(o,[0,0,0]),P[b]=te[0],v[b]=te[1],r[b]=te[2],i},i.match=function(e,t){return Z=i.$().value.match(e),u(t)?t(Z||[]):!!Z},i[m]=function(e,t,n){return oe=i.$(),K=oe.before,x=oe.after,Y=oe.value,0===n?K=K[m](e,t):1===n?x=x[m](e,t):Y=Y[m](e,t),V=K.length,$=V+Y.length,i.set(K+Y+x).select(V,$).record()},i[m+"Before"]=function(e,t){return i[m](e,t,0)},i[m+"After"]=function(e,t){return i[m](e,t,1)},i[y]=function(e,t,n){return _=/^[\s\S]*?$/,n&&i.$().length&&i[m](_,"").loss(),0===t?_=/$/:1===t&&(_=/^/),i[m](_,e,t)},i[y+"Before"]=function(e,t){return i[y](e,0,t)},i[y+"After"]=function(e,t){return i[y](e,1,t)},i.wrap=function(e,t,n){return oe=i.$(),K=oe.before,x=oe.after,Y=oe.value,n?i[m](/^([\s\S]*?)$/,e+"$1"+t):i.set(K+e+Y+t+x).select((K+e).length,(K+e+Y).length).record()},i.unwrap=function(e,t,n){return oe=i.$(),K=oe.before,x=oe.after,Y=oe.value,e=Ie(e),t=Ie(t),_=I(e+"$"),z=I("^"+t),n?i[m](I("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):_.test(K)&&z.test(x)?(V=K[m](_,""),$=x[m](z,""),i.set(V+Y+$).select(V.length,(V+Y).length).record()):i.select()},i.indent=function(e,t){return oe=i.$(),e=a(e)?e:w,oe.length?i[m](I("^"+(t?"":"(?!$)"),"gm"),e):i[y](e,0)},i.outdent=function(e){return oe=i.$(),e=a(e)?e:w,e=Ie(e),oe.length?i[m](I("^"+e,"gm"),""):i[m](I(e+"$"),"",0)},i.trim=function(e,t,n,r){return e!==!1&&(e=e||""),t!==!1&&(t=t||""),n!==!1&&(n=n||""),r!==!1&&(r=r||""),oe=i.$(),K=oe.before,x=oe.after,Y=oe.value,V=e!==!1?F(K,1)+e:K,$=t!==!1?t+F(x,0):x,_=(n!==!1?n:"")+F(Y)+(r!==!1?r:""),i.set(V+_+$).select(V.length,(V+_).length)},i.toggle=function(e,t){return a(t)?(e===!0?e=0:e===!1&&(e=1),u(t[e])?(t[e](i,e),i):i.select()):i.select()},i.record=function(e,t){return L?i:(te=C[h],oe=i.$(),fe=Oe(),ue=oe.start,se=oe.end,e=a(e)?e:[fe,ue,se,i.scroll()[0]],te&&s(te)&&te[0]===fe&&te[1]===ue&&te[2]===se?i:(h++,C[a(t)?t:h]=e,o=C.length,i))},i.loss=function(e){return e===!0?(C=[C[0]],h=0,i):(e=a(e)?e:h,h>=e&&h--,C.splice(e,1),o=C.length,i)},i.records=function(e,t){return a(e)?a(C[e])?C[e]:a(t)?t:!1:C},i.undo=function(){return h--,h=R(h,0,o-1),K=C[h],i.set(K[0]).select(K[1],K[2]).scroll(K[3])},i.redo=function(){return h++,h=R(h,0,o-1),K=C[h],i.set(K[0]).select(K[1],K[2]).scroll(K[3])},i[0]=function(){return L=1,i},i[1]=function(e){return L=0,e===!1?i:i.record()},i.is=function(e,t){return t=a(t)?t:!1,E(e)?e.test(i.type)?i.type:t:i.type===e?i.type:t};var de={a:c,b:A,e:O,f:u,i:f,n:function(e){return null===e},o:s,r:E,s:l,x:function(e){return!a(e)}};for(J in de)i.is[J]=de[J];return i._={x:Re,extend:N,each:g,trim:F,css:T,edge:R,pattern:I,i:d},i.target=r,i})}(window,document);