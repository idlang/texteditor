/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.5.0
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
var TE=function(e){function h(){return e.value.replace(/\r/g,"")}function g(e){return"undefined"!=typeof e}function v(e){return"string"==typeof e}function m(e){return"function"==typeof e}function y(e){return"object"==typeof e}function b(e){return e instanceof RegExp&&e.source?e.source:!1}function w(e){return e instanceof HTMLElement}function $(e){return b(e)||n._.x(e)}function x(e,t,r){return t>e?t:e>r?r:e}function _(e,t){return new RegExp(e,t)}function k(e){return parseInt(e,10)}function E(e,r){var n=t.getComputedStyle(e);return r?n[r.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]:n}function T(e,t){t=t||{};for(var r in t)y(e[r])&&y(t[r])&&!w(e[r])&&!w(t[r])?e[r]=T(e[r],t[r]):e[r]=t[r];return e}function C(n){var v,m,y,b,w,o="font-",i="text-",u="padding-",l=["box-sizing","direction",o+"family",o+"size",o+"size-adjust",o+"stretch",o+"style",o+"variant",o+"weight","height","letter-pacing","line-height","overflow-x",u+"bottom",u+"left",u+"right",u+"top","tab-size",i+"align",i+"decoration",i+"indent",i+"transform","word-spacing"],c=r.body,p=l.length,$="INPUT"===e.nodeName;for(c.appendChild(f),v=f.style,m=E(e),w=k(m.width),v.whiteSpace="pre-wrap",$||(v.wordWrap="break-word"),v.position="absolute",v.visibility="hidden";--p;)v[l[p]]=m[l[p]];return v.overflowY=e.scrollHeight>k(m.height)?"scroll":"auto",g(t.mozInnerScreenX)?v.width=w+"px":v.width=w+d+"px",a.textContent=h().substring(n)||".",b=h().substring(0,n),$&&(b=b.replace(/\s/g,s)),f.textContent=b,f.appendChild(a),y={x:a.offsetLeft+k(m.borderLeftWidth),y:a.offsetTop+k(m.borderTopWidth)},c.removeChild(f),y}var t=window,r=document,n=this,o=1,i=0,u=[[h(),0,0,0]],l=0,c={},f=r.createElement("div"),a=r.createElement("span"),s="Â ",p="	",d=function(){var o,e=r.createElement("div"),t=r.body,n=e.style;return t.appendChild(e),n.position="absolute",n.top=n.left="-9999px",n.width=n.height="100px",n.overflow="scroll",n.visibility="hidden",o=e.offsetWidth-e.clientWidth,t.removeChild(e),o}();return n.type="",n.x="!$^*()-=+[]{}\\|:<>,./?",e.TE=n,TE.__instance__[e.id||e.name||Object.keys(TE.__instance__).length]=n,n.scroll=function(t){var r=e.scrollTop,o=k(E(e,"line-height")),i=k(E(e,"font-size"));return g(t)?v(t)?(n.scroll(n.scroll()+("-"===t?-1:1)),n):(e.scrollTop=o*t+(o-i),n):Math.floor(r/o)},n.set=function(t){return e.value=t,n},n.get=function(e){return g(e)?h().length?h():e:h()},n.save=function(e,t){return c[e]=t,n},n.restore=function(e,t){return g(e)?g(c[e])?c[e]:g(t)?t:"":c},n.focus=function(t,r){return t===!0?(t=h().length,r=e.scrollHeight):t===!1&&(t=r=0),g(t)&&(e.selectionStart=e.selectionEnd=t,e.scrollTop=r),e.focus(),n},n.blur=function(){return e.blur(),n},n.$=function(t){var r=h().replace(/\r/g,""),n=e.selectionStart,o=e.selectionEnd,i=r.substring(n,o),u=t?[C(n),C(o)]:[];return{start:n,end:o,value:i,before:r.substring(0,n),after:r.substring(o),caret:u,length:i.length}},n.select=function(){var s,t=arguments,o=t.length,i=r.documentElement,u=r.body,l=e,c="scrollTop",f=n.$(),a="TE.scroll";if(n.save(a,[i[c],u[c],l[c]]).focus(),0===o)t[0]=f.start,t[1]=f.end;else if(1===o){if(t[0]===!0)return l.select(),n;t[1]=t[0]}return l.setSelectionRange(t[0],t[1]),s=n.restore(a,[0,0,0]),i[c]=s[0],u[c]=s[1],l[c]=s[2],n},n.match=function(e,t){var r=n.$().value.match(e);return m(t)?t(r||[]):!!r},n.replace=function(e,t,r){var c,f,o=n.$(),i=o.before,u=o.after,l=o.value;return-1===r?i=i.replace(e,t):1===r?u=u.replace(e,t):l=l.replace(e,t),c=i.length,f=c+l.length,n.set(i+l+u).select(c,f).record()},n.replaceBefore=function(e,t){return n.replace(e,t,-1,1)},n.replaceAfter=function(e,t){return n.replace(e,t,1,1)},n.insert=function(e,t,r){var o=/^[\s\S]*?$/;return n[0](),r&&n.replace(o,""),-1===t?o=/$/:1===t&&(o=/^/),n.replace(o,e,t)[1]()},n.insertBefore=function(e,t){return n.insert(e,-1,t)},n.insertAfter=function(e,t){return n.insert(e,1,t)},n.wrap=function(e,t,r){var o=n.$(),i=o.before,u=o.after,l=o.value;return r?n.replace(/^([\s\S]*?)$/,e+"$1"+t):n.set(i+e+l+t+u).select((i+e).length,(i+e+l).length).record()},n.unwrap=function(e,t,r){var c,f,a,s,o=n.$(),i=o.before,u=o.after,l=o.value;return e=$(e),t=$(t),a=_(e+"$"),s=_("^"+t),r?n.replace(_("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):a.test(i)&&s.test(u)?(c=i.replace(a,""),f=u.replace(s,""),n.set(c+l+f).select(c.length,(c+l).length).record()):n.select()},n.indent=function(e){var t=n.$(),e=g(e)?e:p;return t.length?n.replace(/^(?!$)/gm,e):n.set(t.before+e+t.value+t.after).select(t.start+e.length).record()},n.outdent=function(e){var r,t=n.$(),e=g(e)?e:p;return e=$(e),t.length?n.replace(_("^"+e,"gm"),""):(r=t.before.replace(_(e+"$"),""),n.set(r+t.value+t.after).select(r.length).record())},n.trim=function(e,t,r,o){e!==!1&&(e=e||""),t!==!1&&(t=t||""),r!==!1&&(r=r||""),o!==!1&&(o=o||"");var i=n.$(),u=i.before,l=i.after,c=i.value,f=e!==!1?u.replace(/\s*$/,e):u,a=t!==!1?l.replace(/^\s*/,t):l,s=c.replace(/^(\s*)([\s\S]*?)(\s*)$/g,(r!==!1?r:"$1")+"$2"+(o!==!1?o:"$3"));return n.set(f+s+a).select(f.length,(f+s).length)},n.toggle=function(e,t){return g(t)?(e===!0?e=0:e===!1&&(e=1),m(t[e])?(t[e](n,e),n):n.select()):n.select()},n.record=function(e,t){if(i)return n;var r=u[l],c=n.$(),f=h(),a=c.start,s=c.end,e=g(e)?e:[f,a,s,n.scroll()];return r&&y(r)&&r[0]===f&&r[1]===a&&r[2]===s?n:(l++,u[g(t)?t:l]=e,o=u.length,n)},n.loss=function(e){return e===!0?(u=[u[0]],l=0,n):(e=g(e)?e:l,l>=e&&l--,u.splice(e,1),o=u.length,n)},n.records=function(e,t){return g(e)?g(u[e])?u[e]:g(t)?t:!1:u},n.undo=function(){l--,l=x(l,0,o-1);var e=u[l];return n.set(e[0]).select(e[1],e[2]).scroll(e[3])},n.redo=function(){l++,l=x(l,0,o-1);var e=u[l];return n.set(e[0]).select(e[1],e[2]).scroll(e[3])},n._={time:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),o=e.getHours(),i=e.getMinutes(),u=e.getSeconds(),l=e.getMilliseconds();return 10>r&&(r="0"+r),10>n&&(n="0"+n),10>o&&(o="0"+o),10>i&&(i="0"+i),10>u&&(u="0"+u),10>l&&(l="0"+l),[""+t,""+r,""+n,""+o,""+i,""+u,""+l]},x:function(e){if(y(e)){for(var t=[],r=e.length;r--;)t.unshift(n._.x(e[r]));return t}return e.replace(_("["+n.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},extend:T,each:function(e,t){var r;for(var n in e)if(r=t(e[n],n,e),r!==!0&&r===!1)break;return e},css:E},n[0]=function(){return i=1,n},n[1]=function(e){return i=0,e===!1?n:n.record()},n.target=e,n};!function(e){function t(e){return e.toLowerCase()}e.version="2.5.0",e.__instance__={},e.each=function(t,r){return setTimeout(function(){var n,r=e.__instance__;for(n in r)t(r[n],n)},0===r?0:r||1),e},e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alias={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"};for(var r=1;25>r;++r)e.keys[111+r]="f"+r;for(var r=65;91>r;++r)e.keys[r]=t(String.fromCharCode(r));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function u(e,r){return e&&e!==!0?(e=t(e),r&&(n[e]||e)===i):r}var r=e.keys,n=e.keys_alias,o=this,i=o.key?t(o.key):r[o.which||o.keyCode];return"object"==typeof i&&(i=o.shiftKey?i[1]||i[0]:i[0]),i=t(i),{key:function(e){return e&&e!==!0?e instanceof RegExp?e.test(i):(e=t(e),(n[e]||e)===i):i},control:function(e){return u(e,o.ctrlKey)},shift:function(e){return u(e,o.shiftKey)},option:function(e){return u(e,o.altKey)},meta:function(e){return u(e,o.metaKey)}}}})}(TE);