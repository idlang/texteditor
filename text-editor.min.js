/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.5.5
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function r(e){return e.toLowerCase()}function n(e){return"undefined"!=typeof e}function i(e){return"string"==typeof e}function a(e){return"number"==typeof e}function l(e){return"function"==typeof e}function o(e){return"object"==typeof e}function s(e){return"boolean"==typeof e}function u(e){return e instanceof RegExp?e.source||!0:!1}function c(e){return e instanceof HTMLElement}function f(e,t,r){return n(t)&&t>e?t:n(r)&&e>r?r:e}function p(e,t){return new RegExp(e,t)}function h(e,t){return-1===t?e.replace(/^\s*/,""):1===t?e.replace(/\s*$/,""):e.replace(/^\s*|\s*$/g,"")}function d(e,t){return parseInt(e,n(t)?t:10)}function g(e){return e.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})}function m(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function v(t,r){var a,l,n=e.getComputedStyle(t,null),i={};return r?(a=n[g(r)],l=d(a),0===l?0:l||a):function(){for(a in n)l=d(n[a]),i[m(a)]=0===l?0:l||n[a];return i}()}function b(e,t){t=t||{};for(var r in t)o(e[r])&&o(t[r])&&!c(e[r])&&!c(t[r])?e[r]=b(e[r],t[r]):e[r]=t[r];return e}!function(e){e.version="2.5.5",e.__instance__={},e.each=function(t,r){return setTimeout(function(){var n,r=e.__instance__;for(n in r)t(r[n],n,r)},0===r?0:r||1),e},e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alias={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"};for(var t=1;25>t;++t)e.keys[111+t]="f"+t;for(var t=65;91>t;++t)e.keys[t]=r(String.fromCharCode(t));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function l(e,t){return e&&e!==!0?u(e)?t&&e.test(a):(e=r(e),t&&(n[e]||e)===a):t}var t=e.keys,n=e.keys_alias,i=this,a=i.key?r(i.key):t[i.which||i.keyCode];return o(a)&&(a=i.shiftKey?a[1]||a[0]:a[0]),a=r(a),{key:function(e){return e&&e!==!0?u(e)?e.test(a):(e=r(e),(n[e]||e)===a):a},control:function(e){return l(e,i.ctrlKey)},shift:function(e){return l(e,i.shiftKey)},option:function(e){return l(e,i.altKey)},meta:function(e){return l(e,i.metaKey)}}}})}(e.TE=function(m){function A(){return m.value.replace(/\r/g,"")}function S(e){return u(e)||$._.x(e)}function U(r){var p,h,d,b,$,a="font-",l="text-",o="padding-",s="border-",u=["box-sizing","direction",a+"family",a+"size",a+"size-adjust",a+"stretch",a+"style",a+"variant",a+"weight","height","letter-spacing","line-height","overflow-x",o+"bottom",o+"left",o+"right",o+"top","tab-size",l+"align",l+"decoration",l+"indent",l+"transform","word-spacing"],c=t.body,f=u.length;for(c.appendChild(_),p=_.style,h=v(m),$=h.width,p.whiteSpace="pre-wrap",p.wordWrap="break-word",p.position="absolute",p.visibility="hidden";--f;)b=h[u[f]],p[g(u[f])]=i(b)?b:b+"px";return p.overflowY=m.scrollHeight>h.height?"scroll":"auto",n(e.mozInnerScreenX)?p.width=$+"px":p.width=$+O+"px",C.textContent=A().substring(r)||".",b=A().substring(0,r),_.textContent=b,_.appendChild(C),d={x:C.offsetLeft+h[s+"left-width"],y:C.offsetTop+h[s+"top-width"]},c.removeChild(_),d}var $=this,y=1,w=0,k=[[A(),0,0,0]],x=0,E={},_=t.createElement("div"),C=t.createElement("span"),T="\t",O=function(){var i,e=t.createElement("div"),r=t.body,n=e.style;return r.appendChild(e),n.position="absolute",n.top=n.left="-9999px",n.width=n.height="100px",n.overflow="scroll",n.visibility="hidden",i=e.offsetWidth-e.clientWidth,r.removeChild(e),i}();$.type="",$.x="!$^*()-=+[]{}\\|:<>,./?",m.TE=$,TE.__instance__[m.id||m.name||Object.keys(TE.__instance__).length]=$,$.scroll=function(e){var t=m.scrollTop,r=v(m,"line-height"),i=v(m,"font-size");return n(e)?s(e)?$.scroll($.scroll()[0]+(e===!1?-1:1)):(m.scrollTop=r*e+(r-i),$):[Math.floor(t/r),r]},$.set=function(e){return m.value=e,$},$.get=function(e){return n(e)?A().length?A():e:A()},$.save=function(e,t){return E[e]=t,$},$.restore=function(e,t){return n(e)?n(E[e])?E[e]:n(t)?t:"":E},$.focus=function(e,t){return e===!0?(e=A().length,t=m.scrollHeight):e===!1&&(e=t=0),n(e)&&(m.selectionStart=m.selectionEnd=e,m.scrollTop=t),m.focus(),$},$.blur=function(){return m.blur(),$},$.$=function(e){var t=A(),r=m.selectionStart,n=m.selectionEnd,i=t.substring(r,n),a=e?[U(r),U(n)]:[];return{start:r,end:n,value:i,before:t.substring(0,r),after:t.substring(n),caret:a,length:i.length}},$.select=function(){var u,e=arguments,r=e.length,n=t.documentElement,i=t.body,a=m,l="scrollTop",o=$.$(),s="TE.scroll";if($.save(s,[n[l],i[l],a[l]]).focus(),0===r)e[0]=o.start,e[1]=o.end;else if(1===r){if(e[0]===!0)return a.select(),$;e[1]=e[0]}return a.setSelectionRange(e[0],e[1]),u=$.restore(s,[0,0,0]),n[l]=u[0],i[l]=u[1],a[l]=u[2],$},$.match=function(e,t){var r=$.$().value.match(e);return l(t)?t(r||[]):!!r},$.replace=function(e,t,r){var o,s,n=$.$(),i=n.before,a=n.after,l=n.value;return-1===r?i=i.replace(e,t):1===r?a=a.replace(e,t):l=l.replace(e,t),o=i.length,s=o+l.length,$.set(i+l+a).select(o,s).record()},$.replaceBefore=function(e,t){return $.replace(e,t,-1)},$.replaceAfter=function(e,t){return $.replace(e,t,1)},$.insert=function(e,t,r){var n=/^[\s\S]*?$/;return $[0](),r&&$.replace(n,""),-1===t?n=/$/:1===t&&(n=/^/),$.replace(n,e,t)[1]()},$.insertBefore=function(e,t){return $.insert(e,-1,t)},$.insertAfter=function(e,t){return $.insert(e,1,t)},$.wrap=function(e,t,r){var n=$.$(),i=n.before,a=n.after,l=n.value;return r?$.replace(/^([\s\S]*?)$/,e+"$1"+t):$.set(i+e+l+t+a).select((i+e).length,(i+e+l).length).record()},$.unwrap=function(e,t,r){var o,s,u,c,n=$.$(),i=n.before,a=n.after,l=n.value;return e=S(e),t=S(t),u=p(e+"$"),c=p("^"+t),r?$.replace(p("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):u.test(i)&&c.test(a)?(o=i.replace(u,""),s=a.replace(c,""),$.set(o+l+s).select(o.length,(o+l).length).record()):$.select()},$.indent=function(e,t){var r=$.$();return e=n(e)?e:T,r.length?$.replace(p("^"+(t?"":"(?!$)"),"gm"),e):$.insert(e,-1)},$.outdent=function(e){var t=$.$();return e=n(e)?e:T,e=S(e),t.length?$.replace(p("^"+e,"gm"),""):$.replace(p(e+"$"),"",-1)},$.trim=function(e,t,r,n){e!==!1&&(e=e||""),t!==!1&&(t=t||""),r!==!1&&(r=r||""),n!==!1&&(n=n||"");var i=$.$(),a=i.before,l=i.after,o=i.value,s=e!==!1?h(a,1)+e:a,u=t!==!1?h(l,-1)+t:l,c=(r!==!1?r:"")+h(o)+(n!==!1?n:"");return $.set(s+c+u).select(s.length,(s+c).length)},$.toggle=function(e,t){return n(t)?(e===!0?e=0:e===!1&&(e=1),l(t[e])?(t[e]($,e),$):$.select()):$.select()},$.record=function(e,t){if(w)return $;var r=k[x],i=$.$(),a=A(),l=i.start,s=i.end,e=n(e)?e:[a,l,s,$.scroll()];return r&&o(r)&&r[0]===a&&r[1]===l&&r[2]===s?$:(x++,k[n(t)?t:x]=e,y=k.length,$)},$.loss=function(e){return e===!0?(k=[k[0]],x=0,$):(e=n(e)?e:x,x>=e&&x--,k.splice(e,1),y=k.length,$)},$.records=function(e,t){return n(e)?n(k[e])?k[e]:n(t)?t:!1:k},$.undo=function(){x--,x=f(x,0,y-1);var e=k[x];return $.set(e[0]).select(e[1],e[2]).scroll(e[3])},$.redo=function(){x++,x=f(x,0,y-1);var e=k[x];return $.set(e[0]).select(e[1],e[2]).scroll(e[3])},$[0]=function(){return w=1,$},$[1]=function(e){return w=0,e===!1?$:$.record()},$.is=function(e,t){return r($.type)===r(e)?$.type:n(t)?t:!1};var I,z={b:s,e:c,f:l,i:a,o:o,r:u,s:i,x:function(e){return!n(e)}};for(I in z)$.is[I]=z[I];return $._={x:function(e){if(o(e)){for(var t=[],r=e.length;r--;)t.unshift($._.x(e[r]));return t}return e.replace(p("["+$.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},extend:b,each:function(e,t,r){var n,i,a;if(r)for(n=0,i=e.length;i>n&&(a=t(e[n],n,e),a===!0||a!==!1);++n);else for(n in e)if(a=t(e[n],n,e),a!==!0&&a===!1)break;return e},trim:h,css:v,edge:f,pattern:p,i:d},$.target=m,$})}(window,document);