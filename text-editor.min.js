/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.3.0
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
var TE=function(e){function t(){return e.value}function n(e){return void 0!==e}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e}function i(e){return e instanceof RegExp&&e.source?e.source:!1}function l(e){return e instanceof HTMLElement}function a(e){return i(e)||v._.esc(e)}function c(e,t,n){return t>e?t:e>n?n:e}function u(e,t){return RegExp(e,t)}function s(e){return parseInt(e,10)}function f(e,t){var n=g.getComputedStyle(e);return t?n[t.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]:n}function p(e,t){t=t||{};for(var n in t)e[n]=o(e[n])&&!l(e[n])?p(e[n],t[n]):t[n];return e}function d(r){var o,i,l,a,c,u="font-",p="text-",d="padding-",v=["box-sizing","direction",u+"family",u+"size",u+"size-adjust",u+"stretch",u+"style",u+"variant",u+"weight","height","letter-pacing","line-height","overflow-x",d+"bottom",d+"left",d+"right",d+"top","tab-size",p+"align",p+"decoration",p+"indent",p+"transform","word-spacing"],m=h.body,b=v.length,y="INPUT"===e.nodeName;for(m.appendChild($),o=$.style,i=f(e),c=s(i.width),o.whiteSpace="pre-wrap",y||(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden";--b;)o[v[b]]=i[v[b]];return o.overflowY=e.scrollHeight>s(i.height)?"scroll":"auto",o.width=n(g.mozInnerScreenX)?c+"px":c+_+"px",x.textContent=t().substring(r)||".",a=t().substring(0,r),y&&(a=a.replace(/\s/g,E)),$.textContent=a,$.appendChild(x),l={x:x.offsetLeft+s(i.borderLeftWidth),y:x.offsetTop+s(i.borderTopWidth)},m.removeChild($),l}var g=window,h=document,v=this,m=1,b=0,y=[[t(),0,0,0]],w=0,k={},$=h.createElement("div"),x=h.createElement("span"),E="\u00a0",T="\t",_=function(){var e,t=h.createElement("div"),n=h.body,r=t.style;return n.appendChild(t),r.position="absolute",r.top=r.left="-9999px",r.width=r.height="100px",r.overflow="scroll",r.visibility="hidden",e=t.offsetWidth-t.clientWidth,n.removeChild(t),e}();return v.x="!$^*()-=+[]{}\\|:<>,./?",e.TE=v,v.scroll=function(t){var r=e.scrollTop,o=s(f(e,"line-height"));return n(t)?(e.scrollTop=o*t,v):Math.floor(r/o)},v.set=function(t){return e.value=t,v},v.get=function(e){return n(e)?t().length?t():e:t()},v.save=function(e,t){return k[e]=t,v},v.restore=function(e,t){return n(e)?n(k[e])?k[e]:n(t)?t:!1:k},v.focus=function(r,o){return r===!0?(r=t().length,o=e.scrollHeight):r===!1&&(r=o=0),n(r)&&(e.selectionStart=e.selectionEnd=r,e.scrollTop=o),e.focus(),v},v.blur=function(){return e.blur(),v},v.$=function(n){var r=t().replace(/\r/g,""),o=e.selectionStart,i=e.selectionEnd,l=r.substring(o,i),a=n?[d(o),d(i)]:[];return{start:o,end:i,value:l,before:r.substring(0,o),after:r.substring(i),caret:a,length:l.length}},v.select=function(){var t,n=arguments,r=n.length,o=h.documentElement,i=h.body,l=e,a="scrollTop",c=v.$(),u="TE.scroll";if(v.save(u,[o[a],i[a],l[a]]).focus(),0===r)n[0]=c.start,n[1]=c.end;else if(1===r){if(n[0]===!0)return l.select(),v;n[1]=n[0]}return l.setSelectionRange(n[0],n[1]),t=v.restore(u,[0,0,0]),o[a]=t[0],i[a]=t[1],l[a]=t[2],v},v.match=function(e,t){var n=v.$().value.match(e);return r(t)?t(n||[]):!!n},v.replace=function(e,t){n(t)||i(e)||(t=e,e=/^[\s\S]*?$/);var r=v.$(),o=r.start,l=(r.end,r.value.replace(e,t));return v.set(r.before+l+r.after).select(o,o+l.length).record()},v.insert=function(e,t){var n=v.$(),r=n.start,o=n.end,i=n.value,l=n.before,a=n.after,c=l+e+a,u=e.length;return-1===t?(c=l+e+i+a,r+=u,o+=u):1===t?c=l+i+e+a:o=r+u,v.set(c).select(r,o).record()},v.insertBefore=function(e){return v.insert(e,-1)},v.insertAfter=function(e){return v.insert(e,1)},v.wrap=function(e,t,n){var r=v.$(),o=r.before,i=r.after,l=r.value;return n?v.replace(/^([\s\S]*?)$/,e+"$1"+t):v.set(o+e+l+t+i).select((o+e).length,(o+e+l).length).record()},v.unwrap=function(e,t,n){var r,o,i,l,c=v.$(),s=c.before,f=c.after,p=c.value;return e=a(e),t=a(t),i=u(e+"$"),l=u("^"+t),n?v.replace(u("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):i.test(s)&&l.test(f)?(r=s.replace(i,""),o=f.replace(l,""),v.set(r+p+o).select(r.length,(r+p).length).record()):v.select()},v.indent=function(e){var t=v.$(),e=n(e)?e:T;return t.length?v.replace(/^(?!$)/gm,e):v.set(t.before+e+t.value+t.after).select(t.start+e.length).record()},v.outdent=function(e){var t,r=v.$(),e=n(e)?e:T;return e=a(e),r.length?v.replace(u("^"+e,"gm"),""):(t=r.before.replace(u(e+"$"),""),v.set(t+r.value+r.after).select(t.length).record())},v.trim=function(e,t,n,r){e=e||"",t=t||"",n=n||"",r=r||"";var o=v.$(),i=o.before,l=o.after,a=o.value,c=i.replace(/\s*$/,e),u=l.replace(/^\s*/,t),s=a.replace(/^\s*([\s\S]*?)\s*$/g,n+"$1"+r);return v.set(c+s+u).select(c.length,(c+s).length)},v.toggle=function(e,t){return n(t)?(e===!0?e=0:e===!1&&(e=1),r(t[e])?(t[e](v,e),v):v.select()):v.select()},v.record=function(e,r){if(b)return v;var i=y[w],l=v.$(),a=t(),c=l.start,u=l.end,e=n(e)?e:[a,c,u,v.scroll()];return i&&o(i)&&i[0]===a&&i[1]===c&&i[2]===u?v:(w++,y[n(r)?r:w]=e,m=y.length,v)},v.loss=function(e){return e===!0?(y=[y[0]],w=0,v):(e=n(e)?e:w,e>w||w--,y.splice(e,1),m=y.length,v)},v.records=function(e,t){return n(e)?n(y[e])?y[e]:n(t)?t:!1:y},v.undo=function(){w--,w=c(w,0,m-1);var e=y[w];return v.set(e[0]).select(e[1],e[2]).scroll(e[3])},v.redo=function(){w++,w=c(w,0,m-1);var e=y[w];return v.set(e[0]).select(e[1],e[2]).scroll(e[3])},v._={time:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),o=e.getHours(),i=e.getMinutes(),l=e.getSeconds(),a=e.getMilliseconds();return 10>n&&(n="0"+n),10>r&&(r="0"+r),10>o&&(o="0"+o),10>i&&(i="0"+i),10>l&&(l="0"+l),10>a&&(a="0"+a),[""+t,""+n,""+r,""+o,""+i,""+l,""+a]},esc:function(e){if(o(e)){for(var t=[],n=e.length;n--;)t.unshift(v._.esc(e[n]));return t}return e.replace(u("["+v.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},extend:p,each:function(e,t){var n;for(var r in e)if(n=t(e[r],r,e),n!==!0&&n===!1)break;return e},css:f},v[0]=function(){return b=1,v},v[1]=function(e){return b=0,e===!1?v:v.record()},v.target=e,v};!function(e){function t(e){return e.toLowerCase()}e.version="2.3.0",e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alt={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"};for(var n=1;25>n;++n)e.keys[111+n]="f"+n;for(var n=65;91>n;++n)e.keys[n]=t(String.fromCharCode(n));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function n(e,n){return e&&e!==!0?(e=t(e),n&&(o[e]||e)===l):n}var r=e.keys,o=e.keys_alt,i=this,l=i.key?t(i.key):r[i.which||i.keyCode];return"object"==typeof l&&(l=i.shiftKey?l[1]||l[0]:l[0]),l=t(l),{key:function(e){return e&&e!==!0?e instanceof RegExp?e.test(l):(e=t(e),(o[e]||e)===l):l},control:function(e){return n(e,i.ctrlKey)},shift:function(e){return n(e,i.shiftKey)},option:function(e){return n(e,i.altKey)},meta:function(e){return n(e,i.metaKey)}}}})}(TE);