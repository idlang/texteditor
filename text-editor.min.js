/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.2.0
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
var TE=function(e){function t(){return e.value}function r(e){return void 0!==e}function n(e){return"function"==typeof e}function o(e){return"object"==typeof e}function c(e){return e instanceof RegExp&&e.source?e.source:!1}function u(e){return c(e)||d.esc(e)}function i(e,t,r){return t>e?t:e>r?r:e}function a(e,t){return RegExp(e,t)}function l(e){return parseInt(e,10)}function s(n){var o,c,u,i,a,s="font",d="text",h="padding",g=["boxSizing","direction",s+"Family",s+"Size",s+"SizeAdjust",s+"Stretch",s+"Style",s+"Variant",s+"Weight","height","letterSpacing","lineHeight","overflowX",h+"Bottom",h+"Left",h+"Right",h+"Top","tabSize",d+"Align",d+"Decoration",d+"Indent",d+"Transform","wordSpacing"],v=p.body,m=g.length,b="INPUT"===e.nodeName;for(v.appendChild(y),o=y.style,c=getComputedStyle(e),a=l(c.width),o.whiteSpace="pre-wrap",b||(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden";--m;)o[g[m]]=c[g[m]];return o.overflowY=e.scrollHeight>l(c.height)?"scroll":"auto",o.width=r(f.mozInnerScreenX)?a+"px":a+S+"px",w.textContent=t().substring(n)||".",i=t().substring(0,n),b&&(i=i.replace(/\s/g,$)),y.textContent=i,y.appendChild(w),u={x:w.offsetLeft+l(c.borderLeftWidth),y:w.offsetTop+l(c.borderTopWidth)},v.removeChild(y),u}var f=window,p=document,d=this,h=1,g=0,v=[[t(),0,0]],m=0,b={},y=p.createElement("div"),w=p.createElement("span"),$="\u00a0",x="\t",S=function(){var e,t=p.createElement("div"),r=p.body,n=t.style;return r.appendChild(t),n.position="absolute",n.top=n.left="-9999px",n.width=n.height="100px",n.overflow="scroll",n.visibility="hidden",e=t.offsetWidth-t.clientWidth,r.removeChild(t),e}();return d.x="!$^*()-=+[]{}\\|:<>,./?",e.TE=d,d.set=function(t){return e.value=t,d},d.get=function(e){return r(e)?t().length?t():e:t()},d.save=function(e,t){return b[e]=t,d},d.restore=function(e,t){return r(e)?r(b[e])?b[e]:r(t)?t:!1:b},d.focus=function(n,o){return n===!0?(n=t().length,o=e.scrollHeight):n===!1&&(n=o=0),r(n)&&(e.selectionStart=e.selectionEnd=n,e.scrollTop=o),e.focus(),d},d.blur=function(){return e.blur(),d},d.$=function(r){var n=t().replace(/\r/g,""),o=e.selectionStart,c=e.selectionEnd,u=n.substring(o,c),i=r?[s(o),s(c)]:[];return{start:o,end:c,value:u,before:n.substring(0,o),after:n.substring(c),caret:i,length:u.length}},d.select=function(){var t,r=arguments,n=r.length,o=p.documentElement,c=p.body,u=e,i="scrollTop",a=d.$(),l="TE.scroll";if(d.save(l,[o[i],c[i],u[i]]).focus(),0===n)r[0]=a.start,r[1]=a.end;else if(1===n){if(r[0]===!0)return u.select(),d;r[1]=r[0]}return u.setSelectionRange(r[0],r[1]),t=d.restore(l,[0,0,0]),o[i]=t[0],c[i]=t[1],u[i]=t[2],d},d.match=function(e,t){var r=d.$().value.match(e);return n(t)?t(r||[]):!!r},d.replace=function(e,t){var r=d.$(),n=r.start,o=(r.end,r.value.replace(e,t));return d.set(r.before+o+r.after).select(n,n+o.length).record()},d.insert=function(e,t){var r=d.$(),n=r.start,o=r.end,c=r.value,u=r.before,i=r.after,a=u+e+i,l=e.length;return-1===t?(a=u+e+c+i,n+=l,o+=l):1===t?a=u+c+e+i:o=n+l,d.set(a).select(n,o).record()},d.insertBefore=function(e){return d.insert(e,-1)},d.insertAfter=function(e){return d.insert(e,1)},d.wrap=function(e,t,r){var n=d.$(),o=n.before,c=n.after,u=n.value;return r?d.replace(/^([\s\S]*?)$/,e+"$1"+t):d.set(o+e+u+t+c).select((o+e).length,(o+e+u).length).record()},d.unwrap=function(e,t,r){var n=d.$(),o=n.before,c=n.after,i=n.value;if(e=u(e),t=u(t),r)return d.replace(a("^"+e+"([\\s\\S]*?)"+t+"$"),"$1");var l=o.replace(a(e+"$"),""),s=c.replace(a("^"+t),"");return d.set(l+i+s).select(l.length,(l+i).length).record()},d.indent=function(e){var t=d.$(),e=r(e)?e:x;return t.length?d.replace(/^(?!$)/gm,e):d.set(t.before+e+t.value+t.after).select(t.start+e.length).record()},d.outdent=function(e){var t,n=d.$(),e=r(e)?e:x;return e=u(e),n.length?d.replace(a("^"+e,"gm"),""):(t=n.before.replace(a(e+"$"),""),d.set(t+n.value+n.after).select(t.length).record())},d.trim=function(e,t,r,n){e=e||"",t=t||"",r=r||"",n=n||"";var o=d.$(),c=o.before,u=o.after,i=o.value,a=c.replace(/\s*$/,e),l=u.replace(/^\s*/,t),s=i.replace(/^\s*([\s\S]*?)\s*$/g,r+"$1"+n);return d.set(a+s+l).select(a.length,(a+s).length)},d.toggle=function(e,t){return r(t)?(e===!0?e=0:e===!1&&(e=1),n(t[e])?(t[e](d,e),d):d.select()):d.select()},d.record=function(e,n){if(g)return d;var c=v[m],u=d.$(),i=t(),a=u.start,l=u.end,e=r(e)?e:[i,a,l];return c&&o(c)&&c[0]===i&&c[1]===a&&c[2]===l?d:(m++,v[r(n)?n:m]=e,h=v.length,d)},d.loss=function(e){return e===!0?(v=[v[0]],m=0,d):(e=r(e)?e:m,e>m||m--,v.splice(e,1),h=v.length,d)},d.records=function(e,t){return r(e)?r(v[e])?v[e]:r(t)?t:!1:v},d.undo=function(){m--,m=i(m,0,h-1);var e=v[m];return d.set(e[0]).select(e[1],e[2])},d.redo=function(){m++,m=i(m,0,h-1);var e=v[m];return d.set(e[0]).select(e[1],e[2])},d.esc=function(e){if(o(e)){for(var t=[],r=e.length;r--;)t.unshift(d.esc(e[r]));return t}return e.replace(a("["+d.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},d[0]=function(){return g=1,d},d[1]=function(e){return g=0,e===!1?d:d.record()},d.target=e,d};!function(e){function t(e){return e.toLowerCase()}e.version="2.2.0",e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alt={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"};for(var r=1;25>r;++r)e.keys[111+r]="f"+r;for(var r=65;91>r;++r)e.keys[r]=t(String.fromCharCode(r));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function r(e,r){return e&&e!==!0?(e=t(e),r&&(o[e]||e)===u):r}var n=e.keys,o=e.keys_alt,c=this,u=c.key?t(c.key):n[c.which||c.keyCode];return"object"==typeof u&&(u=c.shiftKey?u[1]||u[0]:u[0]),u=t(u),{key:function(e){return e&&e!==!0?e instanceof RegExp?e.test(u):(e=t(e),(o[e]||e)===u):u},control:function(e){return r(e,c.ctrlKey)},shift:function(e){return r(e,c.shiftKey)},option:function(e){return r(e,c.altKey)},meta:function(e){return r(e,c.metaKey)}}}})}(TE);