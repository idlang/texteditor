/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.6.1
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function n(e){return e.toLowerCase()}function r(e){return"undefined"!=typeof e}function i(e){return"string"==typeof e}function o(e){return"number"==typeof e}function f(e){return"function"==typeof e}function u(e){return"object"==typeof e}function l(e){return"boolean"==typeof e}function a(e){return e instanceof RegExp?e.source||!0:!1}function s(e){return e instanceof HTMLElement}function c(e,t,n){return r(t)&&t>e?t:r(n)&&e>n?n:e}function d(e,t){return new RegExp(e,t)}function p(e,t){return 0===t?e.replace(/^\s*/,""):1===t?e.replace(/\s*$/,""):e.replace(/^\s*|\s*$/g,"")}function h(e,t){return parseInt(e,r(t)?t:10)}function v(e){return e.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})}function b(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function g(t,n,r){var f,u,i=e.getComputedStyle(t,r),o={};return n?(f=i[v(n)],u=h(f),0===u?0:u||f):function(){for(f in i)u=h(i[f]),o[b(f)]=0===u?0:u||i[f];return o}()}function m(e,t){t=t||{};for(var n in t)u(e[n])&&u(t[n])&&!s(e[n])&&!s(t[n])?e[n]=m(e[n],t[n]):e[n]=t[n];return e}!function(e){e.version="2.6.1",e.__instance__={},e.each=function(t,n){return setTimeout(function(){var r,n=e.__instance__;for(r in n)t(n[r],r,n)},0===n?0:n||1),e},e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alias={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"};for(var t=1;25>t;++t)e.keys[111+t]="f"+t;for(var t=65;91>t;++t)e.keys[t]=n(String.fromCharCode(t));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function f(e,t){return e&&e!==!0?a(e)?t&&e.test(o):(e=n(e),t&&(r[e]||e)===o):o}var t=e.keys,r=e.keys_alias,i=this,o=i.key?n(i.key):t[i.which||i.keyCode];return u(o)&&(o=i.shiftKey?o[1]||o[0]:o[0]),o=n(o),{key:function(e){return f(e,1)},control:function(e){return f(e,i.ctrlKey)},shift:function(e){return f(e,i.shiftKey)},option:function(e){return f(e,i.altKey)},meta:function(e){return f(e,i.metaKey)}}}})}(e.TE=function(n){function L(){return n.value.replace(/\r/g,"")}function z(e){return a(e)||b._.x(e)}function O(o){var p,h,b,m,y,f="font-",u="text-",l="padding-",a="border-",s=["box-sizing","direction",f+"family",f+"size",f+"size-adjust",f+"stretch",f+"style",f+"variant",f+"weight","height","letter-spacing","line-height","overflow-x",l+"bottom",l+"left",l+"right",l+"top","tab-size",u+"align",u+"decoration",u+"indent",u+"transform","word-spacing"],c=t.body,d=s.length;for(c.appendChild(E),p=E.style,h=g(n),y=h.width,p.whiteSpace="pre-wrap",p.wordWrap="break-word",p.position="absolute",p.visibility="hidden";--d;)m=h[s[d]],p[v(s[d])]=i(m)?m:m+"px";return p.overflowY=n.scrollHeight>h.height?"scroll":"auto",r(e.mozInnerScreenX)?p.width=y+"px":p.width=y+C+"px",T.textContent=L().substring(o)||".",m=L().substring(0,o),E.textContent=m,E.appendChild(T),b={x:T.offsetLeft+h[a+"left-width"],y:T.offsetTop+h[a+"top-width"]},c.removeChild(E),b}var b=this,y=1,w=0,k=[[L(),0,0,0]],x=0,$={},E=t.createElement("div"),T=t.createElement("span"),_="	";if(!(b instanceof TE))return new TE(n);var C=function(){var i,e=t.createElement("div"),n=t.body,r=e.style;return n.appendChild(e),r.position="absolute",r.top=r.left="-9999px",r.width=r.height="100px",r.overflow="scroll",r.visibility="hidden",i=e.offsetWidth-e.clientWidth,n.removeChild(e),i}();b.type="",b.x="!$^*()-=+[]{}\\|:<>,./?",n.TE=b,TE.__instance__[n.id||n.name||Object.keys(TE.__instance__).length]=b,b.scroll=function(e){var t=n.scrollTop,i=g(n,"line-height"),o=g(n,"font-size");return r(e)?l(e)?b.scroll(b.scroll()[0]+(e===!1?-1:1)):(n.scrollTop=i*e+(i-o),b):[Math.floor(t/i),i]},b.set=function(e){return n.value=e,b},b.get=function(e){return r(e)?L().length?L():e:L()},b.save=function(e,t){return $[e]=t,b},b.restore=function(e,t){return r(e)?r($[e])?$[e]:r(t)?t:"":$},b.focus=function(e,t){return e===!0?(e=L().length,t=n.scrollHeight):e===!1&&(e=t=0),r(e)&&(n.selectionStart=n.selectionEnd=e,n.scrollTop=t),n.focus(),b},b.blur=function(){return n.blur(),b},b.$=function(e){var t=L(),r=n.selectionStart,i=n.selectionEnd,o=t.substring(r,i),f=e?[O(r),O(i)]:[];return{start:r,end:i,value:o,before:t.substring(0,r),after:t.substring(i),caret:f,length:o.length}},b.select=function(){var s,e=arguments,r=e.length,i=t.documentElement,o=t.body,f=n,u="scrollTop",l=b.$(),a="TE.scroll";if(b.save(a,[i[u],o[u],f[u]]).focus(),0===r)e[0]=l.start,e[1]=l.end;else if(1===r){if(e[0]===!0)return f.select(),b;e[1]=e[0]}return f.setSelectionRange(e[0],e[1]),s=b.restore(a,[0,0,0]),i[u]=s[0],o[u]=s[1],f[u]=s[2],b},b.match=function(e,t){var n=b.$().value.match(e);return f(t)?t(n||[]):!!n},b.replace=function(e,t,n){var u,l,r=b.$(),i=r.before,o=r.after,f=r.value;return 0===n?i=i.replace(e,t):1===n?o=o.replace(e,t):f=f.replace(e,t),u=i.length,l=u+f.length,b.set(i+f+o).select(u,l).record()},b.replaceBefore=function(e,t){return b.replace(e,t,0)},b.replaceAfter=function(e,t){return b.replace(e,t,1)},b.insert=function(e,t,n){var r=/^[\s\S]*?$/;return b[0](),n&&b.replace(r,""),0===t?r=/$/:1===t&&(r=/^/),b.replace(r,e,t)[1]()},b.insertBefore=function(e,t){return b.insert(e,0,t)},b.insertAfter=function(e,t){return b.insert(e,1,t)},b.wrap=function(e,t,n){var r=b.$(),i=r.before,o=r.after,f=r.value;return n?b.replace(/^([\s\S]*?)$/,e+"$1"+t):b.set(i+e+f+t+o).select((i+e).length,(i+e+f).length).record()},b.unwrap=function(e,t,n){var u,l,a,s,r=b.$(),i=r.before,o=r.after,f=r.value;return e=z(e),t=z(t),a=d(e+"$"),s=d("^"+t),n?b.replace(d("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):a.test(i)&&s.test(o)?(u=i.replace(a,""),l=o.replace(s,""),b.set(u+f+l).select(u.length,(u+f).length).record()):b.select()},b.indent=function(e,t){var n=b.$();return e=r(e)?e:_,n.length?b.replace(d("^"+(t?"":"(?!$)"),"gm"),e):b.insert(e,0)},b.outdent=function(e){var t=b.$();return e=r(e)?e:_,e=z(e),t.length?b.replace(d("^"+e,"gm"),""):b.replace(d(e+"$"),"",0)},b.trim=function(e,t,n,r){e!==!1&&(e=e||""),t!==!1&&(t=t||""),n!==!1&&(n=n||""),r!==!1&&(r=r||"");var i=b.$(),o=i.before,f=i.after,u=i.value,l=e!==!1?p(o,1)+e:o,a=t!==!1?t+p(f,0):f,s=(n!==!1?n:"")+p(u)+(r!==!1?r:"");return b.set(l+s+a).select(l.length,(l+s).length)},b.toggle=function(e,t){return r(t)?(e===!0?e=0:e===!1&&(e=1),f(t[e])?(t[e](b,e),b):b.select()):b.select()},b.record=function(e,t){if(w)return b;var n=k[x],i=b.$(),o=L(),f=i.start,l=i.end,e=r(e)?e:[o,f,l,b.scroll()];return n&&u(n)&&n[0]===o&&n[1]===f&&n[2]===l?b:(x++,k[r(t)?t:x]=e,y=k.length,b)},b.loss=function(e){return e===!0?(k=[k[0]],x=0,b):(e=r(e)?e:x,x>=e&&x--,k.splice(e,1),y=k.length,b)},b.records=function(e,t){return r(e)?r(k[e])?k[e]:r(t)?t:!1:k},b.undo=function(){x--,x=c(x,0,y-1);var e=k[x];return b.set(e[0]).select(e[1],e[2]).scroll(e[3])},b.redo=function(){x++,x=c(x,0,y-1);var e=k[x];return b.set(e[0]).select(e[1],e[2]).scroll(e[3])},b[0]=function(){return w=1,b},b[1]=function(e){return w=0,e===!1?b:b.record()},b.is=function(e,t){return t=r(t)?t:!1,a(e)?e.test(b.type)?b.type:t:b.type===e?b.type:t};var S,N={b:l,e:s,f:f,i:o,o:u,r:a,s:i,x:function(e){return!r(e)}};for(S in N)b.is[S]=N[S];return b._={x:function(e){if(u(e)){for(var t=[],n=e.length;n--;)t.unshift(b._.x(e[n]));return t}return e.replace(d("["+b.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},extend:m,each:function(e,t,n){var r,i,o;if(n)for(r=0,i=e.length;i>r&&(o=t(e[r],r,e),o===!0||o!==!1);++r);else for(r in e)if(o=t(e[r],r,e),o!==!0&&o===!1)break;return e},trim:p,css:g,edge:c,pattern:d,i:h},b.target=n,b})}(window,document);