/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.4.1
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
var TE=function(e){function t(){return e.value.replace(/\r/g,"")}function r(e){return void 0!==e}function n(e){return"string"==typeof e}function o(e){return"function"==typeof e}function a(e){return"object"==typeof e}function i(e){return e instanceof RegExp&&e.source?e.source:!1}function l(e){return e instanceof HTMLElement}function c(e){return i(e)||m._.x(e)}function u(e,t,r){return t>e?t:e>r?r:e}function s(e,t){return RegExp(e,t)}function f(e){return parseInt(e,10)}function p(e,t){var r=g.getComputedStyle(e);return t?r[t.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]:r}function h(e,t){t=t||{};for(var r in t)e[r]=a(e[r])&&a(t[r])&&!l(e[r])&&!l(t[r])?h(e[r],t[r]):t[r];return e}function d(n){var o,a,i,l,c,u="font-",s="text-",h="padding-",d=["box-sizing","direction",u+"family",u+"size",u+"size-adjust",u+"stretch",u+"style",u+"variant",u+"weight","height","letter-pacing","line-height","overflow-x",h+"bottom",h+"left",h+"right",h+"top","tab-size",s+"align",s+"decoration",s+"indent",s+"transform","word-spacing"],m=b.body,v=d.length,$="INPUT"===e.nodeName;for(m.appendChild(_),o=_.style,a=p(e),c=f(a.width),o.whiteSpace="pre-wrap",$||(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden";--v;)o[d[v]]=a[d[v]];return o.overflowY=e.scrollHeight>f(a.height)?"scroll":"auto",o.width=r(g.mozInnerScreenX)?c+"px":c+S+"px",x.textContent=t().substring(n)||".",l=t().substring(0,n),$&&(l=l.replace(/\s/g,T)),_.textContent=l,_.appendChild(x),i={x:x.offsetLeft+f(a.borderLeftWidth),y:x.offsetTop+f(a.borderTopWidth)},m.removeChild(_),i}var g=window,b=document,m=this,v=1,$=0,k=[[t(),0,0,0]],w=0,y={},_=b.createElement("div"),x=b.createElement("span"),T="\u00A0",E="\t",S=function(){var e,t=b.createElement("div"),r=b.body,n=t.style;return r.appendChild(t),n.position="absolute",n.top=n.left="-9999px",n.width=n.height="100px",n.overflow="scroll",n.visibility="hidden",e=t.offsetWidth-t.clientWidth,r.removeChild(t),e}();return m.type="",m.x="!$^*()-=+[]{}\\|:<>,./?",e.TE=m,TE.__instance__[e.id||e.name||Object.keys(TE.__instance__).length]=m,m.scroll=function(t){var o=e.scrollTop,a=f(p(e,"line-height"));return r(t)?n(t)?(m.scroll(m.scroll()+("-"===t?-1:1)),m):(e.scrollTop=a*t,m):Math.floor(o/a)},m.set=function(t){return e.value=t,m},m.get=function(e){return r(e)?t().length?t():e:t()},m.save=function(e,t){return y[e]=t,m},m.restore=function(e,t){return r(e)?r(y[e])?y[e]:r(t)?t:!1:y},m.focus=function(n,o){return n===!0?(n=t().length,o=e.scrollHeight):n===!1&&(n=o=0),r(n)&&(e.selectionStart=e.selectionEnd=n,e.scrollTop=o),e.focus(),m},m.blur=function(){return e.blur(),m},m.$=function(r){var n=t().replace(/\r/g,""),o=e.selectionStart,a=e.selectionEnd,i=n.substring(o,a),l=r?[d(o),d(a)]:[];return{start:o,end:a,value:i,before:n.substring(0,o),after:n.substring(a),caret:l,length:i.length}},m.select=function(){var t,r=arguments,n=r.length,o=b.documentElement,a=b.body,i=e,l="scrollTop",c=m.$(),u="TE.scroll";if(m.save(u,[o[l],a[l],i[l]]).focus(),0===n)r[0]=c.start,r[1]=c.end;else if(1===n){if(r[0]===!0)return i.select(),m;r[1]=r[0]}return i.setSelectionRange(r[0],r[1]),t=m.restore(u,[0,0,0]),o[l]=t[0],a[l]=t[1],i[l]=t[2],m},m.match=function(e,t){var r=m.$().value.match(e);return o(t)?t(r||[]):!!r},m.replace=function(e,t){r(t)||i(e)||(t=e,e=/^[\s\S]*?$/);var n=m.$(),o=n.start,a=(n.end,n.value.replace(e,t));return m.set(n.before+a+n.after).select(o,o+a.length).record()},m.insert=function(e,t){var r=m.$(),n=r.start,o=r.end,a=r.value,i=r.before,l=r.after,c=i+e+l,u=e.length;return-1===t?(c=i+e+a+l,n+=u,o+=u):1===t?c=i+a+e+l:o=n+u,m.set(c).select(n,o).record()},m.insertBefore=function(e){return m.insert(e,-1)},m.insertAfter=function(e){return m.insert(e,1)},m.wrap=function(e,t,r){var n=m.$(),o=n.before,a=n.after,i=n.value;return r?m.replace(/^([\s\S]*?)$/,e+"$1"+t):m.set(o+e+i+t+a).select((o+e).length,(o+e+i).length).record()},m.unwrap=function(e,t,r){var n,o,a,i,l=m.$(),u=l.before,f=l.after,p=l.value;return e=c(e),t=c(t),a=s(e+"$"),i=s("^"+t),r?m.replace(s("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):a.test(u)&&i.test(f)?(n=u.replace(a,""),o=f.replace(i,""),m.set(n+p+o).select(n.length,(n+p).length).record()):m.select()},m.indent=function(e){var t=m.$(),e=r(e)?e:E;return t.length?m.replace(/^(?!$)/gm,e):m.set(t.before+e+t.value+t.after).select(t.start+e.length).record()},m.outdent=function(e){var t,n=m.$(),e=r(e)?e:E;return e=c(e),n.length?m.replace(s("^"+e,"gm"),""):(t=n.before.replace(s(e+"$"),""),m.set(t+n.value+n.after).select(t.length).record())},m.trim=function(e,t,r,n){e!==!1&&(e=e||""),t!==!1&&(t=t||""),r!==!1&&(r=r||""),n!==!1&&(n=n||"");var o=m.$(),a=o.before,i=o.after,l=o.value,c=e!==!1?a.replace(/\s*$/,e):a,u=t!==!1?i.replace(/^\s*/,t):i,s=l.replace(/^(\s*)([\s\S]*?)(\s*)$/g,(r!==!1?r:"$1")+"$2"+(n!==!1?n:"$3"));return m.set(c+s+u).select(c.length,(c+s).length)},m.toggle=function(e,t){return r(t)?(e===!0?e=0:e===!1&&(e=1),o(t[e])?(t[e](m,e),m):m.select()):m.select()},m.record=function(e,n){if($)return m;var o=k[w],i=m.$(),l=t(),c=i.start,u=i.end,e=r(e)?e:[l,c,u,m.scroll()];return o&&a(o)&&o[0]===l&&o[1]===c&&o[2]===u?m:(w++,k[r(n)?n:w]=e,v=k.length,m)},m.loss=function(e){return e===!0?(k=[k[0]],w=0,m):(e=r(e)?e:w,e>w||w--,k.splice(e,1),v=k.length,m)},m.records=function(e,t){return r(e)?r(k[e])?k[e]:r(t)?t:!1:k},m.undo=function(){w--,w=u(w,0,v-1);var e=k[w];return m.set(e[0]).select(e[1],e[2]).scroll(e[3])},m.redo=function(){w++,w=u(w,0,v-1);var e=k[w];return m.set(e[0]).select(e[1],e[2]).scroll(e[3])},m._={time:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),o=e.getHours(),a=e.getMinutes(),i=e.getSeconds(),l=e.getMilliseconds();return 10>r&&(r="0"+r),10>n&&(n="0"+n),10>o&&(o="0"+o),10>a&&(a="0"+a),10>i&&(i="0"+i),10>l&&(l="0"+l),[""+t,""+r,""+n,""+o,""+a,""+i,""+l]},x:function(e){if(a(e)){for(var t=[],r=e.length;r--;)t.unshift(m._.x(e[r]));return t}return e.replace(s("["+m.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},extend:h,each:function(e,t){var r;for(var n in e)if(r=t(e[n],n,e),r!==!0&&r===!1)break;return e},css:p},m[0]=function(){return $=1,m},m[1]=function(e){return $=0,e===!1?m:m.record()},m.target=e,m};!function(e){function t(e){return e.toLowerCase()}e.version="2.4.1",e.__instance__={},e.each=function(t,r){return setTimeout(function(){var r,n=e.__instance__;for(r in n)t(n[r])},0===r?0:r||1),e},e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alt={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"};for(var r=1;25>r;++r)e.keys[111+r]="f"+r;for(var r=65;91>r;++r)e.keys[r]=t(String.fromCharCode(r));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function r(e,r){return e&&e!==!0?(e=t(e),r&&(o[e]||e)===i):r}var n=e.keys,o=e.keys_alt,a=this,i=a.key?t(a.key):n[a.which||a.keyCode];return"object"==typeof i&&(i=a.shiftKey?i[1]||i[0]:i[0]),i=t(i),{key:function(e){return e&&e!==!0?e instanceof RegExp?e.test(i):(e=t(e),(o[e]||e)===i):i},control:function(e){return r(e,a.ctrlKey)},shift:function(e){return r(e,a.shiftKey)},option:function(e){return r(e,a.altKey)},meta:function(e){return r(e,a.metaKey)}}}})}(TE);