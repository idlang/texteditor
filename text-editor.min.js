/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.5.5
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function r(e){return e.toLowerCase()}function n(e){return"undefined"!=typeof e}function l(e){return"string"==typeof e}function i(e){return"number"==typeof e}function a(e){return"function"==typeof e}function o(e){return"object"==typeof e}function s(e){return"boolean"==typeof e}function u(e){return e instanceof RegExp?e.source||!0:!1}function c(e){return e instanceof HTMLElement}function f(e,t,r){return n(t)&&t>e?t:n(r)&&e>r?r:e}function p(e,t){return new RegExp(e,t)}function d(e,t){return-1===t?e.replace(/^\s*/,""):1===t?e.replace(/\s*$/,""):e.replace(/^\s*|\s*$/g,"")}function h(e,t){return parseInt(e,n(t)?t:10)}function g(e){return e.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})}function b(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function $(t,r){var i,a,n=e.getComputedStyle(t,null),l={};return r?(i=n[g(r)],a=h(i),0===a?0:a||i):function(){for(i in n)a=h(n[i]),l[b(i)]=0===a?0:a||n[i];return l}()}function m(e,t){t=t||{};for(var r in t)o(e[r])&&o(t[r])&&!c(e[r])&&!c(t[r])?e[r]=m(e[r],t[r]):e[r]=t[r];return e}!function(e){e.version="2.5.5",e.__instance__={},e.each=function(t,r){return setTimeout(function(){var n,r=e.__instance__;for(n in r)t(r[n],n,r)},0===r?0:r||1),e},e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alias={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"};for(var t=1;25>t;++t)e.keys[111+t]="f"+t;for(var t=65;91>t;++t)e.keys[t]=r(String.fromCharCode(t));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function a(e,t){return e&&e!==!0?u(e)?t&&e.test(i):(e=r(e),t&&(n[e]||e)===i):i}var t=e.keys,n=e.keys_alias,l=this,i=l.key?r(l.key):t[l.which||l.keyCode];return o(i)&&(i=l.shiftKey?i[1]||i[0]:i[0]),i=r(i),{key:function(e){return a(e,1)},control:function(e){return a(e,l.ctrlKey)},shift:function(e){return a(e,l.shiftKey)},option:function(e){return a(e,l.altKey)},meta:function(e){return a(e,l.metaKey)}}}})}(e.TE=function(r){function S(){return r.value.replace(/\r/g,"")}function C(e){return u(e)||b._.x(e)}function z(i){var d,h,b,m,v,a="font-",o="text-",s="padding-",u="border-",c=["box-sizing","direction",a+"family",a+"size",a+"size-adjust",a+"stretch",a+"style",a+"variant",a+"weight","height","letter-spacing","line-height","overflow-x",s+"bottom",s+"left",s+"right",s+"top","tab-size",o+"align",o+"decoration",o+"indent",o+"transform","word-spacing"],f=t.body,p=c.length;for(f.appendChild(_),d=_.style,h=$(r),v=h.width,d.whiteSpace="pre-wrap",d.wordWrap="break-word",d.position="absolute",d.visibility="hidden";--p;)m=h[c[p]],d[g(c[p])]=l(m)?m:m+"px";return d.overflowY=r.scrollHeight>h.height?"scroll":"auto",n(e.mozInnerScreenX)?d.width=v+"px":d.width=v+E+"px",q.textContent=S().substring(i)||".",m=S().substring(0,i),_.textContent=m,_.appendChild(q),b={x:q.offsetLeft+h[u+"left-width"],y:q.offsetTop+h[u+"top-width"]},f.removeChild(_),b}var b=this,v=1,k=0,y=[[S(),0,0,0]],w=0,x={},_=t.createElement("div"),q=t.createElement("span"),T="\t";if(!(b instanceof TE))return new TE(r);var E=function(){var l,e=t.createElement("div"),r=t.body,n=e.style;return r.appendChild(e),n.position="absolute",n.top=n.left="-9999px",n.width=n.height="100px",n.overflow="scroll",n.visibility="hidden",l=e.offsetWidth-e.clientWidth,r.removeChild(e),l}();b.type="",b.x="!$^*()-=+[]{}\\|:<>,./?",r.TE=b,TE.__instance__[r.id||r.name||Object.keys(TE.__instance__).length]=b,b.scroll=function(e){var t=r.scrollTop,l=$(r,"line-height"),i=$(r,"font-size");return n(e)?s(e)?b.scroll(b.scroll()[0]+(e===!1?-1:1)):(r.scrollTop=l*e+(l-i),b):[Math.floor(t/l),l]},b.set=function(e){return r.value=e,b},b.get=function(e){return n(e)?S().length?S():e:S()},b.save=function(e,t){return x[e]=t,b},b.restore=function(e,t){return n(e)?n(x[e])?x[e]:n(t)?t:"":x},b.focus=function(e,t){return e===!0?(e=S().length,t=r.scrollHeight):e===!1&&(e=t=0),n(e)&&(r.selectionStart=r.selectionEnd=e,r.scrollTop=t),r.focus(),b},b.blur=function(){return r.blur(),b},b.$=function(e){var t=S(),n=r.selectionStart,l=r.selectionEnd,i=t.substring(n,l),a=e?[z(n),z(l)]:[];return{start:n,end:l,value:i,before:t.substring(0,n),after:t.substring(l),caret:a,length:i.length}},b.select=function(){var c,e=arguments,n=e.length,l=t.documentElement,i=t.body,a=r,o="scrollTop",s=b.$(),u="TE.scroll";if(b.save(u,[l[o],i[o],a[o]]).focus(),0===n)e[0]=s.start,e[1]=s.end;else if(1===n){if(e[0]===!0)return a.select(),b;e[1]=e[0]}return a.setSelectionRange(e[0],e[1]),c=b.restore(u,[0,0,0]),l[o]=c[0],i[o]=c[1],a[o]=c[2],b},b.match=function(e,t){var r=b.$().value.match(e);return a(t)?t(r||[]):!!r},b.replace=function(e,t,r){var o,s,n=b.$(),l=n.before,i=n.after,a=n.value;return-1===r?l=l.replace(e,t):1===r?i=i.replace(e,t):a=a.replace(e,t),o=l.length,s=o+a.length,b.set(l+a+i).select(o,s).record()},b.replaceBefore=function(e,t){return b.replace(e,t,-1)},b.replaceAfter=function(e,t){return b.replace(e,t,1)},b.insert=function(e,t,r){var n=/^[\s\S]*?$/;return b[0](),r&&b.replace(n,""),-1===t?n=/$/:1===t&&(n=/^/),b.replace(n,e,t)[1]()},b.insertBefore=function(e,t){return b.insert(e,-1,t)},b.insertAfter=function(e,t){return b.insert(e,1,t)},b.wrap=function(e,t,r){var n=b.$(),l=n.before,i=n.after,a=n.value;return r?b.replace(/^([\s\S]*?)$/,e+"$1"+t):b.set(l+e+a+t+i).select((l+e).length,(l+e+a).length).record()},b.unwrap=function(e,t,r){var o,s,u,c,n=b.$(),l=n.before,i=n.after,a=n.value;return e=C(e),t=C(t),u=p(e+"$"),c=p("^"+t),r?b.replace(p("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):u.test(l)&&c.test(i)?(o=l.replace(u,""),s=i.replace(c,""),b.set(o+a+s).select(o.length,(o+a).length).record()):b.select()},b.indent=function(e,t){var r=b.$();return e=n(e)?e:T,r.length?b.replace(p("^"+(t?"":"(?!$)"),"gm"),e):b.insert(e,-1)},b.outdent=function(e){var t=b.$();return e=n(e)?e:T,e=C(e),t.length?b.replace(p("^"+e,"gm"),""):b.replace(p(e+"$"),"",-1)},b.trim=function(e,t,r,n){e!==!1&&(e=e||""),t!==!1&&(t=t||""),r!==!1&&(r=r||""),n!==!1&&(n=n||"");var l=b.$(),i=l.before,a=l.after,o=l.value,s=e!==!1?d(i,1)+e:i,u=t!==!1?t+d(a,-1):a,c=(r!==!1?r:"")+d(o)+(n!==!1?n:"");return b.set(s+c+u).select(s.length,(s+c).length)},b.toggle=function(e,t){return n(t)?(e===!0?e=0:e===!1&&(e=1),a(t[e])?(t[e](b,e),b):b.select()):b.select()},b.record=function(e,t){if(k)return b;var r=y[w],l=b.$(),i=S(),a=l.start,s=l.end,e=n(e)?e:[i,a,s,b.scroll()];return r&&o(r)&&r[0]===i&&r[1]===a&&r[2]===s?b:(w++,y[n(t)?t:w]=e,v=y.length,b)},b.loss=function(e){return e===!0?(y=[y[0]],w=0,b):(e=n(e)?e:w,w>=e&&w--,y.splice(e,1),v=y.length,b)},b.records=function(e,t){return n(e)?n(y[e])?y[e]:n(t)?t:!1:y},b.undo=function(){w--,w=f(w,0,v-1);var e=y[w];return b.set(e[0]).select(e[1],e[2]).scroll(e[3])},b.redo=function(){w++,w=f(w,0,v-1);var e=y[w];return b.set(e[0]).select(e[1],e[2]).scroll(e[3])},b[0]=function(){return k=1,b},b[1]=function(e){return k=0,e===!1?b:b.record()},b.is=function(e,t){return t=n(t)?t:!1,u(e)?e.test(b.type)?b.type:t:b.type===e?b.type:t};var O,B={b:s,e:c,f:a,i:i,o:o,r:u,s:l,x:function(e){return!n(e)}};for(O in B)b.is[O]=B[O];return b._={x:function(e){if(o(e)){for(var t=[],r=e.length;r--;)t.unshift(b._.x(e[r]));return t}return e.replace(p("["+b.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},extend:m,each:function(e,t,r){var n,l,i;if(r)for(n=0,l=e.length;l>n&&(i=t(e[n],n,e),i===!0||i!==!1);++n);else for(n in e)if(i=t(e[n],n,e),i!==!0&&i===!1)break;return e},trim:d,css:$,edge:f,pattern:p,i:h},b.target=r,b})}(window,document);