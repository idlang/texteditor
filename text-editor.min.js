/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.6.3
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function n(e){return e.toLowerCase()}function r(e){return e.toUpperCase()}function i(e){return"undefined"!=typeof e}function o(e){return"string"==typeof e}function f(e){return"number"==typeof e}function u(e){return"function"==typeof e}function l(e){return"object"==typeof e}function s(e){return e instanceof Array}function a(e){return"boolean"==typeof e}function c(e){return e instanceof RegExp?e.source||!0:!1}function d(e){return e instanceof HTMLElement}function p(e,t,n){return i(t)&&t>e?t:i(n)&&e>n?n:e}function h(e,t){return new RegExp(e,t)}function b(e,t){return 0===t?e.replace(/^\s*/,""):1===t?e.replace(/\s*$/,""):e.replace(/^\s*|\s*$/g,"")}function g(e,t){return parseInt(e,i(t)?t:10)}function v(e){return e.replace(/\-([a-z])/g,function(e,t){return r(t)})}function y(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+n(t)})}function m(t,n,r){var a,c,d,p,i=e.getComputedStyle(t,r),f=0,u={};if(l(n)){if(s(n)){i={};for(a in n)a=n[a],p=m(t,a,r),i[f]=p,i[a.replace(/^\!/,"")]=p,++f;return i}for(a in n)c=n[a],t.style[v(a)]=c?o(c)?c:c+"px":"";return t}return n?("!"===n[0]&&(n=n.slice(1),d=1),a=i[v(n)],c=d?a:g(a),0===c?0:c||a):function(){for(a in i)c=g(i[a]),u[y(a)]=0===c?0:c||i[a];return u}()}function x(e,t){t=t||{};for(var n in t)l(e[n])&&l(t[n])&&!d(e[n])&&!d(t[n])?e[n]=x(e[n],t[n]):e[n]=t[n];return e}function w(e,t){var n,r,i;if(s(e))for(n=0,r=e.length;r>n&&(i=t(e[n],n,e),i===!0||i!==!1);++n);else for(n in e)if(i=t(e[n],n,e),i!==!0&&i===!1)break;return e}!function(e){e.version="2.6.3",e.__instance__={},e.each=function(t,n){return setTimeout(function(){var r,n=e.__instance__;for(r in n)t(n[r],r,n)},0===n?0:n||1),e};for(var t={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},r={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",back:"backspace",space:" ",plus:"+"},i=1;25>i;++i)t[111+i]="f"+i;for(var i=65;91>i;++i)t[i]=n(String.fromCharCode(i));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function o(e,t){return e&&e!==!0?c(e)?t&&e.test(i):(e=n(e),t&&(r[e]||e)===i):i}var e=this,i=e.key?n(e.key):t[e.which||e.keyCode];return l(i)&&(i=e.shiftKey?i[1]||i[0]:i[0]),i=n(i),{key:function(e){return o(e,1)},control:function(t){return o(t,e.ctrlKey)},shift:function(t){return o(t,e.shiftKey)},option:function(t){return o(t,e.altKey)},meta:function(t){return o(t,e.metaKey)}}}}),e.keys=t,e.keys_alias=r}(e.TE=function(e){function O(){return e.value.replace(/\r/g,"")}function S(e){if(s(e)){var t,r=[];for(t in e)r[t]=S(e[t]);return r}return e.replace(h("["+n.x.replace(/./g,"\\$&")+"]","g"),"\\$&")}function j(e){return c(e)||S(e)}function M(t){var a,c,d,p,n="font-",r="text-",o="padding-",f="border-",u="-width",l="!",s=[f+"bottom"+u,f+"left"+u,f+"right"+u,f+"top"+u,"box-sizing","direction",l+n+"family",n+"size",l+n+"size-adjust",l+n+"stretch",l+n+"style",l+n+"variant",l+n+"weight","height","letter-spacing","line-height","overflow-x",o+"bottom",o+"left",o+"right",o+"top","tab-size",r+"align",r+"decoration",r+"indent",r+"transform","width","word-spacing"],l=s.length;return $.appendChild(_),a=_.style,c=m(e,s),p=c.width,m(_,x(c,{width:i(p.mozInnerScreenX)?p:p+z,"overflow-y":e.scrollHeight>c.height?"scroll":"auto","white-space":"pre-wrap","word-wrap":"break-word",position:"absolute",visibility:"hidden"})),L.textContent=O().substring(t)||".",_.textContent=O().substring(0,t),_.appendChild(L),d={x:L.offsetLeft+c[f+"left"+u],y:L.offsetTop+c[f+"top"+u]},$.removeChild(_),d}var n=this,r=1,v=0,y=[[O(),0,0,0]],k=0,E={},T=t.documentElement,$=t.body,_=t.createElement("div"),L=t.createElement("span"),C="	";if(!(n instanceof TE))return new TE(e);var z=function(){var n,e="-200px",t="200px";return $.appendChild(_),m(_,{position:"absolute",top:e,left:e,width:t,height:t,overflow:"scroll",visibility:"hidden"}),n=_.offsetWidth-_.clientWidth,$.removeChild(_),n}();n.type="",n.x="!$^*()-=+[]{}\\|:<>,./?",e.TE=n,TE.__instance__[e.id||e.name||Object.keys(TE.__instance__).length]=n,n.scroll=function(t){var r=e.scrollTop,o=m(e,["line-height","font-size"]);return i(t)?a(t)?n.scroll(n.scroll()[0]+(t===!1?-1:1)):(e.scrollTop=o[0]*t+o[1]+(o[0]-o[1]),n):[Math.floor(r/o[0]),o[0]]},n.set=function(t){return e.value=t,n},n.get=function(e){return i(e)?O().length?O():e:O()},n.save=function(e,t){return E[e]=t,n},n.restore=function(e,t){return i(e)?i(E[e])?E[e]:i(t)?t:"":E},n.focus=function(t,r){return t===!0?(t=O().length,r=e.scrollHeight):t===!1&&(t=r=0),i(t)&&(e.selectionStart=e.selectionEnd=t,e.scrollTop=r),e.focus(),n},n.blur=function(){return e.blur(),n},n.$=function(t){var n=O(),r=e.selectionStart,i=e.selectionEnd,o=n.substring(r,i),f=t?[M(r),M(i)]:[];return{start:r,end:i,value:o,before:n.substring(0,r),after:n.substring(i),caret:f,length:o.length}},n.select=function(){var u,t=arguments,r=t.length,i="scrollTop",o=n.$(),f="TE.scroll";if(n.save(f,[T[i],$[i],e[i]]).focus(),0===r)t[0]=o.start,t[1]=o.end;else if(1===r){if(t[0]===!0)return e.select(),n;t[1]=t[0]}return e.setSelectionRange(t[0],t[1]),u=n.restore(f,[0,0,0]),T[i]=u[0],$[i]=u[1],e[i]=u[2],n},n.match=function(e,t){var r=n.$().value.match(e);return u(t)?t(r||[]):!!r},n.replace=function(e,t,r){var l,s,i=n.$(),o=i.before,f=i.after,u=i.value;return 0===r?o=o.replace(e,t):1===r?f=f.replace(e,t):u=u.replace(e,t),l=o.length,s=l+u.length,n.set(o+u+f).select(l,s).record()},n.replaceBefore=function(e,t){return n.replace(e,t,0)},n.replaceAfter=function(e,t){return n.replace(e,t,1)},n.insert=function(e,t,r){var i=/^[\s\S]*?$/;return r&&n.replace(i,"").loss(),0===t?i=/$/:1===t&&(i=/^/),n.replace(i,e,t)},n.insertBefore=function(e,t){return n.insert(e,0,t)},n.insertAfter=function(e,t){return n.insert(e,1,t)},n.wrap=function(e,t,r){var i=n.$(),o=i.before,f=i.after,u=i.value;return r?n.replace(/^([\s\S]*?)$/,e+"$1"+t):n.set(o+e+u+t+f).select((o+e).length,(o+e+u).length).record()},n.unwrap=function(e,t,r){var l,s,a,c,i=n.$(),o=i.before,f=i.after,u=i.value;return e=j(e),t=j(t),a=h(e+"$"),c=h("^"+t),r?n.replace(h("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):a.test(o)&&c.test(f)?(l=o.replace(a,""),s=f.replace(c,""),n.set(l+u+s).select(l.length,(l+u).length).record()):n.select()},n.indent=function(e,t){var r=n.$();return e=i(e)?e:C,r.length?n.replace(h("^"+(t?"":"(?!$)"),"gm"),e):n.insert(e,0)},n.outdent=function(e){var t=n.$();return e=i(e)?e:C,e=j(e),t.length?n.replace(h("^"+e,"gm"),""):n.replace(h(e+"$"),"",0)},n.trim=function(e,t,r,i){e!==!1&&(e=e||""),t!==!1&&(t=t||""),r!==!1&&(r=r||""),i!==!1&&(i=i||"");var o=n.$(),f=o.before,u=o.after,l=o.value,s=e!==!1?b(f,1)+e:f,a=t!==!1?t+b(u,0):u,c=(r!==!1?r:"")+b(l)+(i!==!1?i:"");return n.set(s+c+a).select(s.length,(s+c).length)},n.toggle=function(e,t){return i(t)?(e===!0?e=0:e===!1&&(e=1),u(t[e])?(t[e](n,e),n):n.select()):n.select()},n.record=function(e,t){if(v)return n;var o=y[k],f=n.$(),u=O(),s=f.start,a=f.end,e=i(e)?e:[u,s,a,n.scroll()[0]];return o&&l(o)&&o[0]===u&&o[1]===s&&o[2]===a?n:(k++,y[i(t)?t:k]=e,r=y.length,n)},n.loss=function(e){return e===!0?(y=[y[0]],k=0,n):(e=i(e)?e:k,k>=e&&k--,y.splice(e,1),r=y.length,n)},n.records=function(e,t){return i(e)?i(y[e])?y[e]:i(t)?t:!1:y},n.undo=function(){k--,k=p(k,0,r-1);var e=y[k];return n.set(e[0]).select(e[1],e[2]).scroll(e[3])},n.redo=function(){k++,k=p(k,0,r-1);var e=y[k];return n.set(e[0]).select(e[1],e[2]).scroll(e[3])},n[0]=function(){return v=1,n},n[1]=function(e){return v=0,e===!1?n:n.record()},n.is=function(e,t){return t=i(t)?t:!1,c(e)?e.test(n.type)?n.type:t:n.type===e?n.type:t};var Y,D={a:s,b:a,e:d,f:u,i:f,n:function(e){return null===e},o:l,r:c,s:o,x:function(e){return!i(e)}};for(Y in D)n.is[Y]=D[Y];return n._={x:S,extend:x,each:w,trim:b,css:m,edge:p,pattern:h,i:g},n.target=e,n})}(window,document);