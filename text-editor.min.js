/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.1.1
 * ==========================================================
 * Author: Taufik Nurrohman <http://latitudu.com>
 * License: MIT
 * ----------------------------------------------------------
 */
var TE=function(e){function t(){return e.value}function r(e){return void 0!==e}function n(e){return"function"==typeof e}function o(e){return"object"==typeof e}function i(e){return e instanceof RegExp&&e.source?e.source:!1}function c(e){return i(e)||p.esc(e)}function u(e,t,r){return t>e?t:e>r?r:e}function a(e,t){return RegExp(e,t)}function l(e){return parseInt(e,10)}function f(n){var o,i,c,u,a,f=["boxSizing","direction","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","height","letterSpacing","lineHeight","overflowX","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textAlign","textDecoration","textIndent","textTransform","wordSpacing"],p=d.body,g=f.length,h="INPUT"===e.nodeName;for(p.appendChild(w),o=w.style,i=getComputedStyle(e),a=l(i.width),o.whiteSpace="pre-wrap",h||(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden";--g;)o[f[g]]=i[f[g]];return o.overflowY=e.scrollHeight>l(i.height)?"scroll":"auto",o.width=r(s.mozInnerScreenX)?a+"px":a+S+"px",y.textContent=t().substring(n)||".",u=t().substring(0,n),h&&(u=u.replace(/\s/g,$)),w.textContent=u,w.appendChild(y),c={x:y.offsetLeft+l(i.borderLeftWidth),y:y.offsetTop+l(i.borderTopWidth)},p.removeChild(w),c}var s=window,d=document,p=this,g=1,h=0,v=[[t(),0,0]],b=0,m={},w=d.createElement("div"),y=d.createElement("span"),$="\u00a0",x="\t",S=function(){var e,t=d.createElement("div"),r=d.body,n=t.style;return r.appendChild(t),n.position="absolute",n.top="-9999px",n.left="-9999px",n.width=n.height="100px",n.overflow="scroll",n.visibility="hidden",e=t.offsetWidth-t.clientWidth,r.removeChild(t),e}();return p.x="!$^*()-=+[]{}\\|:<>,./?",p.version="2.1.0",e.TE=p,p.set=function(t){return e.value=t,p},p.get=function(e){return r(e)?t().length?t():e:t()},p.save=function(e,t){return m[e]=t,p},p.restore=function(e,t){return r(e)?r(m[e])?m[e]:r(t)?t:!1:m},p.focus=function(n,o){return n===!0?(n=t().length,o=e.scrollHeight):n===!1&&(n=o=0),r(n)&&(e.selectionStart=e.selectionEnd=n,e.scrollTop=o),e.focus(),p},p.blur=function(){return e.blur(),p},p.$=function(){var r=t().replace(/\r/g,""),n=e.selectionStart,o=e.selectionEnd,i=r.substring(n,o),c=[f(n),f(o)];return{start:n,end:o,value:i,before:r.substring(0,n),after:r.substring(o),caret:c,length:i.length}},p.select=function(){var t,r=arguments,n=r.length,o=d.documentElement,i=d.body,c=e,u="scrollTop",a=p.$(),l="TE.scroll";if(p.save(l,[o[u],i[u],c[u]]).focus(),0===n)r[0]=a.start,r[1]=a.end;else if(1===n){if(r[0]===!0)return c.select(),p;r[1]=r[0]}return e.setSelectionRange(r[0],r[1]),t=p.restore(l,[0,0,0]),o[u]=t[0],i[u]=t[1],c[u]=t[2],p},p.match=function(e,t){var r=p.$().value.match(e);return n(t)?t(r||[]):!!r},p.replace=function(e,t){var r=p.$(),n=r.start,o=(r.end,r.value.replace(e,t));return p.set(r.before+o+r.after).select(n,n+o.length).record()},p.insert=function(e,t){var r=p.$(),n=r.start,o=r.end,i=r.value,c=r.before,u=r.after,a=c+e+u,l=e.length;return-1===t?(a=c+e+i+u,n+=l,o+=l):1===t?a=c+i+e+u:o=n+l,p.set(a).select(n,o).record()},p.insertBefore=function(e){return p.insert(e,-1)},p.insertAfter=function(e){return p.insert(e,1)},p.wrap=function(e,t,r){var n=p.$(),o=n.before,i=n.after,c=n.value;return r?p.replace(/^([\s\S]*?)$/,e+"$1"+t):p.set(o+e+c+t+i).select((o+e).length,(o+e+c).length).record()},p.unwrap=function(e,t,r){var n=p.$(),o=n.before,i=n.after,u=n.value;if(e=c(e),t=c(t),r)return p.replace(a("^"+e+"([\\s\\S]*?)"+t+"$"),"$1");var l=o.replace(a(e+"$"),""),f=i.replace(a("^"+t),"");return p.set(l+u+f).select(l.length,(l+u).length).record()},p.indent=function(e){var t=p.$(),e=r(e)?e:x;return t.length?p.replace(/^(?!$)/gm,e):p.set(t.before+e+t.value+t.after).select(t.start+e.length).record()},p.outdent=function(e){var t,n=p.$(),e=r(e)?e:x;return e=c(e),n.length?p.replace(a("^"+e,"gm"),""):(t=n.before.replace(a(e+"$"),""),p.set(t+n.value+n.after).select(t.length).record())},p.trim=function(e,t,r,n){e=e||"",t=t||"",r=r||"",n=n||"";var o=p.$(),i=o.before,c=o.after,u=o.value,a=i.replace(/\s*$/,e),l=c.replace(/^\s*/,t),f=u.replace(/^\s*([\s\S]*?)\s*$/g,r+"$1"+n);return p.set(a+f+l).select(a.length,(a+f).length)},p.toggle=function(e,t){return r(t)?(e===!0?e=0:e===!1&&(e=1),n(t[e])?(t[e](p,e),p):p.select()):p.select()},p.record=function(e,n){if(h)return p;var i=v[b],c=p.$(),u=t(),a=c.start,l=c.end,e=r(e)?e:[u,a,l];return i&&o(i)&&i[0]===u&&i[1]===a&&i[2]===l?p:(b++,v[r(n)?n:b]=e,g=v.length,p)},p.loss=function(e){return e===!0?(v=[v[0]],b=0,p):(e=r(e)?e:b,e>b||b--,v.splice(e,1),g=v.length,p)},p.records=function(e,t){return r(e)?r(v[e])?v[e]:r(t)?t:!1:v},p.undo=function(){b--,b=u(b,0,g-1);var e=v[b];return p.set(e[0]).select(e[1],e[2])},p.redo=function(){b++,b=u(b,0,g-1);var e=v[b];return p.set(e[0]).select(e[1],e[2])},p.esc=function(e){if(o(e)){for(var t=[],r=e.length;r--;)t.unshift(p.esc(e[r]));return t}return e.replace(a("["+p.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},p[0]=function(){return h=1,p},p[1]=function(e){return h=0,e===!1?p:p.record()},p.target=e,p};Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function e(e,t){return t&&(!e||"string"==typeof e&&(r[e]||e)===o||e===!0)}var t={8:"backspace",9:"tab",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",33:"pageup",34:"pagedown",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},r={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",home:"pageup",end:"pagedown",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"},n=this,o=n.key||t[n.which||n.keyCode];return"object"==typeof o&&(o=n.shiftKey?o[1]||o[0]:o[0]),o=o.toLowerCase(),{key:function(e){return e?e instanceof RegExp?e.test(o):(e=e.toLowerCase(),(r[e]||e)===o):o},control:function(t){return e(t,n.ctrlKey)},shift:function(t){return e(t,n.shiftKey)},option:function(t){return e(t,n.altKey)},meta:function(t){return e(t,n.metaKey)}}}});