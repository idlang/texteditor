/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.5.3
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e){function t(e){return e.toLowerCase()}e.version="2.5.3",e.__instance__={},e.each=function(t,n){return setTimeout(function(){var r,n=e.__instance__;for(r in n)t(n[r],r,n)},0===n?0:n||1),e},e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alias={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"};for(var n=1;25>n;++n)e.keys[111+n]="f"+n;for(var n=65;91>n;++n)e.keys[n]=t(String.fromCharCode(n));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function a(e,n){return e&&e!==!0?e instanceof RegExp?n&&e.test(l):(e=t(e),n&&(r[e]||e)===l):n}var n=e.keys,r=e.keys_alias,i=this,l=i.key?t(i.key):n[i.which||i.keyCode];return"object"==typeof l&&(l=i.shiftKey?l[1]||l[0]:l[0]),l=t(l),{key:function(e){return e&&e!==!0?e instanceof RegExp?e.test(l):(e=t(e),(r[e]||e)===l):l},control:function(e){return a(e,i.ctrlKey)},shift:function(e){return a(e,i.shiftKey)},option:function(e){return a(e,i.altKey)},meta:function(e){return a(e,i.metaKey)}}}})}(window.TE=function(e){function d(){return e.value.replace(/\r/g,"")}function h(e){return"undefined"!=typeof e}function g(e){return"string"==typeof e}function $(e){return"function"==typeof e}function m(e){return"object"==typeof e}function b(e){return e instanceof RegExp&&e.source?e.source:!1}function v(e){return e instanceof HTMLElement}function k(e){return b(e)||r._.x(e)}function y(e,t,n){return t>e?t:e>n?n:e}function w(e,t){return new RegExp(e,t)}function x(e){return parseInt(e,10)}function _(e){return e.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})}function E(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function T(e,n){var l,a,r=t.getComputedStyle(e,null),i={};return n?(l=r[_(n)],a=x(l),0===a?0:a||l):function(){for(l in r)a=x(r[l]),i[E(l)]=0===a?0:a||r[l];return i}()}function S(e,t){t=t||{};for(var n in t)m(e[n])&&m(t[n])&&!v(e[n])&&!v(t[n])?e[n]=S(e[n],t[n]):e[n]=t[n];return e}function I(r){var m,b,v,k,y,i="font-",l="text-",a="padding-",s="border-",f=["box-sizing","direction",i+"family",i+"size",i+"size-adjust",i+"stretch",i+"style",i+"variant",i+"weight","height","letter-spacing","line-height","overflow-x",a+"bottom",a+"left",a+"right",a+"top","tab-size",l+"align",l+"decoration",l+"indent",l+"transform","word-spacing"],c=n.body,$=f.length;for(c.appendChild(o),m=o.style,b=T(e),y=b.width,m.whiteSpace="pre-wrap",m.wordWrap="break-word",m.position="absolute",m.visibility="hidden";--$;)k=b[f[$]],m[_(f[$])]=g(k)?k:k+"px";return m.overflowY=e.scrollHeight>b.height?"scroll":"auto",h(t.mozInnerScreenX)?m.width=y+"px":m.width=y+p+"px",u.textContent=d().substring(r)||".",k=d().substring(0,r),o.textContent=k,o.appendChild(u),v={x:u.offsetLeft+b[s+"left-width"],y:u.offsetTop+b[s+"top-width"]},c.removeChild(o),v}var t=window,n=document,r=this,i=1,l=0,a=[[d(),0,0,0]],s=0,f={},o=n.createElement("div"),u=n.createElement("span"),c="\t",p=function(){var i,e=n.createElement("div"),t=n.body,r=e.style;return t.appendChild(e),r.position="absolute",r.top=r.left="-9999px",r.width=r.height="100px",r.overflow="scroll",r.visibility="hidden",i=e.offsetWidth-e.clientWidth,t.removeChild(e),i}();return r.type="",r.x="!$^*()-=+[]{}\\|:<>,./?",e.TE=r,TE.__instance__[e.id||e.name||Object.keys(TE.__instance__).length]=r,r.scroll=function(t){var n=e.scrollTop,i=T(e,"line-height"),l=T(e,"font-size");return h(t)?t===!0||t===!1?r.scroll(r.scroll()+(t===!1?-1:1)):(e.scrollTop=i*t+(i-l),r):Math.floor(n/i)},r.set=function(t){return e.value=t,r},r.get=function(e){return h(e)?d().length?d():e:d()},r.save=function(e,t){return f[e]=t,r},r.restore=function(e,t){return h(e)?h(f[e])?f[e]:h(t)?t:"":f},r.focus=function(t,n){return t===!0?(t=d().length,n=e.scrollHeight):t===!1&&(t=n=0),h(t)&&(e.selectionStart=e.selectionEnd=t,e.scrollTop=n),e.focus(),r},r.blur=function(){return e.blur(),r},r.$=function(t){var n=d(),r=e.selectionStart,i=e.selectionEnd,l=n.substring(r,i),a=t?[I(r),I(i)]:[];return{start:r,end:i,value:l,before:n.substring(0,r),after:n.substring(i),caret:a,length:l.length}},r.select=function(){var c,t=arguments,i=t.length,l=n.documentElement,a=n.body,s=e,f="scrollTop",o=r.$(),u="TE.scroll";if(r.save(u,[l[f],a[f],s[f]]).focus(),0===i)t[0]=o.start,t[1]=o.end;else if(1===i){if(t[0]===!0)return s.select(),r;t[1]=t[0]}return s.setSelectionRange(t[0],t[1]),c=r.restore(u,[0,0,0]),l[f]=c[0],a[f]=c[1],s[f]=c[2],r},r.match=function(e,t){var n=r.$().value.match(e);return $(t)?t(n||[]):!!n},r.replace=function(e,t,n){var f,o,i=r.$(),l=i.before,a=i.after,s=i.value;return-1===n?l=l.replace(e,t):1===n?a=a.replace(e,t):s=s.replace(e,t),f=l.length,o=f+s.length,r.set(l+s+a).select(f,o).record()},r.replaceBefore=function(e,t){return r.replace(e,t,-1)},r.replaceAfter=function(e,t){return r.replace(e,t,1)},r.insert=function(e,t,n){var i=/^[\s\S]*?$/;return r[0](),n&&r.replace(i,""),-1===t?i=/$/:1===t&&(i=/^/),r.replace(i,e,t)[1]()},r.insertBefore=function(e,t){return r.insert(e,-1,t)},r.insertAfter=function(e,t){return r.insert(e,1,t)},r.wrap=function(e,t,n){var i=r.$(),l=i.before,a=i.after,s=i.value;return n?r.replace(/^([\s\S]*?)$/,e+"$1"+t):r.set(l+e+s+t+a).select((l+e).length,(l+e+s).length).record()},r.unwrap=function(e,t,n){var f,o,u,c,i=r.$(),l=i.before,a=i.after,s=i.value;return e=k(e),t=k(t),u=w(e+"$"),c=w("^"+t),n?r.replace(w("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):u.test(l)&&c.test(a)?(f=l.replace(u,""),o=a.replace(c,""),r.set(f+s+o).select(f.length,(f+s).length).record()):r.select()},r.indent=function(e){var t=r.$();return e=h(e)?e:c,t.length?r.replace(/^(?!$)/gm,e):r.set(t.before+e+t.value+t.after).select(t.start+t.length).record()},r.outdent=function(e){var n,t=r.$();return e=h(e)?e:c,e=k(e),t.length?t.replace(w("^"+e,"gm"),""):(n=t.before.replace(w(e+"$"),""),r.set(n+t.value+t.after).select(n.length).record())},r.trim=function(e,t,n,i){e!==!1&&(e=e||""),t!==!1&&(t=t||""),n!==!1&&(n=n||""),i!==!1&&(i=i||"");var l=r.$(),a=l.before,s=l.after,f=l.value,o=e!==!1?a.replace(/\s*$/,e):a,u=t!==!1?s.replace(/^\s*/,t):s,c=f.replace(/^(\s*)([\s\S]*?)(\s*)$/g,(n!==!1?n:"$1")+"$2"+(i!==!1?i:"$3"));return r.set(o+c+u).select(o.length,(o+c).length)},r.toggle=function(e,t){return h(t)?(e===!0?e=0:e===!1&&(e=1),$(t[e])?(t[e](r,e),r):r.select()):r.select()},r.record=function(e,t){if(l)return r;var n=a[s],f=r.$(),o=d(),u=f.start,c=f.end,e=h(e)?e:[o,u,c,r.scroll()];return n&&m(n)&&n[0]===o&&n[1]===u&&n[2]===c?r:(s++,a[h(t)?t:s]=e,i=a.length,r)},r.loss=function(e){return e===!0?(a=[a[0]],s=0,r):(e=h(e)?e:s,s>=e&&s--,a.splice(e,1),i=a.length,r)},r.records=function(e,t){return h(e)?h(a[e])?a[e]:h(t)?t:!1:a},r.undo=function(){s--,s=y(s,0,i-1);var e=a[s];return r.set(e[0]).select(e[1],e[2]).scroll(e[3])},r.redo=function(){s++,s=y(s,0,i-1);var e=a[s];return r.set(e[0]).select(e[1],e[2]).scroll(e[3])},r._={x:function(e){if(m(e)){for(var t=[],n=e.length;n--;)t.unshift(r._.x(e[n]));return t}return e.replace(w("["+r.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},extend:S,each:function(e,t,n){var r,i,l;if(n)for(r=0,i=e.length;i>r&&(l=t(e[r],r,e),l===!0||l!==!1);++r);else for(r in e)if(l=t(e[r],r,e),l!==!0&&l===!1)break;return e},css:T},r[0]=function(){return l=1,r},r[1]=function(e){return l=0,e===!1?r:r.record()},r.target=e,r});