/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.6.0
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function r(e){return e.toLowerCase()}function n(e){return"undefined"!=typeof e}function i(e){return"string"==typeof e}function l(e){return"number"==typeof e}function o(e){return"function"==typeof e}function a(e){return"object"==typeof e}function c(e){return"boolean"==typeof e}function s(e){return e instanceof RegExp?e.source||!0:!1}function u(e){return e instanceof HTMLElement}function f(e,t,r){return n(t)&&t>e?t:n(r)&&e>r?r:e}function p(e,t){return new RegExp(e,t)}function d(e,t){return 0===t?e.replace(/^\s*/,""):1===t?e.replace(/\s*$/,""):e.replace(/^\s*|\s*$/g,"")}function h(e,t){return parseInt(e,n(t)?t:10)}function b(e){return e.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})}function m(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function g(t,r){var l,o,n=e.getComputedStyle(t,null),i={};return r?(l=n[b(r)],o=h(l),0===o?0:o||l):function(){for(l in n)o=h(n[l]),i[m(l)]=0===o?0:o||n[l];return i}()}function v(e,t){t=t||{};for(var r in t)a(e[r])&&a(t[r])&&!u(e[r])&&!u(t[r])?e[r]=v(e[r],t[r]):e[r]=t[r];return e}!function(e){e.version="2.6.0",e.__instance__={},e.each=function(t,r){return setTimeout(function(){var n,r=e.__instance__;for(n in r)t(r[n],n,r)},0===r?0:r||1),e},e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alias={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",space:" ",plus:"+"};for(var t=1;25>t;++t)e.keys[111+t]="f"+t;for(var t=65;91>t;++t)e.keys[t]=r(String.fromCharCode(t));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function o(e,t){return e&&e!==!0?s(e)?t&&e.test(l):(e=r(e),t&&(n[e]||e)===l):l}var t=e.keys,n=e.keys_alias,i=this,l=i.key?r(i.key):t[i.which||i.keyCode];return a(l)&&(l=i.shiftKey?l[1]||l[0]:l[0]),l=r(l),{key:function(e){return o(e,1)},control:function(e){return o(e,i.ctrlKey)},shift:function(e){return o(e,i.shiftKey)},option:function(e){return o(e,i.altKey)},meta:function(e){return o(e,i.metaKey)}}}})}(e.TE=function(r){function C(){return r.value.replace(/\r/g,"")}function E(e){return s(e)||m._.x(e)}function B(l){var d,h,m,v,k,o="font-",a="text-",c="padding-",s="border-",u=["box-sizing","direction",o+"family",o+"size",o+"size-adjust",o+"stretch",o+"style",o+"variant",o+"weight","height","letter-spacing","line-height","overflow-x",c+"bottom",c+"left",c+"right",c+"top","tab-size",a+"align",a+"decoration",a+"indent",a+"transform","word-spacing"],f=t.body,p=u.length;for(f.appendChild(_),d=_.style,h=g(r),k=h.width,d.whiteSpace="pre-wrap",d.wordWrap="break-word",d.position="absolute",d.visibility="hidden";--p;)v=h[u[p]],d[b(u[p])]=i(v)?v:v+"px";return d.overflowY=r.scrollHeight>h.height?"scroll":"auto",n(e.mozInnerScreenX)?d.width=k+"px":d.width=k+L+"px",x.textContent=C().substring(l)||".",v=C().substring(0,l),_.textContent=v,_.appendChild(x),m={x:x.offsetLeft+h[s+"left-width"],y:x.offsetTop+h[s+"top-width"]},f.removeChild(_),m}var m=this,k=1,$=0,w=[[C(),0,0,0]],y=0,q={},_=t.createElement("div"),x=t.createElement("span"),T="	";if(!(m instanceof TE))return new TE(r);var L=function(){var i,e=t.createElement("div"),r=t.body,n=e.style;return r.appendChild(e),n.position="absolute",n.top=n.left="-9999px",n.width=n.height="100px",n.overflow="scroll",n.visibility="hidden",i=e.offsetWidth-e.clientWidth,r.removeChild(e),i}();m.type="",m.x="!$^*()-=+[]{}\\|:<>,./?",r.TE=m,TE.__instance__[r.id||r.name||Object.keys(TE.__instance__).length]=m,m.scroll=function(e){var t=r.scrollTop,i=g(r,"line-height"),l=g(r,"font-size");return n(e)?c(e)?m.scroll(m.scroll()[0]+(e===!1?-1:1)):(r.scrollTop=i*e+(i-l),m):[Math.floor(t/i),i]},m.set=function(e){return r.value=e,m},m.get=function(e){return n(e)?C().length?C():e:C()},m.save=function(e,t){return q[e]=t,m},m.restore=function(e,t){return n(e)?n(q[e])?q[e]:n(t)?t:"":q},m.focus=function(e,t){return e===!0?(e=C().length,t=r.scrollHeight):e===!1&&(e=t=0),n(e)&&(r.selectionStart=r.selectionEnd=e,r.scrollTop=t),r.focus(),m},m.blur=function(){return r.blur(),m},m.$=function(e){var t=C(),n=r.selectionStart,i=r.selectionEnd,l=t.substring(n,i),o=e?[B(n),B(i)]:[];return{start:n,end:i,value:l,before:t.substring(0,n),after:t.substring(i),caret:o,length:l.length}},m.select=function(){var u,e=arguments,n=e.length,i=t.documentElement,l=t.body,o=r,a="scrollTop",c=m.$(),s="TE.scroll";if(m.save(s,[i[a],l[a],o[a]]).focus(),0===n)e[0]=c.start,e[1]=c.end;else if(1===n){if(e[0]===!0)return o.select(),m;e[1]=e[0]}return o.setSelectionRange(e[0],e[1]),u=m.restore(s,[0,0,0]),i[a]=u[0],l[a]=u[1],o[a]=u[2],m},m.match=function(e,t){var r=m.$().value.match(e);return o(t)?t(r||[]):!!r},m.replace=function(e,t,r){var a,c,n=m.$(),i=n.before,l=n.after,o=n.value;return 0===r?i=i.replace(e,t):1===r?l=l.replace(e,t):o=o.replace(e,t),a=i.length,c=a+o.length,m.set(i+o+l).select(a,c).record()},m.replaceBefore=function(e,t){return m.replace(e,t,0)},m.replaceAfter=function(e,t){return m.replace(e,t,1)},m.insert=function(e,t,r){var n=/^[\s\S]*?$/;return m[0](),r&&m.replace(n,""),0===t?n=/$/:1===t&&(n=/^/),m.replace(n,e,t)[1]()},m.insertBefore=function(e,t){return m.insert(e,0,t)},m.insertAfter=function(e,t){return m.insert(e,1,t)},m.wrap=function(e,t,r){var n=m.$(),i=n.before,l=n.after,o=n.value;return r?m.replace(/^([\s\S]*?)$/,e+"$1"+t):m.set(i+e+o+t+l).select((i+e).length,(i+e+o).length).record()},m.unwrap=function(e,t,r){var a,c,s,u,n=m.$(),i=n.before,l=n.after,o=n.value;return e=E(e),t=E(t),s=p(e+"$"),u=p("^"+t),r?m.replace(p("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):s.test(i)&&u.test(l)?(a=i.replace(s,""),c=l.replace(u,""),m.set(a+o+c).select(a.length,(a+o).length).record()):m.select()},m.indent=function(e,t){var r=m.$();return e=n(e)?e:T,r.length?m.replace(p("^"+(t?"":"(?!$)"),"gm"),e):m.insert(e,0)},m.outdent=function(e){var t=m.$();return e=n(e)?e:T,e=E(e),t.length?m.replace(p("^"+e,"gm"),""):m.replace(p(e+"$"),"",0)},m.trim=function(e,t,r,n){e!==!1&&(e=e||""),t!==!1&&(t=t||""),r!==!1&&(r=r||""),n!==!1&&(n=n||"");var i=m.$(),l=i.before,o=i.after,a=i.value,c=e!==!1?d(l,1)+e:l,s=t!==!1?t+d(o,0):o,u=(r!==!1?r:"")+d(a)+(n!==!1?n:"");return m.set(c+u+s).select(c.length,(c+u).length)},m.toggle=function(e,t){return n(t)?(e===!0?e=0:e===!1&&(e=1),o(t[e])?(t[e](m,e),m):m.select()):m.select()},m.record=function(e,t){if($)return m;var r=w[y],i=m.$(),l=C(),o=i.start,c=i.end,e=n(e)?e:[l,o,c,m.scroll()];return r&&a(r)&&r[0]===l&&r[1]===o&&r[2]===c?m:(y++,w[n(t)?t:y]=e,k=w.length,m)},m.loss=function(e){return e===!0?(w=[w[0]],y=0,m):(e=n(e)?e:y,y>=e&&y--,w.splice(e,1),k=w.length,m)},m.records=function(e,t){return n(e)?n(w[e])?w[e]:n(t)?t:!1:w},m.undo=function(){y--,y=f(y,0,k-1);var e=w[y];return m.set(e[0]).select(e[1],e[2]).scroll(e[3])},m.redo=function(){y++,y=f(y,0,k-1);var e=w[y];return m.set(e[0]).select(e[1],e[2]).scroll(e[3])},m[0]=function(){return $=1,m},m[1]=function(e){return $=0,e===!1?m:m.record()},m.is=function(e,t){return t=n(t)?t:!1,s(e)?e.test(m.type)?m.type:t:m.type===e?m.type:t};var z,H={b:c,e:u,f:o,i:l,o:a,r:s,s:i,x:function(e){return!n(e)}};for(z in H)m.is[z]=H[z];return m._={x:function(e){if(a(e)){for(var t=[],r=e.length;r--;)t.unshift(m._.x(e[r]));return t}return e.replace(p("["+m.x.replace(/./g,"\\$&")+"]","g"),"\\$&")},extend:v,each:function(e,t,r){var n,i,l;if(r)for(n=0,i=e.length;i>n&&(l=t(e[n],n,e),l===!0||l!==!1);++n);else for(n in e)if(l=t(e[n],n,e),l!==!0&&l===!1)break;return e},trim:d,css:g,edge:f,pattern:p,i:h},m.target=r,m})}(window,document);