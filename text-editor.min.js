/*!
 * ==========================================================
 *  TEXT EDITOR PLUGIN 2.6.3
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function r(e){return e.toLowerCase()}function n(e){return e.toUpperCase()}function i(e){return"undefined"!=typeof e}function o(e){return"string"==typeof e}function u(e){return"number"==typeof e}function f(e){return"function"==typeof e}function l(e){return"object"==typeof e}function c(e){return e instanceof Array}function a(e){return"boolean"==typeof e}function s(e){return e instanceof RegExp?e.source||!0:!1}function p(e){return e instanceof HTMLElement}function d(e,t,r){return i(t)&&t>e?t:i(r)&&e>r?r:e}function h(e,t){return new RegExp(e,t)}function g(e,t){return 0===t?e.replace(/^\s*/,""):1===t?e.replace(/\s*$/,""):e.replace(/^\s*|\s*$/g,"")}function v(e,t){return parseInt(e,i(t)?t:10)}function m(e){return e.replace(/\-([a-z])/g,function(e,t){return n(t)})}function y(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+r(t)})}function b(t,r,n){var f,a,s,i=e.getComputedStyle(t,n),u={};if(l(r)){if(c(r)){i={};for(f in r)f=r[f],i[f.replace(/^\!/,"")]=b(t,f,n);return i}for(f in r)a=r[f],t.style[m(f)]=a?o(a)?a:a+"px":"";return t}return r?("!"===r[0]&&(r=r.slice(1),s=1),f=i[m(r)],a=s?f:v(f),0===a?0:a||f):function(){for(f in i)a=v(i[f]),u[y(f)]=0===a?0:a||i[f];return u}()}function w(e,t){t=t||{};for(var r in t)l(e[r])&&l(t[r])&&!p(e[r])&&!p(t[r])?e[r]=w(e[r],t[r]):e[r]=t[r];return e}function x(e,t){var r,n,i;if(c(e))for(r=0,n=e.length;n>r&&(i=t(e[r],r,e),i===!0||i!==!1);++r);else for(r in e)if(i=t(e[r],r,e),i!==!0&&i===!1)break;return e}!function(e){e.version="2.6.3",e.__instance__={},e.each=function(t,r){return setTimeout(function(){var n,r=e.__instance__;for(n in r)t(r[n],n,r)},0===r?0:r||1),e},e.keys={3:"cancel",6:"help",8:"backspace",9:"tab",12:"clear",13:"enter",16:"shift",17:"control",18:"alt",19:"pause",20:"capslock",27:"escape",28:"convert",29:"nonconvert",30:"accept",31:"modechange",33:"pageup",34:"pagedown",35:"end",36:"home",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",44:"printscreen",45:"insert",46:"delete",91:"meta",93:"contextmenu",144:"numlock",145:"scrolllock",181:"volumemute",182:"volumedown",183:"volumeup",224:"meta",225:"altgraph",246:"attn",247:"crsel",248:"exsel",249:"eraseeof",250:"play",251:"zoomout",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],32:" ",59:[";",":"],61:["=","+"],173:["-","_"],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},e.keys_alias={alternate:"alt",option:"alt",ctrl:"control",cmd:"meta",command:"meta",os:"meta",context:"contextmenu","return":"enter",ins:"insert",del:"delete",esc:"escape",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",back:"backspace",space:" ",plus:"+"};for(var t=1;25>t;++t)e.keys[111+t]="f"+t;for(var t=65;91>t;++t)e.keys[t]=r(String.fromCharCode(t));Object.defineProperty(KeyboardEvent.prototype,"TE",{configurable:!0,get:function(){function u(e,t){return e&&e!==!0?s(e)?t&&e.test(o):(e=r(e),t&&(n[e]||e)===o):o}var t=e.keys,n=e.keys_alias,i=this,o=i.key?r(i.key):t[i.which||i.keyCode];return l(o)&&(o=i.shiftKey?o[1]||o[0]:o[0]),o=r(o),{key:function(e){return u(e,1)},control:function(e){return u(e,i.ctrlKey)},shift:function(e){return u(e,i.shiftKey)},option:function(e){return u(e,i.altKey)},meta:function(e){return u(e,i.metaKey)}}}})}(e.TE=function(e){function K(){return e.value.replace(/\r/g,"")}function A(e){if(c(e)){var t,n=[];for(t in e)n[t]=A(e[t]);return n}return e.replace(h("["+r.x.replace(/./g,"\\$&")+"]","g"),"\\$&")}function j(e){return s(e)||A(e)}function L(t){var a,s,p,d,r="font-",n="text-",o="padding-",u="border-",f="-width",l="!",c=[u+"bottom"+f,u+"left"+f,u+"right"+f,u+"top"+f,"box-sizing","direction",l+r+"family",r+"size",l+r+"size-adjust",l+r+"stretch",l+r+"style",l+r+"variant",l+r+"weight","height","letter-spacing","line-height","overflow-x",o+"bottom",o+"left",o+"right",o+"top","tab-size",n+"align",n+"decoration",n+"indent",n+"transform","width","word-spacing"],l=c.length;return E.appendChild(T),a=T.style,s=b(e,c),d=s.width,b(T,w(s,{width:i(d.mozInnerScreenX)?d:d+z,"overflow-y":e.scrollHeight>s.height?"scroll":"auto","white-space":"pre-wrap","word-wrap":"break-word",position:"absolute",visibility:"hidden"})),C.textContent=K().substring(t)||".",T.textContent=K().substring(0,t),T.appendChild(C),p={x:C.offsetLeft+s[u+"left"+f],y:C.offsetTop+s[u+"top"+f]},E.removeChild(T),p}var r=this,n=1,m=0,y=[[K(),0,0,0]],$=0,k={},_=t.documentElement,E=t.body,T=t.createElement("div"),C=t.createElement("span"),S="	";if(!(r instanceof TE))return new TE(e);var z=function(){var i,e="-200px",r="200px",n=t.createElement("div");return E.appendChild(n),b(n,{position:"absolute",top:e,left:e,width:r,height:r,overflow:"scroll",visibility:"hidden"}),i=n.offsetWidth-n.clientWidth,E.removeChild(n),i}();r.type="",r.x="!$^*()-=+[]{}\\|:<>,./?",e.TE=r,TE.__instance__[e.id||e.name||Object.keys(TE.__instance__).length]=r,r.scroll=function(t){var n=e.scrollTop,o=b(e,["line-height","font-size"]);return i(t)?a(t)?r.scroll(r.scroll()[0]+(t===!1?-1:1)):(e.scrollTop=o[0]*t+o[1]+(o[0]-o[1]),r):[Math.floor(n/o[0]),o[0]]},r.set=function(t){return e.value=t,r},r.get=function(e){return i(e)?K().length?K():e:K()},r.save=function(e,t){return k[e]=t,r},r.restore=function(e,t){return i(e)?i(k[e])?k[e]:i(t)?t:"":k},r.focus=function(t,n){return t===!0?(t=K().length,n=e.scrollHeight):t===!1&&(t=n=0),i(t)&&(e.selectionStart=e.selectionEnd=t,e.scrollTop=n),e.focus(),r},r.blur=function(){return e.blur(),r},r.$=function(t){var r=K(),n=e.selectionStart,i=e.selectionEnd,o=r.substring(n,i),u=t?[L(n),L(i)]:[];return{start:n,end:i,value:o,before:r.substring(0,n),after:r.substring(i),caret:u,length:o.length}},r.select=function(){var f,t=arguments,n=t.length,i="scrollTop",o=r.$(),u="TE.scroll";if(r.save(u,[_[i],E[i],e[i]]).focus(),0===n)t[0]=o.start,t[1]=o.end;else if(1===n){if(t[0]===!0)return e.select(),r;t[1]=t[0]}return e.setSelectionRange(t[0],t[1]),f=r.restore(u,[0,0,0]),_[i]=f[0],E[i]=f[1],e[i]=f[2],r},r.match=function(e,t){var n=r.$().value.match(e);return f(t)?t(n||[]):!!n},r.replace=function(e,t,n){var l,c,i=r.$(),o=i.before,u=i.after,f=i.value;return 0===n?o=o.replace(e,t):1===n?u=u.replace(e,t):f=f.replace(e,t),l=o.length,c=l+f.length,r.set(o+f+u).select(l,c).record()},r.replaceBefore=function(e,t){return r.replace(e,t,0)},r.replaceAfter=function(e,t){return r.replace(e,t,1)},r.insert=function(e,t,n){var i=/^[\s\S]*?$/;return n&&r.replace(i,"").loss(),0===t?i=/$/:1===t&&(i=/^/),r.replace(i,e,t)},r.insertBefore=function(e,t){return r.insert(e,0,t)},r.insertAfter=function(e,t){return r.insert(e,1,t)},r.wrap=function(e,t,n){var i=r.$(),o=i.before,u=i.after,f=i.value;return n?r.replace(/^([\s\S]*?)$/,e+"$1"+t):r.set(o+e+f+t+u).select((o+e).length,(o+e+f).length).record()},r.unwrap=function(e,t,n){var l,c,a,s,i=r.$(),o=i.before,u=i.after,f=i.value;return e=j(e),t=j(t),a=h(e+"$"),s=h("^"+t),n?r.replace(h("^"+e+"([\\s\\S]*?)"+t+"$"),"$1"):a.test(o)&&s.test(u)?(l=o.replace(a,""),c=u.replace(s,""),r.set(l+f+c).select(l.length,(l+f).length).record()):r.select()},r.indent=function(e,t){var n=r.$();return e=i(e)?e:S,n.length?r.replace(h("^"+(t?"":"(?!$)"),"gm"),e):r.insert(e,0)},r.outdent=function(e){var t=r.$();return e=i(e)?e:S,e=j(e),t.length?r.replace(h("^"+e,"gm"),""):r.replace(h(e+"$"),"",0)},r.trim=function(e,t,n,i){e!==!1&&(e=e||""),t!==!1&&(t=t||""),n!==!1&&(n=n||""),i!==!1&&(i=i||"");var o=r.$(),u=o.before,f=o.after,l=o.value,c=e!==!1?g(u,1)+e:u,a=t!==!1?t+g(f,0):f,s=(n!==!1?n:"")+g(l)+(i!==!1?i:"");return r.set(c+s+a).select(c.length,(c+s).length)},r.toggle=function(e,t){return i(t)?(e===!0?e=0:e===!1&&(e=1),f(t[e])?(t[e](r,e),r):r.select()):r.select()},r.record=function(e,t){if(m)return r;var o=y[$],u=r.$(),f=K(),c=u.start,a=u.end,e=i(e)?e:[f,c,a,r.scroll()[0]];return o&&l(o)&&o[0]===f&&o[1]===c&&o[2]===a?r:($++,y[i(t)?t:$]=e,n=y.length,r)},r.loss=function(e){return e===!0?(y=[y[0]],$=0,r):(e=i(e)?e:$,$>=e&&$--,y.splice(e,1),n=y.length,r)},r.records=function(e,t){return i(e)?i(y[e])?y[e]:i(t)?t:!1:y},r.undo=function(){$--,$=d($,0,n-1);var e=y[$];return r.set(e[0]).select(e[1],e[2]).scroll(e[3])},r.redo=function(){$++,$=d($,0,n-1);var e=y[$];return r.set(e[0]).select(e[1],e[2]).scroll(e[3])},r[0]=function(){return m=1,r},r[1]=function(e){return m=0,e===!1?r:r.record()},r.is=function(e,t){return t=i(t)?t:!1,s(e)?e.test(r.type)?r.type:t:r.type===e?r.type:t};var O,H={a:c,b:a,e:p,f:f,i:u,n:function(e){return null===e},o:l,r:s,s:o,x:function(e){return!i(e)}};for(O in H)r.is[O]=H[O];return r._={x:A,extend:w,each:x,trim:g,css:b,edge:d,pattern:h,i:v},r.target=e,r})}(window,document);