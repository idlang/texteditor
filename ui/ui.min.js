/*!
 * ==========================================================
 *  USER INTERFACE MODULE FOR TEXT EDITOR PLUGIN 1.2.1
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
TE.prototype.ui=function(e){function t(e){return e instanceof HTMLElement}function n(e){return void 0!==e}function r(e){return"function"==typeof e}function o(e){return"string"==typeof e}function i(e){return"object"==typeof e}function l(e){return"number"==typeof e}function a(e,t,r){return n(e)?n(t)?(n(on[e])||(on[e]={}),n(r)||(r=Object.keys(on[e]).length),on[e][r]=t,Jt):on[e]:on}function c(e,t){return n(e)?n(t)&&n(on[e])?(delete on[e][t],Jt):(on[e]={},Jt):(on={},Jt)}function u(e,t,r){if(!n(on[e]))return on[e]={},Jt;if(n(r))n(on[e][r])&&on[e][r].apply(Jt,t);else for(var o in on[e])on[e][o].apply(Jt,t);return Jt}function s(e){return e&&e.preventDefault(),!1}function f(e,t,n){return t?(t.addEventListener(e,n,!1),a("on:"+e,n,C(t)),Jt):void 0}function p(e,t,n){return t?(t.removeEventListener(e,n,!1),c("on:"+e,C(t)),Jt):void 0}function d(e,t,n){if("createEvent"in Gt){var r=Gt.createEvent("HTMLEvents");r.data=n,r.initEvent(e,!0,!1),t.dispatchEvent(r)}else u("on:"+e,n,C(t));return Jt}function h(e,t,n){e=$(e).split(/\s+/);for(var r=0,o=e.length;o>r;++r)f(e[r],t,n);return Jt}function g(e,t,n){e=$(e).split(/\s+/);for(var r=0,o=e.length;o>r;++r)p(e[r],t,n);return Jt}function b(e,t,n){e=$(e).split(/\s+/);for(var r=0,o=e.length;o>r;++r)d(e[r],t,n);return Jt}function m(e,t){Qt.setTimeout(e,t)}function v(e){Qt.clearTimeout(e)}function $(e){return e.replace(/^\s*|\s*$/g,"")}function y(e,t,r){return n(t)&&t>e?t:n(r)&&e>r?r:e}function k(e,t){return e.replace(/%(\d+)/g,function(e,r){return--r,n(t[r])?t[r]:e})}function w(e){return $(e.toLowerCase().replace(/[^ \/a-z\d-]/g,"-").replace(/([ -])+/g,"$1").replace(/^-|-$/g,""))}function x(e,t){return RegExp(e,t)}function _(e,t){var n=t.touches?t.touches[0].pageX:t.pageX,r=t.touches?t.touches[0].pageY:t.pageY,o=T(e);return{x:n-o.l,y:r-o.t}}function T(e){for(var t=e.offsetLeft,n=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop;return{l:t,t:n}}function E(e){return{w:e.offsetWidth,h:e.offsetHeight}}function q(e,t){for(;(e=S(e))&&e!==t;);return e}function L(e){function t(){var e=_t.firstChild;e&&(e=E(e),I({width:e.w+"px",height:e.h+"px"}))}var n,r=Jt.get(),o="";return-1===r.indexOf("</html>")&&(o='<!DOCTYPE html><html dir="'+an.dir+'"><head><meta charset="utf-8"><style>'+an.css+"</style></head><body>"+r+"</body></html>"),n=O("iframe",!1,{class:ft+"-portal",src:"data:text/html,"+encodeURIComponent(o)}),!N(_t)&&r?qn.overlay(n,1,function(){t(),h(yn,Qt,t),u("enter.overlay.preview",[e,Jt,[r,o],_t.firstChild])}):(g(yn,Qt,t),nt()),s(e)}function O(e,l,a){var c,u;if(e=o(e)?Gt.createElement(e):e,i(a))for(u in a)c=a[u],"style"===u?o(c)?e.setAttribute(u,c):null===c?e.removeAttribute(u):e=I(e,c):r(c)?e[u]=c:null===c?e.removeAttribute(u):e.setAttribute(u,i(c)?c.join(" "):""+c);if(t(l))e.appendChild(l);else if(i(l))for(u in l)c=l[u],t(c)?e.appendChild(c):c!==!1&&(e.innerHTML=c);else n(l)&&l!==!1&&(e.innerHTML=l);return e}function C(e){var t=e.id;return t||(t=ft+"-dom:"+(new Date).getTime(),e.id=t),t}function I(e,t){e=O(e);for(var n in t)e.style[n.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]=t[n];return e}function M(e,t){return x("(^|\\s)"+t+"(\\s|$)").test(e.className)}function z(e,t){M(e,t)||(e.className=$(e.className+" "+t))}function H(e,t){e.className=$(e.className.replace(x("(^|\\s)"+t+"(\\s|$)"),"$1$2"))}function R(e,t){e.innerHTML=t}function j(e,t){if(t!==!1){var n,r=e.children;for(n in r)j(r[n])}R(e,"")}function S(e){return e.parentElement||e.parentNode}function D(e){return e.children||[]}function N(e){var t=S(e);return 1===arguments.length?t||!1:e&&t===e?t:!1}function A(e,t){S(e).insertBefore(t,e)}function U(e,t){e.appendChild(t)}function Y(e,t){var n,r=N(e);if(r){if(t!==!1)for(n=D(e)[0];n;)Y(n);r.removeChild(e)}}function P(e){j(O(e,!1,{style:""})),Y(e)}function F(e,t,n){return O(t||"div",n,{class:e})}function W(){if(ht._word&&ht._words){var e=(kt.value||"").replace(/<[^<>]+?>/g,""),t=(e.match(/(\w+)/g)||[]).length;R(Ot,k(ht["_word"+(1===t?"":"s")],[t]))}}function K(){var e,t,l,a,c,s,f,p,d,g;j(yt,!1),e=o(an.tools)?$(an.tools).split(/\s+/):an.tools,t=ft+"-button",l=ft+"-separator",an.tools=e;for(p in e)d=e[p],qn.tools[d]&&(c=qn.tools[d],r(c)&&(c.click=c),c.title=pt[d]||"","|"!==(s=c.i||d)&&(s=w(s)),f="|"!==s,zt=F(f?t:l,f?"a":"span"),f&&(a=t+":"+w(d).replace(/\s/g,""),zt.href="",zt.id=a,zt.tabIndex=-1,zt.setAttribute(En,d),s='<i class="'+k(st.i,[s])+" "+a+'"></i>',n(c.active)?c.active||z(zt,"x"):c.active=1,c.text&&(s=k('<span class="'+ft+'-text">'+c.text+"</span>",[s]),z(zt,"text")),R(zt,s),c.title&&(g=c.title,zt.title=i(g)?g[0]+(g[1]?" ("+g[1]+")":""):g),i(c.attributes)&&O(zt,!1,c.attributes),h(bn,zt,J)),U(yt,zt));u("update.tools",[Jt])}function X(){qn.keys=function(){var e,t=Object.keys(qn.keys).sort().reverse(),n={};for(e=0,len=t.length;len>e;++e)n[t[e]]=qn.keys[t[e]];return n}(),Q(1),u("update.keys",[Jt])}function B(e){W(),u("on:change",[e,Jt])}function Z(e){function t(e){return e.replace(/\+/g,"\n").replace(/\n\n/g,"\n+").split("\n")}var r,i,l,a,c,u,f,p=Jt.$(),d=p.before,h=p.after,g=d.slice(-1),b=h[0],v=p.length,$=qn.keys,y=TE.keys_alias,k=(d.match(/(?:^|\n)([\t ]*).*$/)||[""]).pop(),w=e.TE.key();Ht[w]=1,u=Object.keys(Ht).length,m(function(){Jt.record()},1);for(r in $){f=0,l=t(r);for(i in l)i=l[i],Ht[y[i]||i]&&++f;if(l=l.length,f===l&&u===l&&(o($[r])&&($[r]=qn.tools[$[r]].click),a=$[r]&&$[r](e,Jt),a===!1))return s(e)}if(Tn)for(r in Tn)if(c=Tn[r],c!==!1){if(b===w&&n(Tn[w]))return"\\"===g?(Jt.insert(w,-1),s(e)):(Jt.select(p.end+1),s(e));if(r===w)return Jt.wrap(r,c),s(e);if(g===r&&b===c){if("backspace"===w&&d.slice(-2)!=="\\"+r)return Jt.unwrap(r,c),s(e);if(_n&&"enter"===w&&r!==c)return Jt.tidy("\n"+k+xn,"\n"+k).scroll("+1"),s(e)}}if(_n&&!v){if("backspace"===w&&x(Vt(xn)+"$").test(d))return Jt.outdent(xn),s(e);if("enter"===w&&x("(^|\\n)("+Vt(xn)+")+.*$").test(d))return Jt.insert("\n"+k,-1,1).scroll("+1"),s(e)}}function Q(e){i(e)?delete Ht[e.TE.key()]:Ht={}}function G(e){/^focus|blur$/.test(e.type)&&Q(1),v(Rt),Rt=m(function(){B(e)},1e3)}function J(e){qn.exit(0,0,0);var t=this.getAttribute(En),n=qn.tools;return Mt=e.currentTarget||e.target,n[t]&&n[t].click&&n[t].active?(n[t].click(e,Jt,t),u("on:change",[e,Jt,t])):Jt.select(),s(e)}function V(e){return jt=wt,Ft=E($t),s(e)}function et(e){jt===wt&&I(kt,{height:_(vt,e).y-Ft.h+"px"})}function tt(){jt=0}function nt(){qn.exit(1)}function rt(){e=E(Tt),Nt=e.w,At=e.h,e=E(_t),Ut=e.w,Yt=e.h}function ot(e,t){t&&u("exit.modal."+t,[Jt]),b(bn,_t,[e])}function it(t){jt=t.target,e=_(Tt,t),St=e.x,Dt=e.y,rt()}function lt(t){var n,r,o=Pt.header,i=Pt.resize;jt===o||q(jt,o)===o?(e=_(vt,t),n=e.x-St,r=e.y-Dt,I(Tt,{left:(Nt>Ut?n:y(n,0,Ut-Nt))+"px",top:(At>Yt?r:y(r,0,Yt-At))+"px"})):jt===i&&(e=_(Tt,t),Ft=E(i),I(Tt,{width:e.x+Ft.w/4+"px",height:e.y+Ft.h/4+"px"}))}function at(){jt=0}function ct(e,t,n){return{header:e,body:t,footer:n}}function ut(e){var t=Mt,n=e&&e.target||0;(!n||n!==t&&q(n,t)!==t)&&(Mt=0,P(Et),g(bn,rn,ut),qn.exit(1))}var st,ft,pt,dt,ht,gt,bt,mt,vt,$t,yt,kt,wt,xt,_t,Tt,Et,qt,Lt,Ot,Ct,It,Mt,zt,Ht,Rt,jt,St,Dt,Nt,At,Ut,Yt,Pt,Ft,Wt,Kt="\u2318",Xt="\u2026",Bt="\u21e5",Zt="\u21e7",Qt=window,Gt=document,Jt=this,Vt=Jt._.x,en=Jt._.extend,tn=Jt._.css,nn=Gt.documentElement,rn=(Gt.head,Gt.body),on={},ln=function(){},an=en({tab:"  ",dir:"ltr",keys:1,tools:"indent outdent | undo redo",attributes:{spellcheck:"false"},css:"html,body{background:#fff;color:#000}",auto_tab:1,auto_close:{'"':'"',"'":"'","(":")","{":"}","[":"]","<":">"},languages:{tools:{undo:["Undo",Kt+"+Z"],redo:["Redo",Kt+"+Y"],indent:["Indent",Bt],outdent:["Outdent",Zt+"+"+Bt],preview:["Preview","F5"]},buttons:{okay:"OK",cancel:"Cancel",yes:"Yes",no:"No",enter:"Enter",exit:"Exit",open:"Open",close:"Close",ignore:"Ignore"},placeholders:{"":"text here"+Xt},others:{preview:"Preview",_word:"%1 Word",_words:"%1 Words"}},classes:{editor:"TE",i:"fa fa-%1"}},e),cn="keydown",un="keyup",sn="copy",fn="cut",pn="paste",dn="mousedown touchstart",hn="mouseup touchend",gn="mousemove touchmove",bn="click",mn="focus",vn="blur",$n="input",yn="resize orientationchange",kn=vn+" "+sn+" "+fn+" "+mn+" "+$n+" "+cn+" "+pn,wn=an.languages,xn=an.tab,_n=an.auto_tab,Tn=an.auto_close,En="data-tool-id",qn=Jt.ui={};return Jt.tidy=function(e,t){var r=Jt.$(),o=$(r.before)?e:"",i=$(r.after)?n(t)?t:e:"";return Jt.trim(o,i)},Jt.i=function(){return Jt.replace(/\s+/g," ")},Jt.format=function(e,t,r,o){n(r)||(r=" "),n(o)||(o="");var i=Jt[0]().$(),l="<"+e+">"+o,a=o+"</"+e.split(/\s+/)[0]+">",c=Vt(l),u=Vt(a),s=x("^"+c+"([\\s\\S]*?)"+u+"$"),f=x(c+"$"),p=x("^"+u),d=i.before,h=i.after;return i.length?r=!1:Jt.insert(wn.placeholders[""]),Jt.toggle(t?!s.test(i.value):!f.test(d)&&!p.test(h),[function(e){e.unwrap(l,a,1).tidy(/<[^\/<>]+?>$/.test(d)?"":r,/^<\/[^<>]+?>/.test(h)?"":r).wrap(l,a,t)[1]()},function(e){e.unwrap(l,a,t)[1]()}])},st=an.classes,ft=st.editor,pt=wn.tools,dt=wn.buttons,ht=wn.others,gt=ft+"-textarea "+ft+"-content block",bt=F(ft),mt=F(ft+"-header"),vt=F(ft+"-body"),$t=F(ft+"-footer"),yt=F(ft+"-tool"),kt=O(Jt.target,!1,an.attributes),wt=F(ft+"-resize s"),xt=F(ft+"-description"),_t=F(ft+"-overlay"),Tt=O("div"),Et=O("div"),qt=O("div"),Lt=F("left","span"),Ot=F("right","span"),Ct=F(ft+"-preview","a"),It=0,Mt=0,h(bn,Ct,L),Ht={},Rt=null,Jt.create=function(e,t){var n,r;return i(e)&&(an=en(an,e)),n=N(kt),z(kt,gt),n&&"P"===n.nodeName?(A(n,bt),It=n,Y(n,!1)):A(kt,bt),bt.dir=an.dir,U(bt,mt),U(bt,vt),U(bt,$t),U(bt,wt),U(vt,kt),an.tools&&(U(mt,yt),U($t,xt),U(xt,Lt),U(xt,Ot)),h(cn,kt,Z),h(un,kt,Q),h(kn,kt,G),h(dn,wt,V),h(gn,rn,et),h(hn,rn,tt),ht.preview&&(r=pt.preview,Ct.href="",Ct.title=i(r)?r[0]+(r[1]?" ("+r[1]+")":""):r,U(Lt,Ct),R(Ct,ht.preview)),B(null),K(),X(),0!==t?u("create",[Jt]):Jt},Jt.update=function(e,t){return M(kt,gt)&&Jt.destroy(0),(0!==t?u("update",[Jt]):Jt).create(e,0)},Jt.destroy=function(e){return M(kt,gt)?(qn.exit(0,0,0),H(kt,gt),i(an.tools)&&(an.tools=an.tools.join(" ")),an.keys&&(g(cn,kt,Z),g(un,kt,Q)),g(dn,wt,V),g(gn,rn,et),g(hn,rn,tt),g(kn,kt,G),It?(A(bt,It),U(It,kt),It=0):A(bt,kt),P(bt),0!==e?u("destroy",[Jt]):Jt):Jt},jt=0,St=0,Dt=0,Nt=0,At=0,Ut=0,Yt=0,Pt={},qn.exit=function(e,t,n){var r,o={overlay:function(){g(bn,_t,nt),P(_t)},modal:function(){g(dn,vt,it),g(gn,vt,lt),g(hn,rn,at),g(bn,Pt.x,ot),P(Tt)},drop:function(){P(Et)},bubble:function(){P(qt)}};if(t)if(i(t))for(r in t)r=t[r],o[r]&&o[r](),0!==n&&u("exit."+r,[Jt]);else o[t]&&o[t](),0!==n&&u("exit."+r,[Jt]);else for(r in o)o[r]();return e&&Jt.select(),0!==n&&u("exit",[Jt]),Jt},qn.overlay=function(e,n,o){return qn.exit(0,"bubble",0),Q(1),U(vt,O(_t,e.length||t(e)?F(ft+"-overlay-content","div",e):"")),n&&h(bn,_t,nt),r(o)?o(_t):O(_t,o),u("enter.overlay",[Jt])},qn.modal=function(){var e,t,o,l,a,c,f,p;qn.exit(0,0,0),e=arguments,t=e[0],o=e[1],l=e[2],a=ft+"-modal",i(t)&&(t="default",o=e[0],l=e[1]),O(Tt,!1,{class:a+" "+t}),n(o.body)&&(o.body=O("div",o.body,{class:a+"-content "+t}));for(c in o)a[1]=c,Pt[c]=F(a+"-"+k(c,a)+" "+t,0,o[c]);return Pt.x=F(ft+"-x "+t),Pt.resize=F(ft+"-resize se "+t),j(Tt),U(vt,O(Tt,Pt,{style:""})),qn.overlay("",1),rt(),f=Yt/2-At/2,p=Ut/2-Nt/2,I(Tt,{top:y(f,0)+"px",left:y(p,0)+"px","min-width":Nt+"px","min-height":At+"px",visibility:"visible"}),h(bn,Pt.x,ot),h(dn,Pt.header,s),h(dn,Pt.resize,s),h(dn,vt,it),h(gn,vt,lt),h(hn,rn,at),r(l)&&(Pt.overlay=_t,Pt.modal=Tt,l(Pt)),u("enter.modal."+t,[Jt]),u("enter.modal",[Jt]),Jt},Wt={class:ft+"-button"},qn.alert=function(e,t,n,r){var o=O("button",dt.okay,Wt),l="alert";return n=n||ln,i(e)&&(l+=":"+e[0],e=e[1]||e[0]),h(bn,o,function(e){return n(e,Jt),ot(e,l+".y"),s(e)}),h(cn,o,function(e){var t=e.TE.key;return t(/^escape|enter$/)?b(bn,o,[e,Jt]):void 0}),m(function(){o.focus()},1),qn.modal(l,ct(e,t,o),r)},qn.confirm=function(e,t,n,o,l){function a(e){return r(n)&&n(e,Jt),ot(e,d+".y"),s(e)}function c(e){return r(o)&&o(e,Jt),ot(e,d+".n"),s(e)}var u,f=O("button",dt.okay,Wt),p=O("button",dt.cancel,Wt),d="confirm";return i(e)&&(d+=":"+e[0],e=e[1]||e[0]),h(bn,f,a),h(bn,p,c),h(cn,f,function(e){return u=e.TE.key,u("arrowright")?(p.focus(),s(e)):u("arrowleft")?s(e):u("enter")?(a(e),s(e)):u("escape")?(ot(e,d+".y"),s(e)):void 0}),h(cn,p,function(e){return u=e.TE.key,u("arrowright")?s(e):u("arrowleft")?(f.focus(),s(e)):u("enter")?(c(e),s(e)):u("escape")?(ot(e,d+".n"),s(e)):void 0}),m(function(){p.focus()},1),qn.modal(d,ct(e,t,[f,p]),l)},qn.prompt=function(e,t,n,o,l,a){function c(){k.focus(),"placeholder"in k&&k.select()}function u(e){return b=k.value,!n||$(b)&&b!==t?(ot(e,w+".y"),s(e),o(e,Jt,b!==t?b:"",t)):(c(),p(e))}function f(e){return ot(e,w+".n"),s(e)}function p(e){return s(e)}var d,g,b,v=O("button",dt.okay,Wt),y=O("button",dt.cancel,Wt),k=O("input",!1,{type:"text",value:t,placeholder:t,spellcheck:"false",class:ft+"-input block"}),w="prompt",x=[];if(i(e)&&(w+=":"+e[0],e=e[1]||e[0]),r(l)&&(a=l,l=0),1===l)k=O("textarea",t,{placeholder:t.split("\n")[0],class:ft+"-textarea block"});else if(2===l){for(g in t)x.push(O("option",t[g],{value:g,selected:g===n||null}));k=O("select",x,{class:ft+"-select block"})}return o=o||ln,h(cn,k,function(e){return d=e.TE.key,d("enter")?u(e):d("escape")||d("backspace")&&!this.value?f(e):d("arrowup")?p(e):d("arrowdown")?(v.focus(),s(e)):void 0}),h(cn,v,function(e){return d=e.TE.key,d("enter")?u(e):d("escape")?f(e):d("arrowup")?(k.focus(),s(e)):d("arrowright")?(y.focus(),s(e)):d(/^arrow(down|left)$/)?p(e):void 0}),h(cn,y,function(e){return d=e.TE.key,d(/^enter|escape$/)?f(e):d("arrowup")?(k.focus(),s(e)):d(/^arrow(right|down)$/)?p(e):d("arrowleft")?(v.focus(),s(e)):void 0}),h(bn,v,u),h(bn,y,f),m(c,.4),qn.modal(w,ct(e,k,[v,y]),a)},qn.drop=function(){var e,t,n,o,i,l,a,c;return qn.exit(0,0,0),e=arguments,t=e[0],n=e[1],1===e.length&&(t="default",n=e[0]),U(rn,O(Et,!1,{class:ft+"-drop "+t})),r(n)?n(Et):O(Et,n),o=E(nn),i=E(Et),l=o.w/2-i.w/2,a=o.h/2-i.h/2,Mt&&(c=T(Mt),l=c.l,a=c.t+E(Mt).h),I(Et,{left:y(l,0,o.w-i.w)+"px",top:y(a,0,o.h-i.h)+"px",visibility:"visible"}),h(bn,rn,ut),u("enter.drop."+t,[Jt]),u("enter.drop",[Jt]),Jt},qn.menu=function(e,t,n,r){var l='<span class="'+ft+'-current menu">%1</span>',a="";return t===!1?qn.tool(e,t):(i(t)&&(a=t[0],t=t[1],l='<i class="'+k(st.i,[a])+'"></i> '+l),qn.tool(e,{i:a,text:k(l,[t,a]),click:function(){var e,t,r,i,c={class:ft+"-button"};qn.drop("menu",function(u){j(u);for(t in n)c[En]=t,e=O("span",t,c),n[t]&&h(bn,e,function(e){return i=n[this.getAttribute(En)],o(i)&&(i=qn.tools[i].click),r=i&&i(e,Jt),Mt&&R(Mt.firstChild||Mt,k(l,[this.innerHTML,a])),r===!1?s(e):void 0}),U(u,e)})}},r),u("update.menus",[Jt]),Jt)},qn.bubble=function(){qn.exit(0,0,0);var e,t,n,o,i,l,a=arguments,c=a[0],s=a[1],f=Jt.$(1),p=T(kt),d=tn(kt,"line-height"),h="border-",g="-width";return 1===a.length&&(c="default",s=a[0]),r(s)?s(qt):O(qt,s),U(rn,O(qt,!1,{class:ft+"-bubble "+c})),e=f.caret[0].x+p.l-kt.scrollLeft,t=f.caret[1].y+p.t+d-kt.scrollTop,n=E(vt),o=E(qt),i=tn(vt,h+"top"+g)+tn(vt,h+"bottom"+g),l=tn(vt,h+"left"+g)+tn(vt,h+"right"+g),I(qt,{left:y(e,p.l,p.l+n.w-o.w-l)+"px",top:y(t,p.t,p.t+n.h-o.h-i)+"px",visibility:"visible"}),u("enter.bubble."+c,[Jt]),u("enter.bubble",[Jt]),Jt},qn.tool=function(e,t,r){var o="";return"|"!==e&&(an.tools=an.tools.filter(function(t,n){return t===e?(o=n,!1):!0})),t===!1?delete qn.tools[e]:("|"===e?(r=t,t={}):(qn.tools[e]=en(qn.tools[e]||{},t),n(r)||""===o||(r=o)),l(r)?an.tools.splice(r,0,e):an.tools.push(e)),K(),Jt},qn.key=function(e,t){return an.keys?(t===!1?delete qn.keys[e]:qn.keys[e]=t,X(),Jt):Jt},qn.tools={"|":1,undo:{i:"undo",click:function(e,t){return t.undo(),!1}},redo:{i:"repeat",click:function(e,t){return t.redo(),!1}},indent:function(e,t){return t.indent(xn),!1},outdent:function(e,t){return t.outdent(xn),!1}},qn.keys={"control+y":"redo","control+z":"undo",f5:function(e){return L(e),!1},"shift+tab":_n?"outdent":0,tab:_n?"indent":0,escape:function(){return Ct.focus(),!1}},qn.el={container:bt,header:mt,body:vt,footer:$t,overlay:_t,modal:Tt,drop:Et,bubble:qt},Jt.config=an,en(Jt._,{time:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),o=e.getHours(),i=e.getMinutes(),l=e.getSeconds(),a=e.getMilliseconds();return 10>n&&(n="0"+n),10>r&&(r="0"+r),10>o&&(o="0"+o),10>i&&(i="0"+i),10>l&&(l="0"+l),10>a&&(a="0"+a),[""+t,""+n,""+r,""+o,""+i,""+l,""+a]},format:k,el:O,event:{set:h,reset:g,fire:b,x:s},hooks:on,hook:{set:a,reset:c,fire:u}}),Jt.ui};